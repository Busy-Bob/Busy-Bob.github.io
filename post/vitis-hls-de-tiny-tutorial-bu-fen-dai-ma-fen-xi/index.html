<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="å‹ºæµ·çš„ä¸ªäººåšå®¢">
<meta name="description" content="å°½åº”å°½ä¹‹äº‹ï¼Œåšè®©è‡ªå·±å¼€å¿ƒçš„äº‹ã€‚">
<meta name="theme-color" content="#000">
<title>Vitis HLS çš„Tiny Tutorialéƒ¨åˆ†ä»£ç åˆ†æ | å‹ºæµ·çš„åšå®¢</title>
<link rel="shortcut icon" href="/favicon.ico?v=1610269908744">
<link rel="stylesheet" href="/styles/main.css">
<link rel="stylesheet" href="/media/css/pisces.css">

<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/zenburn.css"
  rel="stylesheet">

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>

<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>



  <meta name="description" content="Vitis HLS çš„Tiny Tutorialéƒ¨åˆ†ä»£ç åˆ†æ" />
  <meta name="keywords" content="Verilog,HLS,FPGA" />
</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="pisces">
  <header class="header  ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>å‹ºæµ·çš„åšå®¢</span>
            </a>  
          
        </div>
        
          <p class="subtitle">å°½åº”å°½ä¹‹äº‹ï¼Œåšè®©è‡ªå·±å¼€å¿ƒçš„äº‹ã€‚</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> é¦–é¡µ
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> æ–‡ç« 
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> æ ‡ç­¾
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/post/about/" target="_self">
                  <i class="fa fa-user"></i> å…³äº
                </a>
              
            </li>
          
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout pisces ">
      <div class="section-layout-wrapper">
        

<div class="sidebar">
  
    <div class="sidebar-box box-shadow-wrapper bg-color right-motion" id="sidebar">
      
        <div class="post-list-sidebar">
          <div class="sidebar-title">
            <span id="tocSideBar" class="sidebar-title-item sidebar-title-active">æ–‡ç« ç›®å½•</span>
            <span id="metaSideBar" class="sidebar-title-item">ç«™ç‚¹æ¦‚è§ˆ</span>
          </div>
        </div>
      
      <div class="sidebar-body pisces" id="sidebar_body">
        
          
            <div class="post-side-meta" id="post_side_meta">
              
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">å‹ºæµ·</p>
    
    <div class="site-description right-motion">
      
        <p id="binft">æ²‰è¿·äºçŸ¥è¯†æœ¬èº«</p>
      
    </div>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">14</span>
        <span class="site-item-stat-name">æ–‡ç« </span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">16</span>
        <span class="site-item-stat-name">åˆ†ç±»</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">16</span>
        <span class="site-item-stat-name">æ ‡ç­¾</span>
      </a>
    </div>
  </div>
  
    
      <div class="sidebar-item">
        <span class="site-item-rss">
            <i class="fa fa-rss"></i>
            <a href="https://Busy-Bob.github.io/atom.xml" target="_blank">RSS</a>
        </span>
      </div>
    
  
  
    <div class="sidebar-item sidebar-item-social">
      <div class="social-item">
        
          
            <a href="https://github.com/Busy-Bob">
              <i class="fa fa-github-alt" title="github"></i>
            </a>
          
        
        
      </div>
    </div>
  

  


</div>
            </div>
            <div class="post-toc sidebar-body-active" id="post_toc" style="opacity: 1;">
              <div class="toc-box right-motion">
  <div class="toc-wrapper auto-number auto"
    id="toc_wrapper">
    <ul class="markdownIt-TOC">
<li><a href="#%E8%83%8C%E6%99%AF%E4%BB%8B%E7%BB%8D">èƒŒæ™¯ä»‹ç»</a></li>
<li><a href="#%E5%86%85%E5%AE%B9">å†…å®¹</a></li>
</ul>

  </div>
</div>

<script>

  let lastTop = 0, lList = [], hList = [], postBody, lastIndex = -1;
  let active = 'active-show', activeClass = 'active-current';
  let tocWrapper = document.querySelector('#toc_wrapper');
  let tocContent = tocWrapper.children[0];
  let autoNumber = tocWrapper && tocWrapper.classList.contains('auto-number');

  function addTocNumber(elem, deep) {
    if (!elem) {
      return;
    }
    let prop = elem.__proto__;

    if (prop === HTMLUListElement.prototype) {
      for (let i = 0; i < elem.children.length; i++) {
        addTocNumber(elem.children[i], deep + (i + 1) + '.');
      }
    } else if (prop === HTMLLIElement.prototype) {
      // ä¿å­˜liå…ƒç´ 
      if (elem.children[0].__proto__ === HTMLAnchorElement.prototype) {
        lList.push(elem);
      }
      for (let i = 0; i < elem.children.length; i++) {
        let cur = elem.children[i];
        if (cur.__proto__ === HTMLAnchorElement.prototype) {
          if (autoNumber) {
            cur.text = deep + ' ' + cur.text;
          }
        } else if (cur.__proto__ === HTMLUListElement.prototype) {
          addTocNumber(cur, deep);
        }
      }
    }
  }

  function removeParentActiveClass() {
    let parents = tocContent.querySelectorAll('.' + active)
    parents.forEach(function (elem) {
      elem.classList.remove(active);
    });
  }

  function addActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.add(activeClass);
    }
  }

  function removeActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.remove(activeClass);
    }
  }

  function addActiveLiElemment(elem, parent) {
    if (!elem || elem === parent) {
      return;
    } else {
      if (elem.__proto__ === HTMLLIElement.prototype) {
        elem.classList.add(active);
      }
      addActiveLiElemment(elem.parentElement, parent);
    }
  }

  function showToc() {
    if (tocWrapper) {
      postBody = document.querySelector('#post_body');
      for (let i = 0; i < postBody.children.length; i++) {
        if (postBody.children[i].__proto__ === HTMLHeadingElement.prototype) {
          hList.push(postBody.children[i]);
        }
      }
      if (tocWrapper.classList.contains('compress')) {
        tocContent.classList.add('closed');
      } else if (tocWrapper.classList.contains('no_compress')) {
        tocContent.classList.add('expanded');
      } else {
        if (hList.length > 10) {
          active = 'active-hidden'
          tocContent.classList.add('closed');
        } else {
          tocContent.classList.add('expanded');
        }
      }
    }
  }

  (function () {
    // å¤„ç†ä¸æ˜¯ä»#ä¸€çº§æ ‡é¢˜å¼€å§‹ç›®å½•
    if (tocContent.children.length === 1 && tocContent.children[0].__proto__ === HTMLLIElement.prototype) {
      let con = tocContent.children[0].children[0];
      tocContent.innerHTML = con.innerHTML;
    }
    let markdownItTOC = document.querySelector('.markdownIt-TOC');
    let innerHeight = window.innerHeight;
    markdownItTOC.style = `max-height: ${innerHeight - 80 > 0 ? innerHeight - 80 : innerHeight}px`
    addTocNumber(tocContent, '');
  })();

  document.addEventListener('scroll', function (e) {
    if (lList.length <= 0) {
      return;
    }
    let scrollTop = document.scrollingElement.scrollTop + 10;
    let dir;

    if (lastTop - scrollTop > 0) {
      dir = 'up';
    } else {
      dir = 'down';
    }

    lastTop = scrollTop;
    if (scrollTop <= 0) {
      if (lastIndex >= 0 && lastIndex < hList.length) {
        lList[lastIndex].classList.remove(activeClass);
      }
      return;
    }

    let current = 0, hasFind = false;
    for (let i = 0; i < hList.length; i++) {
      if (hList[i].offsetTop > scrollTop) {
        current = i;
        hasFind = true;
        break;
      }
    }
    if (!hasFind && scrollTop > lList[lList.length - 1].offsetTop) {
      current = hList.length - 1;
    } else {
      current--;
    }
    if (dir === 'down') {
      if (current > lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex)
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    } else {
      if (current < lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex);
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    }
  });


  window.addEventListener('load', function () {
    showToc();
    document.querySelector('#sidebar').style = 'display: block;';
    tocWrapper.classList.add('toc-active');
    setTimeout(function () {
      if ("createEvent" in document) {
        let evt = document.createEvent("HTMLEvents");
        evt.initEvent("scroll", false, true);
        document.dispatchEvent(evt);
      }
      else {
        document.fireEvent("scroll");
      }
    }, 500)
  })

</script>
            </div>
          
        
      </div>
    </div>
  
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    window.Velocity(hideElement, 'stop');
    window.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        window.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc && postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });

  if (sidebarBody) {
    if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
      let hasFix = false;
      let scrollEl = document.querySelector('.main-continer');
      let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
      window.addEventListener('scroll', function(e) {
        if (document.scrollingElement.scrollTop >= limitTop) {
          if (!hasFix) {
            sidebar.classList.add('sidebar-fixed');
            hasFix = true;
          }
        } else {
          if (hasFix) {
            sidebar.classList.remove('sidebar-fixed');
            hasFix = false;
          }
        }
      });
    }
  }
  
</script>
        <div class="section-box box-shadow-wrapper">
          <div class="section bg-color post post-page">
            <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://Busy-Bob.github.io/post/vitis-hls-de-tiny-tutorial-bu-fen-dai-ma-fen-xi/">
      Vitis HLS çš„Tiny Tutorialéƒ¨åˆ†ä»£ç åˆ†æ
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2021-01-04</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show">åˆ†ç±»äº</span>
      
      
      <a href="https://Busy-Bob.github.io/tag/oen4TO7lh/">
        <span>Verilog</span>
      </a>ã€
      
      
      
      <a href="https://Busy-Bob.github.io/tag/pm9HjSOZ32/">
        <span>HLS</span>
      </a>ã€
      
      
      
      <a href="https://Busy-Bob.github.io/tag/9jjFooiOMM/">
        <span>FPGA</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>5åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>997<span class="pc-show">å­—æ•°</span></span>
    </span>
    
    
    
    <span id="/post/vitis-hls-de-tiny-tutorial-bu-fen-dai-ma-fen-xi/" data-flag-title="Vitis HLS çš„Tiny Tutorialéƒ¨åˆ†ä»£ç åˆ†æ" class="meta-item pc-show leancloud_visitors">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-eye"></i>
      <span>æµè§ˆé‡ï¼š<span class="leancloud-visitors-count"></span></span>
    </span>
    
  </div>
</header>
            <div class="post-body next-md-body" id="post_body">
              <p>å¯¹ä¾‹å­ä¸­çš„è¯­æ³•ç­‰çš„ä¸€ç‚¹è®°å½•</p>
<!-- more -->
<h1 id="èƒŒæ™¯ä»‹ç»">èƒŒæ™¯ä»‹ç»</h1>
<ul>
<li><strong>HLS</strong> (high-level synthesis)ï¼š é«˜çº§ç»¼åˆ, ç”¨ C/C++ä¸ºFPGAå¼€å‘ RTL IP.</li>
<li><strong>Vitis HLS</strong>:  åœ¨Vivado 2020ç‰ˆæœ¬ä¸­æ›¿ä»£åŸå…ˆçš„Vivado HLS, åŠŸèƒ½ç•¥æœ‰å·®å¼‚ï¼Œåœ¨Vivado HLSä¸­çš„ä¾‹å­ç›´æ¥åœ¨Vitis HLSä¸Šè·‘ä¼šæŠ¥é”™ã€‚è¯¦ç»†æ¯”è¾ƒè§<a href="https://cloud.tencent.com/developer/article/1745199">Vivado HLSå’ŒVitis HLSä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li>
<li><strong>HLSä¸­çš„pragmaè¯­æ³•</strong>: <a href="https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/hls_pragmas.html">HLS Pragmas</a></li>
</ul>
<h1 id="å†…å®¹">å†…å®¹</h1>
<ul>
<li><code>#pragma HLS dataflow</code>
<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒVitis HLSå·¥å…·è¯•å›¾æœ€å°åŒ–å»¶è¿Ÿå¹¶æé«˜å¹¶å‘æ€§ã€‚ä½†æ˜¯ï¼Œæ•°æ®ä¾èµ–æ€§å¯èƒ½ä¼šé™åˆ¶è¿™ä¸€ç‚¹ã€‚DATAFLOWä¼˜åŒ–ä½¿<strong>å‡½æ•°æˆ–å¾ªç¯ä¸­çš„æ“ä½œèƒ½å¤Ÿåœ¨ä¸Šä¸€ä¸ªå‡½æ•°æˆ–å¾ªç¯å®Œæˆå…¶æ‰€æœ‰æ“ä½œä¹‹å‰å¼€å§‹æ“ä½œ</strong>ã€‚ï¼ˆèƒ½å¤Ÿåˆ†ææ›´ç»†ï¼‰ã€‚</li>
<li>ä¹Ÿèƒ½å¤Ÿè§£å†³ä¸¤ä¸ªä¸ä¾èµ–å¾ªç¯ä¸å¹¶è¡Œæƒ…å†µï¼ˆç±»ä¼¼äºå°è£…è¿›å‡½æ•°ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<pre><code class="language-C++">void diamond(data_t vecIn[N], data_t vecOut[N])
{
  data_t c1[N], c2[N], c3[N], c4[N];
#pragma HLS dataflow
  funcA(vecIn, c1, c2);
  funcB(c1, c3);
  funcC(c2, c4);
  funcD(c3, c4, vecOut);
}
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://Busy-Bob.github.io/post-images/1609835551513.png" alt="" loading="lazy"></figure>
<ul>
<li><code>#pragma HLS pipeline rewind</code>
<ul>
<li>æ„é€ ä¸€ä¸ªè¿ç»­å¾ªç¯çš„æµæ°´çº¿ã€‚ä¸¤æ¬¡å¾ªç¯ä¹‹é—´æ²¡æœ‰æš‚åœã€‚</li>
<li>ä¸èƒ½åŒ…å«æ¡ä»¶åˆ†æ”¯ (if-else)</li>
<li>åªæ”¯æŒå¾ªç¯ï¼Œä¸æ”¯æŒå‡½æ•°çš„æµæ°´çº¿åŒ–ã€‚</li>
</ul>
</li>
</ul>
<pre><code class="language-C++">  for (int i = 0; i &lt; N; i++)
  {
#pragma HLS pipeline rewind
#pragma HLS unroll factor = 2
    data_t t = in[i] * 3;
    out1[i] = t;
    out2[i] = t;
  }
</code></pre>
<ul>
<li><code>#pragma HLS unroll factor = 2</code>
<ul>
<li>å°†å¾ªç¯å±•å¼€å¤šå°‘æ¬¡</li>
</ul>
</li>
</ul>
<pre><code class="language-C++">for(int i = 0; i &lt; X; i++) {
  pragma HLS unroll factor=2
  a[i] = b[i] + c[i];
}
</code></pre>
<p>å˜æˆï¼š</p>
<pre><code class="language-C++">for(int i = 0; i &lt; X; i += 2) {
  a[i] = b[i] + c[i];
  if (i+1 &gt;= X) break;
  a[i+1] = b[i+1] + c[i+1];
}
</code></pre>
<ul>
<li><code>#pragma HLS function_instantiate variable=&lt;variable&gt;</code>
<ul>
<li>FUNCTION_INSTANTIATEç¼–è¯‘æŒ‡ç¤ºç”¨äºä¸ºå‡½æ•°çš„æ¯ä¸ªå®ä¾‹åˆ›å»ºå”¯ä¸€çš„RTLå®ç°ï¼Œä»è€Œå¯ä»¥æ ¹æ®å‡½æ•°è°ƒç”¨å¯¹æ¯ä¸ªå®ä¾‹è¿›è¡Œæœ¬åœ°ä¼˜åŒ–ã€‚å› ä¸ºï¼šè°ƒç”¨å‡½æ•°æ—¶ï¼Œ<strong>å‡½æ•°çš„æŸäº›è¾“å…¥å¯ä»¥æ˜¯æ’å®šå€¼</strong>ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥ç®€åŒ–å‘¨å›´çš„æ§åˆ¶ç»“æ„å¹¶<strong>ç”Ÿæˆæ›´å°çš„</strong>ï¼Œ<strong>æ›´ä¼˜åŒ–çš„åŠŸèƒ½å—</strong>ã€‚</li>
<li><code>variable</code>æ˜¯å¿…éœ€çš„å‚æ•°ï¼Œç”¨äºå®šä¹‰è¦ç”¨ä½œå¸¸é‡çš„å‡½æ•°å‚æ•°ã€‚</li>
</ul>
</li>
</ul>
<pre><code class="language-C++">char foo(char inval, char incr) {
#pragma HLS INLINE OFF
#pragma HLS FUNCTION_INSTANTIATE variable=incr
 return inval + incr;
}

void top(char inval1, char inval2, char inval3,
 char *outval1, char *outval2, char *outval3)
{
 *outval1 = foo(inval1,   0);
 *outval2 = foo(inval2,   1);
 *outval3 = foo(inval3, 100);
}
</code></pre>
<ul>
<li><strong>ä¸å®Œç¾çš„å¾ªç¯(imperfect loop)</strong>:
<ul>
<li>å†…å±‚å¾ªç¯ä¸Šé™æ˜¯ä¸€ä¸ªå˜é‡ã€‚</li>
<li>å¾ªç¯ä½“å¹¶éå…¨éƒ¨åœ¨æœ€é‡Œå±‚å¾ªç¯ä¸­ã€‚</li>
<li>æ‰€ä»¥<strong>æ²¡æ³•å±•å¼€</strong>ï¼Œä¼šé€ æˆé¢å¤–çš„è¿›å‡ºå¾ªç¯çš„æ—¶é’Ÿå‘¨æœŸã€‚</li>
</ul>
</li>
</ul>
<pre><code class="language-C++">    LOOP_I:for(i=0; i &lt; 20; i++){
        acc = 0;
        LOOP_J: for(j=0; j &lt; 20; j++){
            acc += A[j] * j;
        }
        if (i%2 == 0)
            B[i] = acc / 20;
        else
            B[i] = 0;
    }
</code></pre>
<ul>
<li>å°†ä¸å®Œç¾å¾ªç¯æ”¹å†™æˆå®Œç¾å¾ªç¯çš„trickï¼š<strong>ä½¿ç”¨æ¡ä»¶è¯­å¥</strong>ã€‚</li>
</ul>
<pre><code class="language-C++">    LOOP_I:for(i=0; i &lt; 20; i++){
        LOOP_J: for(j=0; j &lt; 20; j++){
            if(j==0) acc = 0;
            acc += A[j] * j;
            if(j==19) {
                if (i%2 == 0)
                    B[i] = acc / 20;
                else
                    B[i] = 0;
            }
        }
    }
</code></pre>
<ul>
<li>
<p>å¾ªç¯å¯ä»¥æ²¡æœ‰labelï¼ŒHLSä¼šç”Ÿæˆé»˜è®¤labelã€‚</p>
</li>
<li>
<p>å¾ªç¯ä¸Šé™ä¸ºå˜é‡çš„ä¼˜åŒ–æ–¹æ³•ï¼š <strong>ä½¿ç”¨æ¡ä»¶è¯­å¥</strong>ã€‚</p>
</li>
</ul>
<pre><code class="language-C++">  LOOP_X:for (x=0;x&lt;N-1; x++) {
    if (x&lt;width) {
      out_accum += A[x];
    }
  }
</code></pre>
<ul>
<li>å¯ä»¥åˆ©ç”¨ä¸¤ä¸ªç‹¬ç«‹çš„æ¨¡å—æ¥å‹ç¼©æµæ°´çš„II ï¼ˆç”¨æ¨¡ç‰ˆå®ç°è¾ƒä¸ºæ–¹ä¾¿ï¼Œéœ€è¦é…åˆä¸Šå¤šè·¯é€‰æ‹©å™¨ï¼‰</li>
</ul>
<pre><code class="language-C++">//                    +--proc--&gt;[ II=2 ]--+
//                   /                     \               
// in --&gt;[demux II=1]                       [mux II=1]---&gt; out
//                   \                     /
//                    +--proc--&gt;[ II=2 ]--+

#include &quot;example.h&quot;

//--------------------------------------------
template &lt;int ID&gt;
void proc(stream&lt;int&gt; &amp;in, stream&lt;int&gt; &amp;out)
{
    for (int i = 0; i &lt; 25; i++)
    {
#pragma HLS PIPELINE II=2
#pragma HLS LATENCY min=2 max=2
        int var;
        in.read(var);
        out.write(var);
    }
}

//--------------------------------------------
void mux(stream&lt;int&gt; (&amp;inter)[2], stream&lt;int&gt; &amp;mux_output)
{
    int mux_sel = 0;
    for (int i = 0; i &lt; 50; i++)
    {
#pragma HLS PIPELINE II=1
        int var;
        inter[mux_sel].read(var);
        mux_output.write(var);
        mux_sel = (mux_sel == 0) ? (1) : (0);
    }
}

//--------------------------------------------
void demux(stream&lt;int&gt; &amp;in, stream&lt;int&gt; (&amp;inter)[2])
{
    int demux_sel = 0;
    for (int i = 0; i &lt; 50; i++)
    {
#pragma HLS PIPELINE II=1

        int var;
        in.read(var);
        inter[demux_sel].write(var);
        demux_sel = (demux_sel == 0) ? 1 : 0;
    }
}

void example(stream&lt;int&gt; &amp;in, stream&lt;int&gt; &amp;out)
{
#pragma HLS DATAFLOW

    stream&lt;int&gt; inter[2];
    stream&lt;int&gt; mux_in[2];

#pragma HLS STREAM variable = inter depth = 16
#pragma HLS STREAM variable = mux_in depth = 16

    demux(in, inter);
    proc&lt;0&gt;(inter[0], mux_in[0]);
    proc&lt;1&gt;(inter[1], mux_in[1]);
    mux(mux_in, out);
}
</code></pre>

            </div>
            <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>
      å‹ºæµ·
    </li>
    <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://Busy-Bob.github.io/post/vitis-hls-de-tiny-tutorial-bu-fen-dai-ma-fen-xi/" title="Vitis HLS çš„Tiny Tutorialéƒ¨åˆ†ä»£ç åˆ†æ">https://Busy-Bob.github.io/post/vitis-hls-de-tiny-tutorial-bu-fen-dai-ma-fen-xi/</a>
    </li>
    <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
      æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
    </li>
  </ul>
  <div class="tags">
    
      <a href="https://Busy-Bob.github.io/tag/oen4TO7lh/"># Verilog</a>
    
      <a href="https://Busy-Bob.github.io/tag/pm9HjSOZ32/"># HLS</a>
    
      <a href="https://Busy-Bob.github.io/tag/9jjFooiOMM/"># FPGA</a>
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
        <i class="fa fa-chevron-left"></i>
        <a class="nav-pc-next" title="Vitis HLS Coding Styles" href="https://Busy-Bob.github.io/post/vitis-hls-coding-styles/">Vitis HLS Coding Styles</a class="nav-pc-next">
        <a class="nav-mobile-prev" title="Vitis HLS Coding Styles" href="https://Busy-Bob.github.io/post/vitis-hls-coding-styles/">ä¸Šä¸€ç¯‡</a>
      
    </div>
    <div class="nav-next">
      
        <a class="nav-pc-next" title="ğŸ‘¨ğŸ‘©ğŸ’äº”å‘¨å¹´å•¦~ğŸ¥‚ğŸ»" href="https://Busy-Bob.github.io/post/wu-zhou-nian-la/">ğŸ‘¨ğŸ‘©ğŸ’äº”å‘¨å¹´å•¦~ğŸ¥‚ğŸ»</a>
        <a class="nav-mobile-next" title="ğŸ‘¨ğŸ‘©ğŸ’äº”å‘¨å¹´å•¦~ğŸ¥‚ğŸ»" href="https://Busy-Bob.github.io/post/wu-zhou-nian-la/">ä¸‹ä¸€ç¯‡</a>
        <i class="fa fa-chevron-right"></i>
      
    </div>
  </div>
</div>
            
  
    
      <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>
  var gitalk = new Gitalk({
    clientID: 'e32c230de13db368ea78',
    clientSecret: '80f8c1d8fb3370a0c9df34a96b46d0d083867ac7',
    repo: 'Busy-Bob.github.io',
    owner: 'Busy-Bob',
    admin: ['Busy-Bob'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })
  gitalk.render('gitalk-container')
</script>
    
    
  

          </div>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | Â© 2019-2020 Theme By <a href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a>
    </div>
    <div class="poweredby">
      
    </div>
  </footer>
  
  
  <div class="pisces back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
  back2TopText = document.querySelector('#back_to_top_text'),
  drawerBox = document.querySelector('#drawer_box'),
  rightSideBar = document.querySelector('.sidebar'),
  viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {
   
    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function(e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });
  
  window.addEventListener('scroll', function(e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });

  
  let hasCacu = false;
  window.onresize = function() {
    if (window.width > 991) {
      calcuHeight();
    } else {
      hasCacu = false;
    }
  }

  function calcuHeight() {
    // åŠ¨æ€è°ƒæ•´ç«™ç‚¹æ¦‚è§ˆé«˜åº¦
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();
  
  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function() {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, transitionDir,{ });
          }
        })
        window.Velocity(viewport, openProp,{
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp ,{
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // é“¾æ¥è·³è½¬
  let newWindow = 'false'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target","_blank");
      }
    })
  }
  // ä»£ç é«˜äº®
  hljs.initHighlightingOnLoad();

</script>
    <div class="light-box" id="light_box"></div>
<script>
  let imgs = document.querySelectorAll('.post-body img');
  let lightBox = document.querySelector('#light_box');
  lightBox.addEventListener('mousedown', (e) => {
    e.preventDefault()
  })
  lightBox.addEventListener('mousewheel', (e) => {
    e.preventDefault()
  })
  let width = window.innerWidth * 0.8;
  lightBox.onclick = () => {
    let img = lightBox.querySelector('img');
    lightBox.style = '';
    img && img.remove();
  }
  imgs.forEach(item => {
    item.onclick = function (e) {
      let lightImg = document.createElement('img');
      lightImg.src = this.src;
      lightBox.style = `height: 100%; opacity: 1; background-color: rgba(0, 0, 0, 0.5);cursor: zoom-out;`;
      lightImg.style = `width: ${width}px; border: 1px solid #fff; border-radius: 2px;`;
      lightImg.onclick = function () {
        lightBox.style = '';
        this.remove();
      }
      lightBox.append(lightImg);
    }
  })
</script>
  </div>
</body>
<input hidden id="copy" />
<script>
  //æ‹¿æ¥ä¸»ä¹‰(çœŸé¦™)^_^ï¼ŒClipboard å®ç°æ‘˜è‡ªæ˜é‡‘ https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // åˆ¤æ–­æ˜¯ä¸æ˜¯iosç«¯
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //åˆ›å»ºæ–‡æœ¬å…ƒç´ 
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //é€‰æ‹©å†…å®¹
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //å¤åˆ¶åˆ°å‰ªè´´æ¿
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("å¤åˆ¶é”™è¯¯ï¼è¯·æ‰‹åŠ¨å¤åˆ¶ï¼")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === 'å¤åˆ¶æˆåŠŸ') {
        console.log('å¤åˆ¶æ“ä½œé¢‘ç‡è¿‡é«˜');
        return;
      }
      e.srcElement.textContent = 'å¤åˆ¶æˆåŠŸ';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === 'å¤åˆ¶æˆåŠŸ') {
            elem.textContent = 'å¤åˆ¶ä»£ç '
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = 'å¤åˆ¶ä»£ç ';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })
</script>
<script src="/media/js/motion.js"></script>

<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 500
  });
</script>

<!-- <div class="search-mask" id="search_mask">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input type="text" placeholder="æœç´¢">
      </div>
      <i class="fa fa-times-circle"></i>
    </div>
    <div class="result">
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/xilinx-fpga-ban-shang-jie-gou-zhi-shi-za-ji/"" data-c="
          &lt;p&gt;ä¸€ç‚¹xilinx fpga æ¿ä¸Šç»“æ„çš„çŸ¥è¯†ç‚¹ï¼Œè®°å½•ä¸‹æ¥ã€‚ä¸»è¦å‚è€ƒã€ŠåŸºäºFPGAçš„æ•°å­—ä¿¡å·å¤„ç†ã€‹ä¸€ä¹¦ç¬¬å…«ç« ã€‚&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h1 id=&#34;lutå’Œslice&#34;&gt;LUTå’ŒSlice&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;zynq-7000ä¸­ä½¿ç”¨çš„æŸ¥æ‰¾è¡¨(Look Up Tableï¼ŒLUT)æ˜¯6ä½çš„ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª5ä½çš„LUTã€‚ï¼ˆ6ä½éœ€è¦çš„SRAMç©ºé—´æ˜¯2^6=64bitï¼Œ5ä½æ˜¯32bitã€‚è¿™åº”è¯¥ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªLUT5æ¥æ„æˆLUT6äº†ã€‚ï¼‰&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1610258789689.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;LUTå¯ä»¥ä½œä¸ºRAMå’ŒROMï¼Œ&lt;strong&gt;é€»è¾‘è¾“å…¥ä½œä¸ºåœ°å€çº¿&lt;/strong&gt;ï¼Œå†…å­˜ä½œä¸ºROMæˆ–è€…RAMï¼Œè§&lt;a href=&#34;https://electronics.stackexchange.com/a/85465&#34;&gt;How does a LUT work, why is it used?&lt;/a&gt;ã€‚å…¶ä¸­SLICEL(slice logic)åªèƒ½ä½œä¸ºROMï¼Œè€ŒSLICEM(slice memory)å¯ä»¥ä½œä¸ºROMå’Œåˆ†å¸ƒå¼çš„RAMã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;LUTåŠŸèƒ½&lt;/th&gt;
&lt;th&gt;SLICEL&lt;/th&gt;
&lt;th&gt;SLICEM&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;é€»è¾‘å‡½æ•°å‘ç”Ÿå™¨&lt;/td&gt;
&lt;td&gt;âˆš&lt;/td&gt;
&lt;td&gt;âˆš&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ROM&lt;/td&gt;
&lt;td&gt;âˆš&lt;/td&gt;
&lt;td&gt;âˆš&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åˆ†å¸ƒå¼RAM&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;âˆš&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç§»ä½å¯„å­˜å™¨&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;âˆš&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;ä½œä¸ºRAMä¹Ÿå¯ä»¥æœ‰å¤šç§ç±»å‹ï¼Œå„ç§éœ€è¦ä¸åŒæ•°é‡çš„LUTã€‚&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1610268719145.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;SLICEMä¸­1ä¸ªLUT6å¯é…ç½®ä¸º1ä¸ª32bitçš„ç§»ä½å¯„å­˜å™¨ï¼Œ&lt;strong&gt;é€»è¾‘è¾“å…¥ç«¯å£ä½œä¸ºæ—¶é’Ÿå‘¨æœŸå»¶æ—¶æ•°&lt;/strong&gt;ï¼Œæ‰€ä»¥åœ¨Xilinx FPGAä¸­å®ç°FIFOçš„åŠŸèƒ½ï¼Œå¯é‡‡ç”¨Block RAMçš„æ–¹å¼ï¼Œä¹Ÿå¯é‡‡ç”¨LUTçš„æ–¹å¼ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªLUT6å¯å®ç°4é€‰1çš„MUX ï¼ˆæ•°æ®4ä½ï¼Œåœ°å€2ä½ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªF7MUXå’Œç›¸é‚»çš„ä¸¤ä¸ªLUT6å¯å®ç°ä¸€ä¸ª8é€‰1çš„MUXã€‚å› æ­¤ï¼Œä¸€ä¸ªSLICEå¯å®ç°2ä¸ª8é€‰1çš„MUXã€‚&lt;/li&gt;
&lt;li&gt;4ä¸ªLUT6ã€F7AMUXã€F7BMUXå’ŒF8MUXå¯å®ç°ä¸€ä¸ª16é€‰1çš„MUXã€‚å› æ­¤ï¼Œä¸€ä¸ªSLICEå¯å®ç°ä¸€ä¸ª16é€‰1çš„MUX&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;dspåŸºæœ¬åŠŸèƒ½æ˜¯åšä¹˜æ³•è¿ç®—&#34;&gt;DSPï¼šåŸºæœ¬åŠŸèƒ½æ˜¯åšä¹˜æ³•è¿ç®—&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;zynqä¸­çš„DSP(Digital Signal Processing)éƒ¨åˆ†æ˜¯ç”±DSP48E1ç»„æˆçš„ï¼Œç»„æˆåŸºæœ¬ç»“æ„å¦‚å›¾ï¼š&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1610267218196.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ç”±äº”éƒ¨åˆ†æ„æˆï¼š
&lt;ul&gt;
&lt;li&gt;å¯¹å¤–ç«¯å£&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¢„åŠ å™¨&lt;/strong&gt;(pre-adder)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¹˜æ³•å™¨&lt;/strong&gt;(MULT)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€»è¾‘è¿ç®—å•å…ƒ&lt;/strong&gt;(ALU)&lt;/li&gt;
&lt;li&gt;æ¨¡å¼æ£€æµ‹ç”µè·¯&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1610267326031.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¯¹å¤–&lt;strong&gt;ç«¯å£&lt;/strong&gt;æœ‰ï¼š
&lt;ul&gt;
&lt;li&gt;æ“ä½œæ•°è¾“å…¥è¾“å‡ºç«¯å£&lt;/li&gt;
&lt;li&gt;æ¨¡å¼é…ç½®ç«¯å£&lt;/li&gt;
&lt;li&gt;çº§è”ç«¯å£&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1610267484853.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç®€åŒ–ç»“æ„å›¾ä¸ºï¼š&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1610267801525.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å•æŒ‡ä»¤å¤šæ•°æ®æ¨¡å¼å³SIMD ( Single Instruction, Multiple Data)ã€‚å®ƒä½¿å¾—48bitçš„ALUå¯é…ç½®ä¸º4ä¸ª 12bitçš„ALU (æ‰§è¡ŒåŠ æ³•ã€å‡æ³•æˆ–ä½é€»è¾‘è¿ç®—)æˆ–è€…2ä¸ª24bitçš„ALUã€‚&lt;/li&gt;
&lt;li&gt;é‡‡ç”¨VHDLæˆ–Verilogä»£ç æè¿°æ—¶ï¼Œ&lt;strong&gt;ä¹˜æ³•ã€ä¹˜åŠ /ä¹˜å‡å’Œä¹˜ç´¯åŠ è¿ç®—ä¼šè¢«è‡ªåŠ¨æ˜ å°„ä¸º DSP48E1,è€ŒåŠ æ³•ã€å‡æ³•å’Œç´¯åŠ è¿ç®—é»˜è®¤æƒ…å†µä¸‹é‡†ç”¨å¸¸è§„é€»è¾‘èµ„æºå®ç°&lt;/strong&gt;ã€‚è‹¥ä¹Ÿå¸Œæœ›å®ƒä»¬è¢«æ˜  å°„ä¸ºDSP48E1,åˆ™éœ€è¦é€šè¿‡ç»¼åˆå±æ€§use_dsp48å¯¹å…¶è¿›è¡Œçº¦æŸã€‚&lt;/li&gt;
&lt;li&gt;åº”ç”¨ï¼š
&lt;ul&gt;
&lt;li&gt;48bitç´¯åŠ è¿ç®—(æ¯”åŠ æ³•å™¨å¤šä¸€ä¸ªå¯„å­˜å™¨ç”¨æ¥å­˜å–å‰é¢åŠ è¿‡çš„æ•°æ®ï¼Œå¯„å­˜å™¨æ˜¯éœ€è¦æ—¶é’Ÿé©±åŠ¨çš„ã€‚)&lt;/li&gt;
&lt;li&gt;2è¾“å…¥48bitæ•°æ®ç›¸åŠ ä¹‹åç´¯åŠ &lt;/li&gt;
&lt;li&gt;96bitåŠ æ³•ã€å‡æ³•è¿ç®—ï¼ˆéœ€è¦çº§è”ï¼‰&lt;/li&gt;
&lt;li&gt;96bitç´¯åŠ è¿ç®—ï¼ˆéœ€è¦çº§è”ï¼‰&lt;/li&gt;
&lt;li&gt;ä¹˜ç´¯åŠ è¿ç®—(ä¸¤ä¸ªè¾“å…¥æ•°æ®ç›¸ä¹˜å¹¶å¯¹ä¹˜ç§¯ç»“æœç´¯åŠ )ï¼š&lt;/li&gt;
&lt;li&gt;å¤æ•°ä¹˜æ³•è¿ç®—&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;bram-block-ram&#34;&gt;BRAM (Block RAM)&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;å—RAM (æ ¹æ®åœ°å€å†™å…¥å’Œè¾“å‡º)&lt;/li&gt;
&lt;li&gt;Block RAM (BRAM)åœ¨FPGAè®¾è®¡ä¸­æ‰®æ¼”ç€ä¸€ä¸ªé‡è¦çš„è§’è‰²å³æ•°æ®å­˜å‚¨æˆ–ç¼“å­˜&lt;/li&gt;
&lt;li&gt;zynqä¸­æ¯ä¸ªBRAMè¾¾åˆ°äº† 36Kb,ç”±ä¸¤ä¸ª18Kb BRAMæ‹¼æ¥è€Œæˆ.&lt;/li&gt;
&lt;li&gt;BRAMåœ¨ä¸ç‰ºç‰²å¾ˆå¤§å¸¦å®½çš„å‰æä¸‹ï¼Œæä¾›äº†æ›´å¤§çš„å‚¨å­˜å¯†åº¦ã€‚å¸¦å®½çš„ç‰ºç‰²ä¸»è¦åœ¨äº&lt;strong&gt;æ¯ä¸ªå‘¨æœŸBRAMåªæœ‰1-2ä¸ªå…¥å£å¯ä»¥è¢«æ¥é€š&lt;/strong&gt;(å¯¹åº”å•ç«¯å£å’ŒåŒç«¯å£)ã€‚&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨BRAMå®ç°é€»è¾‘è¿ç®—åŠŸèƒ½æœ¬è´¨ä¸Šè€Œè¨€æ˜¯å°†BRAMé…ç½®ä¸ºROM,å®ƒå°±åƒä¸€ä¸ªå¤§çš„ æŸ¥æ‰¾è¡¨ï¼ˆLUTï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹ä¸€äº›å›ºå®šçš„æ•°æ®è¿›è¡Œå­˜å‚¨ï¼Œè¿™å°±éœ€è¦ç”¨åˆ° ROMï¼Œå¯å­˜åœ¨BRAMé‡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å•ç«¯å£ram-ä¼ªåŒç«¯å£ramåŒç«¯å£ramå’Œfifo&#34;&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/96616326&#34;&gt;å•ç«¯å£RAMã€ä¼ªåŒç«¯å£RAMï¼ŒåŒç«¯å£RAMå’ŒFIFO&lt;/a&gt;&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;å•ç«¯å£RAMï¼ˆSingle-Port RAMï¼‰
&lt;ul&gt;
&lt;li&gt;è¾“å…¥åªæœ‰&lt;strong&gt;ä¸€ç»„æ•°æ®çº¿&lt;/strong&gt;å’Œ&lt;strong&gt;ä¸€ç»„åœ°å€çº¿&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åªæœ‰ä¸€ä¸ªæ—¶é’Ÿ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¯»å†™å…±ç”¨åœ°å€çº¿&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸåªèƒ½è¯»æˆ–è€…åªèƒ½å†™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¼ªåŒç«¯å£RAMï¼ˆSimple Dual-Port RAMï¼‰
&lt;ul&gt;
&lt;li&gt;è¾“å…¥æœ‰&lt;strong&gt;ä¸€ç»„æ•°æ®çº¿&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸¤ç»„åœ°å€çº¿&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸¤ä¸ªæ—¶é’Ÿ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªç«¯å£åªè¯»ï¼Œå¦ä¸€ä¸ªç«¯å£åªå†™ï¼Œä½†å†™å…¥å’Œè¯»å–çš„æ—¶é’Ÿå¯ä»¥ä¸åŒï¼Œä¸”ä½å®½æ¯”å¯ä»¥ä¸æ˜¯1:1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åŒç«¯å£RAMï¼ˆTrue Dual-Port RAMï¼‰
&lt;ul&gt;
&lt;li&gt;è¾“å…¥æœ‰&lt;strong&gt;ä¸¤ç»„åœ°å€çº¿&lt;/strong&gt;å’Œ&lt;strong&gt;ä¸¤ç»„æ•°æ®çº¿&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸¤ä¸ªæ—¶é’Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸¤ä¸ªç«¯å£éƒ½æœ‰è¯»å†™çš„åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;FIFO (First-in, first-out)
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªç«¯å£åªè¯»ï¼Œå¦ä¸€ä¸ªç«¯å£åªå†™ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…ˆå…¥å…ˆå‡ºï¼Œæ²¡æœ‰åœ°å€çº¿&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸Šè¿°ä¸‰ç§RAMéƒ½å¯ä»¥å¯»å€ï¼Œ&lt;strong&gt;FIFOä¸èƒ½å¯»å€&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
">Xilinx FPGA æ¿ä¸Šç»“æ„çŸ¥è¯†æ‚è®°</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/zynq-zhong-cha-kan-yong-hls-sheng-cheng-de-ip-he-duan-kou-dui-ying-de-nei-cun-kong-jian/"" data-c="
          &lt;p&gt;æ‰¾äº†ä¸€ä¼šå„¿æ‰æ‰¾åˆ°, æ‰€ä»¥è®°å½•ä¸‹æ¥ã€‚&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;ç”¨HLSç”Ÿæˆçš„ipæ ¸ï¼Œä½¿ç”¨axi-liteåè®®ï¼Œæ‰¾ä¸åˆ°pynqä¸­topå‡½æ•°å˜é‡å¯¹åº”çš„å†…å­˜ç©ºé—´åœ°å€ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;HLSä¸­ï¼ŒSynthesis Summaryçš„æœ€åä¸€é¡¹å¯ä»¥çœ‹åˆ°HW info.&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1610107689191.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;HLSç”Ÿæˆçš„verilogæ–‡ä»¶(XXXXX_control_s_axi.v)ä¸­ï¼Œæœ‰æ¥å£åœ°å€ä¿¡æ¯çš„æ³¨é‡Šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;//------------------------Address Info-------------------
// 0x00 : reserved
// 0x04 : reserved
// 0x08 : reserved
// 0x0c : reserved
// 0x10 : Data signal of a
//        bit 31~0 - a[31:0] (Read/Write)
// 0x14 : reserved
// 0x18 : Data signal of b
//        bit 31~0 - b[31:0] (Read/Write)
// 0x1c : reserved
// 0x20 : Data signal of c
//        bit 31~0 - c[31:0] (Read)
// 0x24 : Control signal of c
//        bit 0  - c_ap_vld (Read/COR)
//        others - reserved
// (SC = Self Clear, COR = Clear on Read, TOW = Toggle on Write, COH = Clear on Handshake)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;pynqä¸­ï¼Œå¯é€šè¿‡&lt;code&gt;register_map&lt;/code&gt;ç›´æ¥æŸ¥çœ‹åœ°å€ï¼Œæˆ–è€…ç›´æ¥æ“ä½œå˜é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from pynq import Overlay
overlay = Overlay(&#39;./design_1.bit&#39;)
add_ip = overlay.add_0

add_ip.register_map.a = 3
add_ip.register_map.b = 4
c = add_ip.register_map.c
c.address
&lt;/code&gt;&lt;/pre&gt;
">Zynq ä¸­æŸ¥çœ‹ç”¨HLS ç”Ÿæˆçš„IPæ ¸ç«¯å£å¯¹åº”çš„å†…å­˜ç©ºé—´</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/vitis-hls-coding-styles/"" data-c="
          &lt;p&gt;å‚è€ƒXilinxæ–‡æ¡£ï¼Œ&lt;a href=&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/vitis_hls_coding_styles.html&#34;&gt;Vitis HLS Coding Styles&lt;/a&gt;&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h1 id=&#34;ä¸æ”¯æŒçš„ccéƒ¨åˆ†&#34;&gt;ä¸æ”¯æŒçš„C/C++éƒ¨åˆ†&lt;/h1&gt;
&lt;h2 id=&#34;ç³»ç»Ÿè°ƒç”¨&#34;&gt;ç³»ç»Ÿè°ƒç”¨&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;printf()&lt;/code&gt;ï¼Œ &lt;code&gt;fprintf(stdout,)&lt;/code&gt;ç­‰ä¸ä¼šå½±å“ç®—æ³•æ‰§è¡Œçš„ç³»ç»Ÿè°ƒç”¨â€”â€”å¿½ç•¥æ‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;getc()&lt;/code&gt;, &lt;code&gt;time()&lt;/code&gt;, &lt;code&gt;sleep()&lt;/code&gt; ç­‰ç³»ç»Ÿè°ƒç”¨â€”â€”ä¸è¢«æ¥å—ã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨&lt;code&gt;__SYNTHESIS__&lt;/code&gt;å®æ¥åŒºåˆ†&lt;strong&gt;ç»¼åˆ&lt;/strong&gt;ä¸&lt;strong&gt;è°ƒè¯•&lt;/strong&gt;è¿‡ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;void hier_func4(din_t A, din_t B, dout_t *C, dout_t *D)
{
    dint_t apb, amb;

    sumsub_func(&amp;amp;A, &amp;amp;B, &amp;amp;apb, &amp;amp;amb);
#ifndef __SYNTHESIS__
    FILE *fp1; // The following code is ignored for synthesis
    char filename[255];
    sprintf(filename, Out_apb_ % 03d.dat, apb);
    fp1 = fopen(filename, w);
    fprintf(fp1, % d \n, apb);
    fclose(fp1);
#endif
    shift_func(&amp;amp;apb, &amp;amp;amb, C, D);
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;åŠ¨æ€å†…å­˜&#34;&gt;åŠ¨æ€å†…å­˜&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;malloc()&lt;/code&gt;ï¼Œ &lt;code&gt;new&lt;/code&gt; ç­‰åŠ¨æ€åˆ†é…å†…å­˜çš„ä¸è¡Œ, ä¸èƒ½åœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼Œå¿…é¡»åœ¨æ ˆä¸Šã€‚ï¼ˆå› ä¸ºè¯¥HLSæŠ€æœ¯æ˜¯é™æ€åˆ†æï¼‰&lt;/li&gt;
&lt;li&gt;ä¸€ç§æ”¹åŠ¨æ–¹æ³•æ˜¯ç›´æ¥å¯¹æ ˆä¸Šå˜é‡å–æŒ‡é’ˆï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C&#34;&gt;#include &amp;quot;malloc_removed.h&amp;quot;
#include &amp;lt;stdlib.h&amp;gt;
//#define NO_SYNTH

dout_t malloc_removed(din_t din[N], dsel_t width) {  

#ifdef NO_SYNTH
 long long *out_accum = malloc (sizeof(long long));
 int* array_local = malloc (64 * sizeof(int));
#else
 long long _out_accum;
 long long *out_accum = &amp;amp;_out_accum;
 int _array_local[64];
 int* array_local = &amp;amp;_array_local[0];
#endif
// ä¸­é—´è®¡ç®—çœç•¥
 return *out_accum;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æŒ‡é’ˆçš„ä¸€äº›é™åˆ¶&#34;&gt;æŒ‡é’ˆçš„ä¸€äº›é™åˆ¶&lt;/h2&gt;
&lt;h3 id=&#34;é€šç”¨æŒ‡é’ˆç±»å‹è½¬æ¢&#34;&gt;é€šç”¨æŒ‡é’ˆç±»å‹è½¬æ¢&lt;/h3&gt;
&lt;p&gt;HLS åªæ”¯æŒC/C++åŸç”Ÿç±»å‹çš„è½¬æ¢&lt;/p&gt;
&lt;h3 id=&#34;æŒ‡é’ˆæ•°ç»„&#34;&gt;æŒ‡é’ˆæ•°ç»„&lt;/h3&gt;
&lt;p&gt;å¦‚æœæ¯ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªæ ‡é‡æˆ–ä¸€ä¸ªæ ‡é‡æ•°ç»„ï¼Œåˆ™Vitis HLSæ”¯æŒæŒ‡é’ˆæ•°ç»„çš„ç»¼åˆã€‚ä½†æŒ‡é’ˆæ•°ç»„ä¸èƒ½æŒ‡å‘é¢å¤–çš„æŒ‡é’ˆï¼ˆåº”è¯¥ç±»ä¼¼äºŒç»´æ•°ç»„çš„è¡Œã€åˆ—æŒ‡é’ˆï¼‰&lt;/p&gt;
&lt;h3 id=&#34;å‡½æ•°æŒ‡é’ˆ&#34;&gt;å‡½æ•°æŒ‡é’ˆ&lt;/h3&gt;
&lt;p&gt;ä¸æ”¯æŒ&lt;/p&gt;
&lt;h2 id=&#34;é€’å½’å‡½æ•°&#34;&gt;é€’å½’å‡½æ•°&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ä¸æ”¯æŒã€‚ä¸ç®¡æœ€åé€’å½’æ¬¡æ•°æ˜¯ä¸æ˜¯æœ‰é™çš„ã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨C++æ¨¡æ¿æ¥æ„é€ &lt;strong&gt;å¯ä»¥ç”¨æ¥ç»¼åˆçš„å°¾é€’å½’&lt;/strong&gt;ï¼Œå› ä¸ºC++ä¸­æ”¯æŒéç±»å‹æ¨¡æ¿å‚æ•°ï¼ˆNontype Template Parametersï¼‰ï¼Œç±»ä¼¼Rustä¸­çš„constæ³›å‹ï¼Œè¿™å„¿çš„æ¨¡æ¿å‚æ•°ä¸º&lt;code&gt;data_t&lt;/code&gt;ç±»å‹çš„ä¸€ä¸ªå€¼ Nã€‚&lt;a href=&#34;https://github.com/Xilinx/HLS-Tiny-Tutorials/tree/master/algorithm_template_fir_filter&#34;&gt;ä¾‹å­å¦‚ä¸‹&lt;/a&gt;ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;// Tail recursive call
template&amp;lt;data_t N&amp;gt; 
	struct fibon_s {
    template&amp;lt;typename T&amp;gt;
    static T fibon_f(T a, T b) {
		return fibon_s&amp;lt;N-1&amp;gt;::fibon_f(b, (a+b));
  }
};

// Termination condition
template&amp;lt;&amp;gt; struct fibon_s&amp;lt;1&amp;gt; {
  template&amp;lt;typename T&amp;gt;
  static T fibon_f(T a, T b) {
    return b;
  }
};

void cpp_template(data_t a, data_t b, data_t &amp;amp;dout){
  dout = fibon_s&amp;lt;FIB_N&amp;gt;::fibon_f(a,b);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;stl&#34;&gt;STL&lt;/h2&gt;
&lt;p&gt;æœ‰åŠ¨æ€å†…å­˜å’Œé€’å½’ï¼Œä¸èƒ½ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å‡½æ•°&#34;&gt;å‡½æ•°&lt;/h1&gt;
&lt;p&gt;é¡¶å±‚å‡½æ•°ä¸èƒ½æ˜¯é™æ€çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å†…è”å‡½æ•°&#34;&gt;å†…è”å‡½æ•°&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç»¼åˆæ—¶å€™èŠ±è´¹æ—¶é—´ã€å†…å­˜è¾ƒå¤šï¼Œä½†æ•ˆæœæ›´å¥½ã€‚&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰ç‹¬ç«‹çš„RTLæ–‡ä»¶å’ŒæŠ¥å‘Šäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä»£ç é£æ ¼çš„å½±å“&#34;&gt;ä»£ç é£æ ¼çš„å½±å“&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å½±å“å‡½æ•°å‚æ•°å’Œæ¥å£&lt;/li&gt;
&lt;li&gt;ç›´æ¥ç”¨å‡½æ•°æ¥å£çš„è¾“å…¥é‡æ¥é©±åŠ¨å˜é‡æ—¶å€™ï¼Œç¨‹åºå°±ä¸ä¼šä½¿ç”¨æŸäº›ä¼˜åŒ–æ‰‹æ®µã€‚ï¼ˆå¦‚è¾“å…¥é‡æ˜¯å¾ªç¯ç´¢å¼•çš„ä¸Šé™ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;ap_int.h&amp;quot;

ap_int&amp;lt;24&amp;gt; foo(int x, int y) {  
 int tmp;

 tmp = (x * y);
 return tmp
} 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šè¿°ä»£ç è¿™ä¼šå¯¼è‡´ä¸€ä¸ª32-bitä¹˜æ³•å™¨ï¼Œè¾“å‡ºå†è¢«æˆªå–ã€‚&lt;br&gt;
ä¸‹é¢è¿™ä¸ªä»£ç ç›´æ¥äº§ç”Ÿä¸€ä¸ª24-bitä¹˜æ³•å™¨ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;ap_int.h&amp;quot;
typedef ap_int&amp;lt;12&amp;gt; din_t;
typedef ap_int&amp;lt;24&amp;gt; dout_t;

dout_t func_sized(din_t x, din_t y) {  
 int tmp;

 tmp = (x * y);
 return tmp
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ccå†…ç½®å‡½æ•°&#34;&gt;C/C++å†…ç½®å‡½æ•°&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åªæ”¯æŒä»¥ä¸‹ä¸¤ä¸ª&lt;/li&gt;
&lt;li&gt;&lt;code&gt;__builtin_clz(unsigned int x)&lt;/code&gt;: Returns the number of leading 0-bits in x, starting at the most significant bit position. If x is 0, the result is undefined.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;__builtin_ctz(unsigned int x)&lt;/code&gt;: Returns the number of trailing 0-bits in x, starting at the least significant bit position. If x is 0, the result is undefined.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å¾ªç¯&#34;&gt;å¾ªç¯&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒå¾—å¾ˆå¥½ã€‚å¯ä»¥åˆ‡æµæ°´çº¿ï¼Œå±•å¼€ã€éƒ¨åˆ†å±•å¼€ã€åˆå¹¶å’Œæ‰å¹³åŒ–&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸è¦ä½¿ç”¨å…¨å±€å˜é‡ä½œä¸ºå¾ªç¯å˜é‡&lt;/strong&gt;ï¼Œå¦åˆ™ä¼šé˜»ç¢ä»£ç ä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¾ªç¯å˜é‡èŒƒå›´&#34;&gt;å¾ªç¯å˜é‡èŒƒå›´&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å¾ªç¯å˜é‡çš„ä¸Šé™å¦‚æœæ˜¯å˜é‡ï¼Œå°±éš¾ä»¥åœ¨ç»¼åˆæ—¶å€™ä¼˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;å¾ªç¯å˜é‡çš„ä¸Šé™å¦‚æœæ˜¯å˜é‡ï¼Œå¾ªç¯çš„latencyæ— æ³•ç¡®å®šã€‚&lt;/li&gt;
&lt;li&gt;å¾ªç¯å˜é‡çš„ä¸Šé™å¦‚æœæ˜¯å˜é‡ï¼Œè®¾è®¡çš„æ€§èƒ½æœªçŸ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;ap_int.h&amp;quot;
#define N 32

typedef ap_int&amp;lt;8&amp;gt; din_t;
typedef ap_int&amp;lt;13&amp;gt; dout_t;
typedef ap_uint&amp;lt;5&amp;gt; dsel_t;

dout_t code028(din_t A[N], dsel_t width) {  

 dout_t out_accum=0;
 dsel_t x;

 LOOP_X:for (x=0;x&amp;lt;width; x++) {
 out_accum += A[x];
 }

 return out_accum;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸ºäº†å…‹æœæ— æ³•åˆ†ææ€§èƒ½çš„ç¼ºç‚¹ï¼Œä¸€èˆ¬æ˜¯åŠ ä¸Š&lt;br&gt;
&lt;code&gt;#pragma HLS loop_tripcount min=&amp;lt;int&amp;gt; max=&amp;lt;int&amp;gt; avg=&amp;lt;int&amp;gt;&lt;/code&gt;&lt;br&gt;
æˆ–è€…æ˜¯ä½¿ç”¨æ–­è¨€&lt;code&gt;assert&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;void foo (num_samples, ...) {
  int i;
  ...
  loop_1: for(i=0;i&amp;lt; num_samples;i++) {
   #pragma HLS loop_tripcount min=12 max=16
   ...
    result = a + b;
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šè¯¥ç¼–è¯‘é€‰é¡¹åªç”¨äºåˆ†æï¼Œä¸ä¼šç”¨äºç»¼åˆã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¯¹äºå…·æœ‰å¯å˜è¾¹ç•Œçš„å¾ªç¯çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šåœ¨å¾ªç¯ä¸­æœ‰æ¡ä»¶åœ°æ‰§è¡Œï¼Œå¹¶ä¸”ä»¤å¾ªç¯è¿­ä»£çš„æ¬¡æ•°ä¸ºå›ºå®šå€¼ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;ap_int.h&amp;quot;
#define N 32

typedef ap_int&amp;lt;8&amp;gt; din_t;
typedef ap_int&amp;lt;13&amp;gt; dout_t;
typedef ap_uint&amp;lt;5&amp;gt; dsel_t;

dout_t loop_max_bounds(din_t A[N], dsel_t width) {  

 dout_t out_accum=0;
 dsel_t x;

 LOOP_X:for (x=0; x&amp;lt;N; x++) {
 if (x&amp;lt;width) {
  out_accum += A[x];
 }
 }

 return out_accum;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å°†å¾ªç¯æµæ°´çº¿åŒ–&#34;&gt;å°†å¾ªç¯æµæ°´çº¿åŒ–&lt;/h2&gt;
&lt;p&gt;é€šå¸¸é€šè¿‡æµæ°´çº¿æœ€å†…å±‚çš„å¾ªç¯æ¥æ‰¾åˆ°é¢ç§¯å’Œæ€§èƒ½ä¹‹é—´çš„æœ€ä½³å¹³è¡¡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;loop_pipeline.h&amp;quot;

dout_t loop_pipeline(din_t A[N]) {  

 int i,j;
 static dout_t acc;

 LOOP_I:for(i=0; i &amp;lt; 20; i++){
 LOOP_J: for(j=0; j &amp;lt; 20; j++){
 acc += A[i] * j;
 }
 }

 return acc;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Pipeline &lt;code&gt;LOOP_J&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªéœ€è°ƒåº¦ä¸€ä¸ªä¹˜æ³•å™¨æ“ä½œå’Œä¸€ä¸ªæ•°ç»„è®¿é—®&lt;/li&gt;
&lt;li&gt;Latency is approximately 400 cycles (20x20) and requires less than 100 LUTs and registers (the I/O control and FSM are always present).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pipeline &lt;code&gt;LOOP_I&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†…éƒ¨å¾ªç¯å±•å¼€20æ¬¡ã€‚&lt;/li&gt;
&lt;li&gt;éœ€è°ƒåº¦20ä¸ªä¹˜æ³•å™¨æ“ä½œå’Œ20ä¸ªæ•°ç»„è®¿é—®&lt;/li&gt;
&lt;li&gt;Latency is approximately 20 cycles but requires a few hundred LUTs and registers. About 20 times the logic as first option, minus any logic optimizations that can be made.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pipeline &lt;code&gt;function loop_pipeline&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è°ƒåº¦400ä¸ªä¹˜æ³•å™¨æ“ä½œå’Œ400ä¸ªæ•°ç»„è®¿é—®&lt;/li&gt;
&lt;li&gt;Latency is approximately 10 (20 dual-port accesses) but requires thousands of LUTs and registers (about 400 times the logic of the first option minus any optimizations that can be made)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä¸å®Œç¾çš„å¾ªç¯åµŒå¥—&#34;&gt;ä¸å®Œç¾çš„å¾ªç¯åµŒå¥—&lt;/h3&gt;
&lt;p&gt;ä¸å®Œç¾çš„å¾ªç¯åµŒå¥—ï¼Œæˆ–è€…æ— æ³•å°†å¾ªç¯åµŒå¥—å±•å¼€ï¼Œä¼šå¯¼è‡´è¿›å…¥å’Œé€€å‡ºå¾ªç¯çš„é¢å¤–æ—¶é’Ÿå‘¨æœŸã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¾ªç¯å¹¶è¡Œ&#34;&gt;å¾ªç¯å¹¶è¡Œ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;HLSä¼šä½¿å¾—é€»è¾‘å’Œå‡½æ•°å¹¶è¡Œï¼Œä½†æ˜¯å¹¶ä¸ä¼šè°ƒåº¦å¾ªç¯æ¥å¹¶è¡Œã€‚&lt;/li&gt;
&lt;li&gt;ä¾‹å­ä¸­SUM_Xå’ŒSUM_Yä¸ä¼šå¹¶è¡Œè°ƒåº¦ï¼Œè€Œæ˜¯é¡ºåºçš„ã€‚ï¼ˆå› ä¸ºä¸¤ä¸ªå¾ªç¯å˜é‡æœ‰ä¸åŒçš„ä¸Šé™ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;loop_sequential.h&amp;quot;

void loop_sequential(din_t A[N], din_t B[N], dout_t X[N], dout_t Y[N], 
 dsel_t xlimit, dsel_t ylimit) {  

 dout_t X_accum=0;
 dout_t Y_accum=0;
 int i,j;

 SUM_X:for (i=0;i&amp;lt;xlimit; i++) {
 X_accum += A[i];
 X[i] = X_accum;
}

 SUM_Y:for (i=0;i&amp;lt;ylimit; i++) {
 Y_accum += B[i];
 Y[i] = Y_accum;
 }
} 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æŠŠä¸¤ä¸ªå¾ªç¯è£…åœ¨functioné‡Œé¢å°±å¯ä»¥å¹¶è¡Œäº†&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;loop_functions.h&amp;quot;

void sub_func(din_t I[N], dout_t O[N], dsel_t limit) {
 int i;
 dout_t accum=0;
  
 SUM:for (i=0;i&amp;lt;limit; i++) {
 accum += I[i];
 O[i] = accum;
 }

}

void loop_functions(din_t A[N], din_t B[N], dout_t X[N], dout_t Y[N], 
 dsel_t xlimit, dsel_t ylimit) {

 sub_func(A,X,xlimit);
 sub_func(B,Y,ylimit);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;è¿™æ˜¯åœ¨å‡½æ•°ä¸­æ•è·å¾ªç¯ä»¥åˆ©ç”¨å¹¶è¡Œæ€§çš„åŸåˆ™&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¾ªç¯ä¾èµ–&#34;&gt;å¾ªç¯ä¾èµ–&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€æ¬¡å¾ªç¯å¼€å§‹å¯èƒ½ä¼šä¾èµ–ä¸Šä¸€æ¬¡å¾ªç¯çš„ç»“æŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt; Minim_Loop: while (a != b) { 
 if (a &amp;gt; b) 
 a -= b; 
 else 
 b -= a;
 }
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;è§£å†³æ–¹æ¡ˆæ˜¯&lt;strong&gt;å°½é‡ç¡®ä¿åˆå§‹æ“ä½œå°½æ—©æ‰§è¡Œ&lt;/strong&gt;(åº”è¯¥å°±æ˜¯å¯¹å¾ªç¯å˜é‡åšä¿®æ”¹ç­‰)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åœ¨cç±»ä¸­ä¸ä¼šå±•å¼€å¾ªç¯&#34;&gt;åœ¨c++ç±»ä¸­ä¸ä¼šå±•å¼€å¾ªç¯&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åº”å°å¿ƒç¡®ä¿å¾ªç¯å½’çº³å˜é‡ä¸æ˜¯ç±»çš„æ•°æ®æˆå‘˜ï¼Œå› ä¸ºè¿™ä¼šé˜²æ­¢å¾ªç¯è¢«å±•å¼€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;template &amp;lt;typename T0, typename T1, typename T2, typename T3, int N&amp;gt;
class foo_class
{
private:
    pe_mac&amp;lt;T0, T1, T2&amp;gt; mac;

public:
    T0 areg;
    T0 breg;
    T2 mreg;
    T1 preg;
    T0 shift[N];
    int k; // Class Member
    T0 shift_output;
    void exec(T1 *pcout, T0 *dataOut, T1 pcin, T3 coeff, T0 data, int col)
    {
    Function_label0:;
#pragma HLS inline off
    SRL:
        for (k = N - 1; k &amp;gt;= 0; --k)
        {
#pragma HLS unroll // Loop will fail UNROLL
            if (k &amp;gt; 0)
                shift[k] = shift[k - 1];
            else
                shift[k] = data;
        }

        *dataOut = shift_output;
        shift_output = shift[N - 1];
    }

    *pcout = mac.exec1(shift[4 * col], coeff, pcin);
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æ•°ç»„&#34;&gt;æ•°ç»„&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;ä»¿çœŸæ—¶å€™å†…å­˜ä¸å¤Ÿæ€ä¹ˆåŠï¼Ÿä¸€ä¸ªå¦¥åçš„æ–¹æ³•æ˜¯åŠ¨æ€å†…å­˜ã€‚&lt;/li&gt;
&lt;li&gt;å®šç‚¹æ•°å ç”¨å†…å­˜ &amp;gt;  arbitrary precision type &amp;gt; Cè‡ªå¸¦ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;ap_int.h&amp;quot;
  
  int i, acc; 
#ifdef __SYNTHESIS__
  // Use an arbitrary precision type &amp;amp; array for synthesis
  ap_int&amp;lt;32&amp;gt;  la0[10000000], la1[10000000]; 
#else 
  // Use an arbitrary precision type &amp;amp; dynamic memory for simulation
 ap_int&amp;lt;int32&amp;gt; *la0 = malloc(10000000  * sizeof(ap_int&amp;lt;32&amp;gt;));
 ap_int&amp;lt;int32&amp;gt; *la1 = malloc(10000000  * sizeof(ap_int&amp;lt;32&amp;gt;));
#endif
  for (i=0 ; i &amp;lt; 10000000; i++) { 
      acc = acc + la0[i] + la1[i]; 
  } 
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ•°ç»„é•¿åº¦å°äº1024&lt;/strong&gt;ï¼šå®ä¾‹åŒ–ä¸ºFIFO&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°ç»„é•¿åº¦å¤§äº1024&lt;/strong&gt;ï¼š ä¿å­˜åœ¨block RAMæˆ–LUTRAMæˆ–UltraRAM&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ•°ç»„è®¿é—®å’Œæ€§èƒ½&#34;&gt;æ•°ç»„è®¿é—®å’Œæ€§èƒ½&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹æ•°ç»„è®¿é—®æ¬¡æ•°è¶Šå¤šï¼Œè¶Šä¼šé™åˆ¶æ€§èƒ½ã€‚ï¼ˆå°¤å…¶æ˜¯åœ¨ä¸€ä¸ªå¾ªç¯ä¸­çš„æƒ…å†µï¼‰&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥æœ‰å¦‚ä¸‹çš„æ›´æ”¹ç­–ç•¥ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;array_mem_bottleneck.h&amp;quot;
 
dout_t array_mem_bottleneck(din_t mem[N]) {  

 dout_t sum=0;
 int i;

 SUM_LOOP:for(i=2;i&amp;lt;N;++i)
   sum += mem[i] + mem[i-1] + mem[i-2];
    
 return sum;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å˜æˆ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;array_mem_perform.h&amp;quot;
 
dout_t array_mem_perform(din_t mem[N]) {  

 din_t tmp0, tmp1, tmp2;
 dout_t sum=0;
 int i;

 tmp0 = mem[0];
 tmp1 = mem[1];
 SUM_LOOP:for (i = 2; i &amp;lt; N; i++) { 
 tmp2 = mem[i];
 sum += tmp2 + tmp1 + tmp0;
 tmp0 = tmp1;
 tmp1 = tmp2;
 } 
    
 return sum;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;fifoè®¿é—®&#34;&gt;FIFOè®¿é—®&lt;/h3&gt;
&lt;p&gt;å› ä¸ºæ˜¯å…ˆå…¥å…ˆå‡ºï¼Œæ‰€ä»¥å¿…é¡»è¦ä»0å¼€å§‹é¡ºåºè®¿é—®ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ¥å£ä¸Šçš„æ•°ç»„topå‡½æ•°å‚æ•°&#34;&gt;æ¥å£ä¸Šçš„æ•°ç»„ï¼ˆtopå‡½æ•°å‚æ•°ï¼‰&lt;/h2&gt;
&lt;p&gt;HLSä¼šé»˜è®¤ä¼šå°†æ¥å£ä¸Šæ•°ç»„è®¤ä¸ºæ˜¯å†…å­˜ã€‚HLSæœ‰ä¸¤ç§å‡è®¾çš„å®ç°æ–¹å¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;off-chipçš„å†…å­˜&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ‡å‡†çš„block RAMï¼Œå»¶è¿Ÿåªæœ‰1clock&lt;/strong&gt;ï¼š æ•°æ®ä¼šåœ¨åœ°å€ç»™å®šåä¸€ä¸ªå‘¨æœŸå‡†å¤‡å¥½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥éœ€è¦ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‡å®šæ˜¯RAMè¿˜æ˜¯FIFOçš„æ¥å£&lt;/li&gt;
&lt;li&gt;æŒ‡å®šRAMæ˜¯å•ç«¯å£è¿˜æ˜¯åŒç«¯å£çš„RAMï¼Œé¢„ç¼–è¯‘é€‰é¡¹ä¸­çš„&lt;code&gt;storage_type&lt;/code&gt;ï¼Œè¯­æ³•æ˜¯&lt;a href=&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/hls_pragmas.html#jit1504034365862__ad411155&#34;&gt;#pragma HLS interface&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;æŒ‡å®šRAMå»¶æ—¶ï¼Œ &lt;code&gt;latency&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ARRAY_PARTITION, ARRAY_RESHAPE ä¸¤ä¸ªä¼˜åŒ–è¾“å…¥çš„å‘½ä»¤ã€‚è¯­æ³•æ˜¯&lt;a href=&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/hls_pragmas.html?#ariaid-title4&#34;&gt;#pragma HLS array_partition&lt;/a&gt;ï¼Œ ç›¸å½“äº&lt;strong&gt;ç”¨å¯„å­˜å™¨ä»£æ›¿RAM&lt;/strong&gt;ï¼Œæˆ–è€…ç”¨æ›´å°çš„RAMæ¥ä»£æ›¿å¤§çš„RAMã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;é»˜è®¤æƒ…å†µä¸‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é»˜è®¤æ˜¯å•ç«¯å£çš„RAMã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœinitiation interval or latencyå¯ä»¥è¢«å‡å°‘ï¼Œåˆ™ä½¿ç”¨åŒç«¯å£çš„RAM&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ•°ç»„åˆå§‹åŒ–&#34;&gt;æ•°ç»„åˆå§‹åŒ–&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å»ºè®®ä½¿ç”¨&lt;code&gt;static&lt;/code&gt;å…³é”®å­—æ¥å»ºç«‹æ•°ç»„ï¼Œä¿è¯HLSå°†å…¶å˜æˆå†…å­˜ã€‚&lt;/li&gt;
&lt;li&gt;ç¡®ä¿åˆå§‹åŒ–å¤§å†…å­˜ä¸ä¼šé€ æˆæ“ä½œå¼€é”€ã€‚ä¸ç”¨staticä¼šåœ¨åˆå§‹åŒ–æ—¶å€™ï¼Œå†™å…¥è¿™äº›å€¼ï¼Œæœ‰ä¸€å®šæ—¶é—´å¼€é”€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å®ä¾‹åŒ–ä¸€ä¸ªrom&#34;&gt;å®ä¾‹åŒ–ä¸€ä¸ªROM&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å»ºè®®ä½¿ç”¨&lt;code&gt;const&lt;/code&gt;æ¥åšä¸€ä¸ªåªè¯»çš„ROMï¼Œå¦‚æœä¸åŠ ï¼Œä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚ç»¼åˆè¿‡ç¨‹è‡ªå·±ä¼šè¿›è¡Œä¼˜åŒ–ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;æ•°æ®ç±»å‹&#34;&gt;æ•°æ®ç±»å‹&lt;/h1&gt;
&lt;h2 id=&#34;cc-ç±»å‹&#34;&gt;C/C++ ç±»å‹&lt;/h2&gt;
&lt;p&gt;ç•¥&lt;/p&gt;
&lt;h2 id=&#34;arbitrary-precision-ap-data-types-ä»»æ„ç²¾åº¦æ•°æ®ç±»å‹&#34;&gt;Arbitrary Precision (AP) Data Types ä»»æ„ç²¾åº¦æ•°æ®ç±»å‹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Cè¯­è¨€å¯ä»¥è¿™æ ·å†™&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;types.h&amp;quot;

typedef int6 dinA_t;
typedef int12 dinB_t;
typedef int22 dinC_t;
typedef int33 dinD_t;
typedef int18 dout1_t;
typedef uint13 dout2_t;
typedef int22 dout3_t;
typedef int6 dout4_t;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;C++æ¨¡ç‰ˆè¿™æ ·å†™&lt;/strong&gt;ï¼Œè¿˜æœ‰ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥å®šä¹‰è¶…å¤§çš„æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;ap_int.h&amp;quot;
void foo_top (â€¦) {
  
 ap_int&amp;lt;9&amp;gt;  var1;           // 9-bit
 ap_uint&amp;lt;10&amp;gt;  var2;         // 10-bit unsigned
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®šç‚¹æ•°-arbitrary-precision-fixed-point-data-types&#34;&gt;å®šç‚¹æ•° Arbitrary Precision Fixed-Point Data Types&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;lt;ap_fixed.h&amp;gt;
...
ap_fixed&amp;lt;18,6,AP_RND &amp;gt; my_type;
...
ap_fixed&amp;lt;2, 0&amp;gt; a = -0.5;    // a can be -0.5,
ap_ufixed&amp;lt;1, 0&amp;gt; x = 0.5;    // 1-bit representation. x can be 0 or 0.5
ap_ufixed&amp;lt;1, -1&amp;gt; y = 0.25;  // 1-bit representation. y can be 0 or 0.25
const ap_fixed&amp;lt;1, -7&amp;gt; z = 1.0/256;  // 1-bit representation for z = 2^-8
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å››ä¸ªæ³›å‹å‚æ•°åˆ†åˆ«ä¸ºï¼Œè§&lt;a href=&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/use_arbitrary_precision_data_type.html#guo1585572335601&#34;&gt;Fixed-Point Identifier Summary&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ€»é•¿åº¦&lt;/li&gt;
&lt;li&gt;æ•´æ•°ä½æ•°ï¼ˆå¯ä»¥ä¸ºè´Ÿæ•°ï¼Œè§ä¾‹å­ï¼‰&lt;/li&gt;
&lt;li&gt;é‡åŒ–æ¨¡å¼&lt;/li&gt;
&lt;li&gt;æº¢å‡ºé¥±å’Œä½æ•°é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¤åˆæ•°æ®ç±»å‹&#34;&gt;å¤åˆæ•°æ®ç±»å‹&lt;/h2&gt;
&lt;h3 id=&#34;struct&#34;&gt;&lt;code&gt;struct&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;é»˜è®¤æˆå‘˜æ˜¯åˆ†è§£çš„ã€‚&lt;strong&gt;ç»“æ„ä½“çš„æ•°ç»„å®ç°ä¸ºå¤šä¸ªæ•°ç»„&lt;/strong&gt;ï¼Œç»“æ„ä½“çš„æ¯ä¸ªæˆå‘˜éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„æ•°ç»„ã€‚&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨pragmaæŒ‡ä»¤æ§åˆ¶æ˜¯å¦åˆ†è§£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;enum&#34;&gt;&lt;code&gt;enum&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;ç•¥&lt;/p&gt;
&lt;h3 id=&#34;unions&#34;&gt;&lt;code&gt;unions&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;HLSç»¼åˆå¹¶ä¸ä¿è¯ä½¿ç”¨ç›¸åŒçš„å†…å­˜æˆ–è€…å¯„å­˜å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç±»å‹é™å®šç¬¦&#34;&gt;ç±»å‹é™å®šç¬¦&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;volatile&lt;/code&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;ç»¼åˆä¸ä¼šè¿›è¡Œä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;Arbitrary precision types do not support the volatile qualifierï¼ˆè®¡ç®—æ—¶å€™ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;static&lt;/code&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;RTLç­‰ä»·æ˜¯å¯„å­˜å™¨ã€è§¦å‘å™¨å’Œå†…å­˜ã€‚&lt;/li&gt;
&lt;li&gt;config_rtl éœ€è¦é…ç½®ï¼Œä¸ç„¶é»˜è®¤å¤ä½ä¸ä¼šåˆå§‹åŒ–ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;const&lt;/code&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å¸¸é‡æˆ–è€…ROM&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å…¨å±€å˜é‡&#34;&gt;å…¨å±€å˜é‡&lt;/h2&gt;
&lt;p&gt;è‡ªç”±ä½¿ç”¨ï¼Œä½†æ˜¯åªå­˜åœ¨è¯¥ipæ ¸å†…éƒ¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æŒ‡é’ˆ&#34;&gt;æŒ‡é’ˆ&lt;/h2&gt;
&lt;p&gt;å¯ä»¥ç»¼åˆï¼Œä½†å°½é‡é¿å…ä½¿ç”¨ã€‚å°¤å…¶æ˜¯ä»¥ä¸‹æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŒä¸€ä¸ªå‡½æ•°ä¸­ï¼Œä¸€ä¸ªæŒ‡é’ˆè¢«è¯»å†™å¤šæ¬¡&lt;/li&gt;
&lt;li&gt;æŒ‡é’ˆç±»å‹è½¬æ¢ä»…é™C/C++æ ‡å‡†ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ¥å£å¤„ä½¿ç”¨æŒ‡é’ˆtopå‡½æ•°çš„å‚æ•°ä¸­&#34;&gt;æ¥å£å¤„ä½¿ç”¨æŒ‡é’ˆï¼ˆtopå‡½æ•°çš„å‚æ•°ä¸­ï¼‰&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åŸºæœ¬æŒ‡é’ˆï¼š
&lt;ul&gt;
&lt;li&gt;æŒ‡é’ˆå¯ä»¥åˆæˆä¸ºä¸€ä¸ªç®€å•çš„&lt;strong&gt;çº¿æ¥å£&lt;/strong&gt;æˆ–ä½¿ç”¨æ¡æ‰‹çš„æ¥å£åè®®ã€‚&lt;/li&gt;
&lt;li&gt;è¦åˆæˆä¸€ä¸ªFIFOæ¥å£ï¼ŒæŒ‡é’ˆå¿…é¡»æ˜¯åªè¯»æˆ–åªå†™çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æŒ‡é’ˆè¿ç®—ï¼š
&lt;ul&gt;
&lt;li&gt;ä¸èƒ½å®ç°ï¼Œä¸èƒ½å®ç°æ— åºè®¿é—®ã€‚&lt;/li&gt;
&lt;li&gt;éœ€è¦å˜æˆæ•°ç»„ï¼Œç”¨RAMå®ç°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æµæ•°æ®
&lt;ul&gt;
&lt;li&gt;C++ ç¼–è¯‘å™¨å¯èƒ½ä¼šä¼˜åŒ–æŒ‡é’ˆçš„è®¿é—®ï¼Œæ‰€ä»¥éœ€è¦åŠ volatileã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;quot;pointer_stream_good.h&amp;quot;

void pointer_stream_good ( volatile dout_t *d_o,  volatile din_t *d_i) {
 din_t acc = 0;

 acc += *d_i;
 acc += *(d_i+1);
 *d_o = acc;
 acc += *(d_i+2);
 acc += *(d_i+3);
 *(d_o+1) = acc;
} 
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;vectorç±»å‹&#34;&gt;Vectorç±»å‹&lt;/h2&gt;
&lt;h3 id=&#34;hlsçš„vectorç±»å‹æ˜¯ä¸ºäº†simdæ“ä½œ&#34;&gt;HLSçš„Vectorç±»å‹æ˜¯ä¸ºäº†SIMDæ“ä½œ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;single-instruction multiple-data (SIMD)ï¼š å•æŒ‡ä»¤ï¼Œå¤šæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;Vitis HLSæä¾›çš„ä¸€ä¸ªæ¨¡ç‰ˆç±»å‹&lt;code&gt;hls::vector&amp;lt;T, N&amp;gt;&lt;/code&gt;: ä¸€ä¸ªæœ‰Nä¸ªTç±»å‹çš„å…ƒç´ ï¼ŒTå¿…é¡»é‡è½½äº†æ•°å­¦è¿ç®—ã€‚&lt;/li&gt;
&lt;li&gt;æœ€ä½³æ€§èƒ½æ˜¯åœ¨&lt;strong&gt;Tçš„ä½å®½&lt;/strong&gt;å’Œ&lt;strong&gt;Nçš„å€¼&lt;/strong&gt;å‡ä¸º2çš„å¹‚æ—¶ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨&lt;code&gt;hls::vector&lt;/code&gt;ä¸Šçš„è¿ç®—æ“ä½œéƒ½ä¼šè¢«å¹¶è¡ŒåŒ–ï¼Œæ‰€ä»¥çŸ©é˜µè¿ç®—ä¸€èˆ¬ä½¿ç”¨è¿™ä¸ªã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#include &amp;lt;hls_vector.h&amp;gt;
hls::vector&amp;lt;T,N&amp;gt;  aVec;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;vector-å†…å­˜å¸ƒå±€&#34;&gt;Vector å†…å­˜å¸ƒå±€&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Vctorå‚¨å­˜æ˜¯å¯¹é½åˆ°2çš„næ¬¡æ–¹çš„ã€‚æ‰€ä»¥æ€§èƒ½æœ€å¥½çš„æ—¶å€™æ˜¯å¤§å°å’Œä½å®½éƒ½ä¸º2çš„å¹‚çš„æ—¶å€™ã€‚&lt;/li&gt;
&lt;li&gt;å®ç°æ–¹å¼å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;constexpr size_t gp2(size_t N)
{
    return (N &amp;gt; 0 &amp;amp;&amp;amp; N % 2 == 0) ? 2 * gp2(N / 2) : 1;
}
 
template&amp;lt;typename T, size_t N&amp;gt; class alignas(gp2(sizeof(T) * N)) vector
{
    std::array&amp;lt;T, N&amp;gt; data;
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;cç±»å’Œæ¨¡ç‰ˆ&#34;&gt;C++ç±»å’Œæ¨¡ç‰ˆ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;ç±»æ˜¯å®Œå…¨æ”¯æŒçš„ã€‚&lt;/li&gt;
&lt;li&gt;ä¸å»ºè®®åœ¨ç±»ä¸­ä½¿ç”¨å…¨å±€å˜é‡ï¼Œä¼šé˜»ç¢ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;æ¨¡ç‰ˆæ˜¯æ”¯æŒçš„ã€‚ä½†ä¸èƒ½ä½œä¸ºé¡¶å±‚å‡½æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;æ–­è¨€&#34;&gt;æ–­è¨€&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;æ–­è¨€å¯ä»¥ç”¨åœ¨ç»¼åˆä¸­ï¼Œæä¾›èŒƒå›´çš„ä¿¡æ¯ã€‚å¦‚å¾ªç¯ä¸Šé™ç­‰ã€‚ï¼ˆä¸åƒtripcount åªèƒ½ç”¨äºåˆ†æï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;é«˜æ€§èƒ½hls&#34;&gt;é«˜æ€§èƒ½HLS&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¯æœ€å¤§ç¨‹åº¦åœ°å‡å°‘å¯¹é¡¶å±‚å‡½æ•°å‚æ•°çš„è®¿é—®ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨é˜µåˆ—ä¸­è®¾ç½®é»˜è®¤å€¼ä¼šèŠ±è´¹æ—¶é’Ÿå‘¨æœŸå’Œæ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;å¤šæ¬¡è¯»å–å’Œé‡æ–°è¯»å–æ•°æ®ä¼šæ¶ˆè€—æ—¶é’Ÿå‘¨æœŸå’Œæ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;ä»¥ä»»æ„æˆ–éšæœºè®¿é—®æ–¹å¼è®¿é—®æ•°æ®è¦æ±‚å°†æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°æ•°ç»„ä¸­ï¼Œæµªè´¹èµ„æºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç¡®ä¿æ•°æ®çš„è¿ç»­æµå’Œæ•°æ®é‡ç”¨&#34;&gt;ç¡®ä¿æ•°æ®çš„è¿ç»­æµå’Œæ•°æ®é‡ç”¨&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å°†æ•°æ®ä»CPUæˆ–ç³»ç»Ÿå†…å­˜ä¼ è¾“åˆ°FPGAï¼Œåˆ™é€šå¸¸ä¼šä»¥&lt;strong&gt;æµä¼ è¾“æ–¹å¼&lt;/strong&gt;è¿›è¡Œä¼ è¾“ã€‚ä»FPGAä¼ è¾“å›ç³»ç»Ÿçš„æ•°æ®ä¹Ÿåº”ä»¥è¿™ç§æ–¹å¼æ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hls::stream&lt;/code&gt; , é¡ºåºè®¿é—®ï¼Œè¡¨ç°ä¸ºä¸€ä¸ªæ— é™æ·±åº¦çš„FIFOã€‚&lt;/li&gt;
&lt;li&gt;åœ¨CPUä½“ç³»ç»“æ„ä¸­ï¼Œé€šå¸¸é¿å…æœ‰æ¡ä»¶æˆ–åˆ†æ”¯æ“ä½œã€‚å½“ç¨‹åºéœ€è¦åˆ†æ”¯æ—¶ï¼Œå®ƒå°†ä¸¢å¤±å­˜å‚¨åœ¨CPUæå–ç®¡çº¿ä¸­çš„æ‰€æœ‰æŒ‡ä»¤ã€‚&lt;strong&gt;åœ¨FPGAä½“ç³»ç»“æ„ä¸­ï¼Œæ¯ä¸ªæ¡ä»¶åˆ†æ”¯çš„ç¡¬ä»¶ä¸­å·²ç»å­˜åœ¨ä¸€æ¡å•ç‹¬çš„è·¯å¾„ï¼Œå¹¶ä¸”ä¸ä¼šä¸æµæ°´çº¿ä»»åŠ¡å†…éƒ¨çš„åˆ†æ”¯ç›¸å…³çš„æ€§èƒ½ä¸‹é™ã€‚è¿™åªæ˜¯é€‰æ‹©è¦ä½¿ç”¨å“ªä¸ªåˆ†æ”¯çš„ä¸€ç§æƒ…å†µã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/hls_pragmas.html&#34;&gt;HLS Pragmas&lt;/a&gt;çš„ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
">Vitis HLS Coding Styles</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/vitis-hls-de-tiny-tutorial-bu-fen-dai-ma-fen-xi/"" data-c="
          &lt;p&gt;å¯¹ä¾‹å­ä¸­çš„è¯­æ³•ç­‰çš„ä¸€ç‚¹è®°å½•&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h1 id=&#34;èƒŒæ™¯ä»‹ç»&#34;&gt;èƒŒæ™¯ä»‹ç»&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;HLS&lt;/strong&gt; (high-level synthesis)ï¼š é«˜çº§ç»¼åˆ, ç”¨ C/C++ä¸ºFPGAå¼€å‘ RTL IP.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Vitis HLS&lt;/strong&gt;:  åœ¨Vivado 2020ç‰ˆæœ¬ä¸­æ›¿ä»£åŸå…ˆçš„Vivado HLS, åŠŸèƒ½ç•¥æœ‰å·®å¼‚ï¼Œåœ¨Vivado HLSä¸­çš„ä¾‹å­ç›´æ¥åœ¨Vitis HLSä¸Šè·‘ä¼šæŠ¥é”™ã€‚è¯¦ç»†æ¯”è¾ƒè§&lt;a href=&#34;https://cloud.tencent.com/developer/article/1745199&#34;&gt;Vivado HLSå’ŒVitis HLSä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HLSä¸­çš„pragmaè¯­æ³•&lt;/strong&gt;: &lt;a href=&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/hls_pragmas.html&#34;&gt;HLS Pragmas&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å†…å®¹&#34;&gt;å†…å®¹&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;#pragma HLS dataflow&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒVitis HLSå·¥å…·è¯•å›¾æœ€å°åŒ–å»¶è¿Ÿå¹¶æé«˜å¹¶å‘æ€§ã€‚ä½†æ˜¯ï¼Œæ•°æ®ä¾èµ–æ€§å¯èƒ½ä¼šé™åˆ¶è¿™ä¸€ç‚¹ã€‚DATAFLOWä¼˜åŒ–ä½¿&lt;strong&gt;å‡½æ•°æˆ–å¾ªç¯ä¸­çš„æ“ä½œèƒ½å¤Ÿåœ¨ä¸Šä¸€ä¸ªå‡½æ•°æˆ–å¾ªç¯å®Œæˆå…¶æ‰€æœ‰æ“ä½œä¹‹å‰å¼€å§‹æ“ä½œ&lt;/strong&gt;ã€‚ï¼ˆèƒ½å¤Ÿåˆ†ææ›´ç»†ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¹Ÿèƒ½å¤Ÿè§£å†³ä¸¤ä¸ªä¸ä¾èµ–å¾ªç¯ä¸å¹¶è¡Œæƒ…å†µï¼ˆç±»ä¼¼äºå°è£…è¿›å‡½æ•°ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;void diamond(data_t vecIn[N], data_t vecOut[N])
{
  data_t c1[N], c2[N], c3[N], c4[N];
#pragma HLS dataflow
  funcA(vecIn, c1, c2);
  funcB(c1, c3);
  funcC(c2, c4);
  funcD(c3, c4, vecOut);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609835551513.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;#pragma HLS pipeline rewind&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;æ„é€ ä¸€ä¸ªè¿ç»­å¾ªç¯çš„æµæ°´çº¿ã€‚ä¸¤æ¬¡å¾ªç¯ä¹‹é—´æ²¡æœ‰æš‚åœã€‚&lt;/li&gt;
&lt;li&gt;ä¸èƒ½åŒ…å«æ¡ä»¶åˆ†æ”¯ (if-else)&lt;/li&gt;
&lt;li&gt;åªæ”¯æŒå¾ªç¯ï¼Œä¸æ”¯æŒå‡½æ•°çš„æµæ°´çº¿åŒ–ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;  for (int i = 0; i &amp;lt; N; i++)
  {
#pragma HLS pipeline rewind
#pragma HLS unroll factor = 2
    data_t t = in[i] * 3;
    out1[i] = t;
    out2[i] = t;
  }
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;#pragma HLS unroll factor = 2&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;å°†å¾ªç¯å±•å¼€å¤šå°‘æ¬¡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;for(int i = 0; i &amp;lt; X; i++) {
  pragma HLS unroll factor=2
  a[i] = b[i] + c[i];
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å˜æˆï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;for(int i = 0; i &amp;lt; X; i += 2) {
  a[i] = b[i] + c[i];
  if (i+1 &amp;gt;= X) break;
  a[i+1] = b[i+1] + c[i+1];
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;#pragma HLS function_instantiate variable=&amp;lt;variable&amp;gt;&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;FUNCTION_INSTANTIATEç¼–è¯‘æŒ‡ç¤ºç”¨äºä¸ºå‡½æ•°çš„æ¯ä¸ªå®ä¾‹åˆ›å»ºå”¯ä¸€çš„RTLå®ç°ï¼Œä»è€Œå¯ä»¥æ ¹æ®å‡½æ•°è°ƒç”¨å¯¹æ¯ä¸ªå®ä¾‹è¿›è¡Œæœ¬åœ°ä¼˜åŒ–ã€‚å› ä¸ºï¼šè°ƒç”¨å‡½æ•°æ—¶ï¼Œ&lt;strong&gt;å‡½æ•°çš„æŸäº›è¾“å…¥å¯ä»¥æ˜¯æ’å®šå€¼&lt;/strong&gt;ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥ç®€åŒ–å‘¨å›´çš„æ§åˆ¶ç»“æ„å¹¶&lt;strong&gt;ç”Ÿæˆæ›´å°çš„&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ›´ä¼˜åŒ–çš„åŠŸèƒ½å—&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;variable&lt;/code&gt;æ˜¯å¿…éœ€çš„å‚æ•°ï¼Œç”¨äºå®šä¹‰è¦ç”¨ä½œå¸¸é‡çš„å‡½æ•°å‚æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;char foo(char inval, char incr) {
#pragma HLS INLINE OFF
#pragma HLS FUNCTION_INSTANTIATE variable=incr
 return inval + incr;
}

void top(char inval1, char inval2, char inval3,
 char *outval1, char *outval2, char *outval3)
{
 *outval1 = foo(inval1,   0);
 *outval2 = foo(inval2,   1);
 *outval3 = foo(inval3, 100);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸å®Œç¾çš„å¾ªç¯(imperfect loop)&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;å†…å±‚å¾ªç¯ä¸Šé™æ˜¯ä¸€ä¸ªå˜é‡ã€‚&lt;/li&gt;
&lt;li&gt;å¾ªç¯ä½“å¹¶éå…¨éƒ¨åœ¨æœ€é‡Œå±‚å¾ªç¯ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥&lt;strong&gt;æ²¡æ³•å±•å¼€&lt;/strong&gt;ï¼Œä¼šé€ æˆé¢å¤–çš„è¿›å‡ºå¾ªç¯çš„æ—¶é’Ÿå‘¨æœŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;    LOOP_I:for(i=0; i &amp;lt; 20; i++){
        acc = 0;
        LOOP_J: for(j=0; j &amp;lt; 20; j++){
            acc += A[j] * j;
        }
        if (i%2 == 0)
            B[i] = acc / 20;
        else
            B[i] = 0;
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;å°†ä¸å®Œç¾å¾ªç¯æ”¹å†™æˆå®Œç¾å¾ªç¯çš„trickï¼š&lt;strong&gt;ä½¿ç”¨æ¡ä»¶è¯­å¥&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;    LOOP_I:for(i=0; i &amp;lt; 20; i++){
        LOOP_J: for(j=0; j &amp;lt; 20; j++){
            if(j==0) acc = 0;
            acc += A[j] * j;
            if(j==19) {
                if (i%2 == 0)
                    B[i] = acc / 20;
                else
                    B[i] = 0;
            }
        }
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¾ªç¯å¯ä»¥æ²¡æœ‰labelï¼ŒHLSä¼šç”Ÿæˆé»˜è®¤labelã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¾ªç¯ä¸Šé™ä¸ºå˜é‡çš„ä¼˜åŒ–æ–¹æ³•ï¼š &lt;strong&gt;ä½¿ç”¨æ¡ä»¶è¯­å¥&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;  LOOP_X:for (x=0;x&amp;lt;N-1; x++) {
    if (x&amp;lt;width) {
      out_accum += A[x];
    }
  }
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥åˆ©ç”¨ä¸¤ä¸ªç‹¬ç«‹çš„æ¨¡å—æ¥å‹ç¼©æµæ°´çš„II ï¼ˆç”¨æ¨¡ç‰ˆå®ç°è¾ƒä¸ºæ–¹ä¾¿ï¼Œéœ€è¦é…åˆä¸Šå¤šè·¯é€‰æ‹©å™¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;//                    +--proc--&amp;gt;[ II=2 ]--+
//                   /                     \               
// in --&amp;gt;[demux II=1]                       [mux II=1]---&amp;gt; out
//                   \                     /
//                    +--proc--&amp;gt;[ II=2 ]--+

#include &amp;quot;example.h&amp;quot;

//--------------------------------------------
template &amp;lt;int ID&amp;gt;
void proc(stream&amp;lt;int&amp;gt; &amp;amp;in, stream&amp;lt;int&amp;gt; &amp;amp;out)
{
    for (int i = 0; i &amp;lt; 25; i++)
    {
#pragma HLS PIPELINE II=2
#pragma HLS LATENCY min=2 max=2
        int var;
        in.read(var);
        out.write(var);
    }
}

//--------------------------------------------
void mux(stream&amp;lt;int&amp;gt; (&amp;amp;inter)[2], stream&amp;lt;int&amp;gt; &amp;amp;mux_output)
{
    int mux_sel = 0;
    for (int i = 0; i &amp;lt; 50; i++)
    {
#pragma HLS PIPELINE II=1
        int var;
        inter[mux_sel].read(var);
        mux_output.write(var);
        mux_sel = (mux_sel == 0) ? (1) : (0);
    }
}

//--------------------------------------------
void demux(stream&amp;lt;int&amp;gt; &amp;amp;in, stream&amp;lt;int&amp;gt; (&amp;amp;inter)[2])
{
    int demux_sel = 0;
    for (int i = 0; i &amp;lt; 50; i++)
    {
#pragma HLS PIPELINE II=1

        int var;
        in.read(var);
        inter[demux_sel].write(var);
        demux_sel = (demux_sel == 0) ? 1 : 0;
    }
}

void example(stream&amp;lt;int&amp;gt; &amp;amp;in, stream&amp;lt;int&amp;gt; &amp;amp;out)
{
#pragma HLS DATAFLOW

    stream&amp;lt;int&amp;gt; inter[2];
    stream&amp;lt;int&amp;gt; mux_in[2];

#pragma HLS STREAM variable = inter depth = 16
#pragma HLS STREAM variable = mux_in depth = 16

    demux(in, inter);
    proc&amp;lt;0&amp;gt;(inter[0], mux_in[0]);
    proc&amp;lt;1&amp;gt;(inter[1], mux_in[1]);
    mux(mux_in, out);
}
&lt;/code&gt;&lt;/pre&gt;
">Vitis HLS çš„Tiny Tutorialéƒ¨åˆ†ä»£ç åˆ†æ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/wu-zhou-nian-la/"" data-c="
          &lt;p&gt;&lt;strong&gt;2021-1-3ï¼š æ°´å‰å’Œè‡­è‡­äº”å‘¨å¹´å•¦ï¼&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609601219382.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h1 id=&#34;2020å¹´çš„ä¸€æœˆé‚£ä¹ˆè¿‘åˆé‚£ä¹ˆè¿œ&#34;&gt;2020å¹´çš„ä¸€æœˆï¼Œé‚£ä¹ˆè¿‘åˆé‚£ä¹ˆè¿œ&lt;/h1&gt;
&lt;p&gt;2020å¹´è·¨å¹´è¿™ä¸€å¤©ï¼Œä¹¡æ‘æ•™å¸ˆå‰è¿”å›åŒ—äº¬ï¼Œå’Œè¢«æ— æ•°è€ƒè¯•æ‘§æ®‹çš„è‡­ç¬¬ä¸€æ¬¡è·¨å¹´+å‚åŠ å­¦æ ¡çš„è·¨å¹´æ™šä¼š~&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609590165354.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;æ–°æ–°å»¿å»¿&lt;/strong&gt;çš„2020æ¥å•¦&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609590219882.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;é‚£æ—¶çš„æˆ‘ä»¬è¿˜ä¸çŸ¥é“2020ä¼šæ˜¯ä¸€å›¢ç³ŸğŸ™ŠğŸ™‰ğŸ™ˆ&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;å›æ–°æ´¥(æ°å¥½é”™è¿‡äº†é€”å¾„æ­¦æ±‰çš„ç«è½¦)ï¼Œä¸€èµ·å»çœ‹æœ›äº†æ°´å‰å¦ˆå¦ˆå®¶çš„å°æ³°è¿ª~ğŸ¶ğŸ¶ğŸ¶&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609592085383.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;äºŒæœˆä¸‰æœˆå®¶é‡Œè¹²&#34;&gt;äºŒæœˆä¸‰æœˆå®¶é‡Œè¹²&lt;/h1&gt;
&lt;p&gt;ä¸€æœˆæœ«ï¼Œç–«æƒ…å¼€å§‹ä¸¥é‡èµ·æ¥äº†ã€‚æˆ‘ä»¬å°±åªèƒ½éª‘ç€å°ç”µé©´åœ¨ä¸¤ä¸ªå®¶é—´ç©¿æ¢­ï¼Œä¸€ä¸‰äº”åœ¨è‡­è‡­å®¶ï¼ŒäºŒå››å…­åœ¨æ°´å‰å®¶ã€‚å°±è¿™æ ·å¼€å¼€å¿ƒå¿ƒåœ°åº¦è¿‡äº†ä¸¤ä¸ªæœˆ~(ç›‘ç®¡æœ€ä¸¥æ ¼çš„æ—¶å€™ç”šè‡³åªèƒ½åœ¨è¶…å¸‚ç¢°å¤´....)&lt;/p&gt;
&lt;p&gt;æƒ…äººèŠ‚çš„ç¤¼ç‰©æ˜¯å±±åœ°ç«ç‘°ï¼&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609591290870.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰å°ç›¸æœº~ è¿™æ ·åè®°æ€§çš„æ°´å‰å°±èƒ½å¤Ÿè®°å½•ä¸‹æ›´å¤šåœ¨ä¸€èµ·çš„ç¾å¥½å›å¿†å•¦~&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609592821850.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶è¿˜æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åœ¨å®¶é‡Œä¸€èµ·åƒç«é”…&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609593178211.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸€èµ·ç©¿ç¡è¡£ä¸€èµ·åˆ·å‰§ä¸€èµ·æ¯”å¿ƒ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609593229660.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸€èµ·æ³¡jio&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609593307478.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸€èµ·å°¬èˆï¼Œç¬¬ä¸€æ¬¡ä¹Ÿæ˜¯å”¯ä¸€çš„ä¸€æ¬¡ä¸¤ä¸ªäººåŒæ—¶MEGASTAR&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609594381621.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸€èµ·ç©è€&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609593946953.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸€èµ·åšé¥­&lt;/strong&gt;&lt;br&gt;
éƒ½è¢«åƒæ‰äº†ï¼Œæ²¡æœ‰å›¾äº†ğŸ˜‚&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å››æœˆäº”æœˆæ·±åœ³happy&#34;&gt;å››æœˆäº”æœˆæ·±åœ³happy&lt;/h1&gt;
&lt;p&gt;å››æœˆäº”æœˆï¼Œæ°´å‰çš„å“¥å“¥è®©æ°´å‰å»æ·±åœ³å¸®å¿™ï¼Œæˆ‘ä¹Ÿä¸€å¹¶å»è¹­åƒè¹­å–:)ğŸğŸ–ğŸ—ğŸ¤ğŸ¨ğŸ¡ğŸœ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åƒ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609595003396.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åƒ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609595010299.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åšé¥­ï¼Œç„¶ååƒ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609595046890.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†åšé¥­ï¼Œç„¶ååƒ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609595058832.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ€ååœ¨åŠå…¬å®¤æ’æ»¡äº†æ°´å‰å–œæ¬¢çš„èŠ±èŠ±~&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609595105586.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å…­æœˆä¸ƒæœˆæ˜¯åˆ†å¼€çš„ä¸¤ä¸ªæœˆ&#34;&gt;å…­æœˆä¸ƒæœˆæ˜¯åˆ†å¼€çš„ä¸¤ä¸ªæœˆ&lt;/h1&gt;
&lt;p&gt;ç–«æƒ…æ§åˆ¶ä½äº†ï¼Œä¹¡æ‘å¥³æ•™å¸ˆå‰å‰æ°´ç»“æŸäº†ç½‘ä¸Šä¸Šè¯¾ï¼Œåˆå›åˆ°äº†å±±è¥¿ï¼Œæˆä¸ºäº†è½æ°´æ²³æœ€å¼ºçš„åœ°ç†è€å¸ˆï¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å”¯ä¸€çš„çº¦ä¼šåœ°ç‚¹æ˜¯å¬å”¤å¸ˆå³¡è°·&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609595665922.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ°´å‰ç»™å®¶é‡Œä¹°äº†ä¸€å †è‚‰è‚‰~&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609595729442.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å…«æœˆ-è€å¸æœºå˜Ÿå˜Ÿå˜Ÿ&#34;&gt;å…«æœˆ è€å¸æœºå˜Ÿå˜Ÿå˜Ÿ&lt;/h1&gt;
&lt;p&gt;æ°´å‰å›æ¥å•¦ï¼æˆ‘ä»¬ä¹Ÿå¼€å§‹å­¦è½¦è½¦ï¼ç§‘ä¸€æˆ‘ä»¬éƒ½è€ƒäº†ä¸€æ ·çš„åˆ†æ•°~&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å˜Ÿå˜Ÿå˜Ÿï¼Œå¼€è½¦å•¦&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609595988555.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¹Ÿå»äº†å¹¿å®‰çš„çŒ«çŒ«å’–å•¡å…ï¼Œä¸è¿‡è¿˜æœ‰äººæŠ½çƒŸ....&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609596042550.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;ä¹æœˆ-è¿”æ ¡åƒåƒåƒ&#34;&gt;ä¹æœˆ è¿”æ ¡åƒåƒåƒ&lt;/h1&gt;
&lt;p&gt;å…«æœˆæœ«ç»ˆäºå¯ä»¥è¿”æ ¡äº†ï¼Œæ°´å‰çˆ¸çˆ¸å»è¥¿è—ç©å•¦ï¼Œå¯æ€œå‰åªå¥½ä½åœ¨æˆ‘å®¶ã€‚ç™½å¤©å­¦è½¦åšé¥­ï¼Œæ™šä¸Šå’Œå¦ˆå¦ˆä¸€èµ·åˆ·å‰§ï¼Œæœ€åæƒŠé™©é€šè¿‡ç§‘äºŒï¼Œ è€Œæˆ‘åœ¨å­¦æ ¡åƒåƒåƒåƒåƒåƒåƒğŸ¤¤ğŸ¤¤ğŸ¤¤&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŠå¹´å¤šæ²¡æœ‰æµ‡æ°´çš„è‚‰è‚‰ä»¬&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609596722960.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ°´å‰é€çš„è‚‰è‚‰ä»¬ç«Ÿç„¶åŸºæœ¬è¿˜æ˜¯å¥½å¥½çš„ï¼Œé™¤äº†å®éªŒå®¤çš„é‚£ä¸ªå°ä¸ªå­é¡¶ä¸ä½äº†~&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609596772512.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å’Œå®¤å‹è¿”æ ¡ç¬¬ä¸€é¤&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609596564140.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¿”æ ¡åå’Œå¤§å®¶åƒåƒåƒ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609596800689.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609596808591.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609596818858.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ°´å‰å›æ¥å•¦ï¼Œå»æ°´å‰æœ€å–œæ¬¢çš„é‡å…«~&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609596866823.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;åæœˆ-å‡ºæ¸¸-ç”Ÿæ—¥å’Œæ¡Œæ¸¸&#34;&gt;åæœˆ å‡ºæ¸¸ã€ç”Ÿæ—¥å’Œæ¡Œæ¸¸&lt;/h1&gt;
&lt;p&gt;æ¯å¹´åæœˆï¼Œéƒ½æ˜¯å¤©é«˜æ°”çˆ½çš„å¥½æ—¥å­ï¼Œéå¸¸é€‚åˆå‡ºå»ç©ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å†çˆ¬èŸ’å±±&lt;s&gt;å¤§çˆ·&lt;/s&gt;å°å¼Ÿ&lt;/strong&gt;&lt;br&gt;
ä»Šå¤©çš„åä¸€åˆå»äº†èŸ’å±±ï¼ŒèŸ’å±±å¤§çˆ·ä¼¼ä¹ä»Šå¹´æ ¼å¤–çš„çŸ®å°ï¼Œä¸€ä¼šå°±ç™»é¡¶å•¦ï¼&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609597594730.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å»é‡é¸­æ¹–ï¼&lt;/strong&gt;&lt;br&gt;
æ‹…ä»»å°å­¦æœŸåŠ©æ•™çš„æ„å¤–ä¹‹å–œï¼Œç§‹å¤©çš„é‡é¸­æ¹–çœŸçš„å¥½æ¼‚äº®~&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609597706914.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609597713248.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609597735946.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è‡­è‡­çš„ç”Ÿæ—¥&lt;/strong&gt;&lt;br&gt;
è¿™ä¸€å¤©ï¼Œæ°´å‰å› ä¸ºæœ‰ç¯®çƒæ¯”èµ›æ—©æ—©ç¦»å¼€å•¦~å’Œå¤§ä¸ºã€sffåœ¨å®¿èˆå¿«ä¹åš¯å¥¶èŒ¶ï¼Œå¼€å¿ƒå¡å¡é¢‚ï¼&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609597802417.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æå‰é€ç»™æ°´å‰çš„ç”Ÿæ—¥ç¤¼ç‰©&lt;/strong&gt;&lt;br&gt;
ä»Šå¹´é€ç»™æ°´å‰çš„ç¤¼ç‰©æ˜¯ä¸€ä¸ªèƒ½å¤Ÿæ”¾è¿›ä¹¦åŒ…çš„itxä¸»æœº~è€å¤«è€å¦»äº†ï¼Œæ—©é€æ—©äº«å—ğŸ’»ä»æ­¤æ°´å‰çš„0-12å¿«ä¹æè«å†ä¹Ÿä¸èƒ½æ‰¾ç”µè„‘å¡çš„ç†ç”±äº†hhhhhhhhh&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609597946418.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¡Œæ¸¸ã€æ¡Œæ¸¸ï¼&lt;/strong&gt;&lt;br&gt;
ä»Šå¹´æ˜¯æ°´å‰çˆ±ç©çš„ä¸€å¹´ï¼Œä»å¡å°”è¾¾åˆ°å¡å¡é¢‚ã€å¡å¦å²›ï¼Œæ°´å‰ç©ä¸ªä¸åœï¼&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609598264941.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ï¼ˆè¢«è¿«åŠ å…¥æ¸¸æˆçš„æˆ‘ï¼‰&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;åä¸€-åäºŒæœˆ-åƒåƒåƒå’Œæ°´å‰çš„ç”Ÿæ—¥&#34;&gt;åä¸€ã€åäºŒæœˆ åƒåƒåƒå’Œæ°´å‰çš„ç”Ÿæ—¥&lt;/h1&gt;
&lt;p&gt;ä»Šå¹´çš„å†¬å¤©æ ¼å¤–çš„å†·ï¼Œæ‰€ä»¥æ¶®è‚‰è¦åƒèµ·æ¥å•Šï¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¬è¯´ï¼Œåˆé›ªå’Œæ¶®è‚‰æ›´é…å“¦&lt;/strong&gt;&lt;br&gt;
åˆé›ªï¼Œæˆ‘ä»¬å»äº†å››é“å£æœ€å¥½åƒçš„æ¶®è‚‰ï¼Œæ’é˜Ÿåˆ°äº†ä¸‹åˆä¸¤ç‚¹.....&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609598677322.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¹å¿™çš„åäºŒæœˆï¼Œæˆ‘ä»¬ç»ˆäºåœ¨äº”é“å£æ‰¾äº†ä¸€å®¶å’–å•¡å…&lt;/strong&gt;&lt;br&gt;
ä»Šå¹´å› ä¸ºæ ¡å›­å°é—­ï¼Œä¸èƒ½å†åˆ°æ ¡å›­é‡Œé¢æ¥å­¦ä¹ äº†ï¼Œç»è¿‡å‡ ç•ªè¾—è½¬ï¼Œç»ˆäºåœ¨äº”é“å£æ‰¾åˆ°äº†æ–°çš„è½è„šä¹‹åœ°ï¼Œåˆå¯ä»¥ä¸€èµ·å­¦ä¹ äº†ã€‚&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609598757515.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åœ£è¯â€”â€”æ°´å‰çš„ç”Ÿæ—¥&lt;/strong&gt;&lt;br&gt;
å’Œæ°´å‰ä»¥åŠæ°´å‰çš„å®¤å‹ä»¬ä¸€èµ·åƒé¥­å”±Kï¼Œæ²¡é”™æˆ‘å°±æ˜¯Kæ­Œä¹‹ç‹&lt;sub&gt;(çš„è€å…¬)&lt;/sub&gt;ã€‚&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609600194043.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å†æ¬¡å°æ ¡å‰çš„æœ€åä¸€æ¬¡è§é¢&lt;/strong&gt;&lt;br&gt;
å­¦æ ¡åˆè¦å°é—­äº†ï¼Œèµ¶åœ¨æœ€åä¸€å¤©å’Œæ°´å‰è§äº†ä¸€é¢ï¼Œè¿˜åƒäº†å°å®‡å“¥æ¨èçš„å¥½åƒä¸²ä¸²ï¼ï¼ˆå½“å¤©å› ä¸ºå¯’å†·å˜æˆèƒ†å°è‡çš„æˆ‘â†“ï¼‰&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609600950737.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;2021&#34;&gt;2021ğŸ’‘ğŸ’&lt;/h1&gt;
&lt;p&gt;æ–°çš„ä¸€å¹´ï¼Œ2021ğŸ›ğŸ›ğŸ›å•Šï¼&lt;/p&gt;
&lt;p&gt;å¥½åƒæ²¡å•¥å¥½è¯´çš„äº†ï¼Œé‚£ &lt;strong&gt;æœ€åç¥å¤§å®¶èº«ä½“å¥åº·!!ç§‘ç ”æœ‰æˆ!!&lt;/strong&gt;&lt;/p&gt;
">ğŸ‘¨ğŸ‘©ğŸ’äº”å‘¨å¹´å•¦~ğŸ¥‚ğŸ»</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/fpga-yong-lai-jia-su-yun-suan-de-diao-yan/"" data-c="
          &lt;p&gt;FPGAç”¨æ¥åŠ é€Ÿè¿ç®—çš„è°ƒç ”.ğŸ˜&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;&#34;&gt;&lt;a href=&#34;https://www.zhihu.com/question/280468724/answer/517329473&#34;&gt;&lt;strong&gt;FPGAç®—æ³•åŠ é€Ÿæœ‰ä»€ä¹ˆä¸€èˆ¬çš„å¥—è·¯ï¼Ÿ - Dorus TANçš„å›ç­” - çŸ¥ä¹&lt;/strong&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¹¶è¡Œè®¡ç®—ï¼Œæ¯”å¦‚æ¯ä¸ªæ­¥éª¤æ²¡æœ‰å…³è¿æ€§çš„å¾ªç¯æ“ä½œï¼›&lt;/li&gt;
&lt;li&gt;ç®—æ³•æ­¥éª¤çš„å›ºå®šç¨‹åº¦ï¼Œé€šå¸¸è¶Šå›ºå®šçš„ç®—æ³•è¶Šé€‚åˆç”¨æµæ°´çº¿å®ç°ï¼Œè™½ç„¶ç»“æœå»¶è¿Ÿå·®ä¸å¤šï¼Œä½†æ˜¯æµæ°´ç»“æ„çš„ååé‡éå¸¸å¤§ï¼›&lt;/li&gt;
&lt;li&gt;ä¹˜æ³•è¿ç®—ï¼ŒFPGAçš„ä¹˜æ³•è¿ç®—é€šå¸¸ç”¨ä¹˜æ³•å™¨åªéœ€è¦ä¸€ä¸ªå‘¨æœŸï¼›&lt;/li&gt;
&lt;li&gt;ä¸€äº›ç‰¹å®šçš„çŸ©é˜µè¿ç®—ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;-2&#34;&gt;&lt;a href=&#34;https://www.zhihu.com/question/24174597/answer/138717507&#34;&gt;&lt;strong&gt;å¦‚ä½•è¯„ä»·å¾®è½¯åœ¨æ•°æ®ä¸­å¿ƒä½¿ç”¨ FPGA ä»£æ›¿ä¼ ç»Ÿ CPU çš„åšæ³•ï¼Ÿ - æåšæ°çš„å›ç­” - çŸ¥ä¹&lt;/strong&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;FPGA ä¸ºä»€ä¹ˆå¿«ï¼Ÿã€Œéƒ½æ˜¯åŒè¡Œè¡¬æ‰˜å¾—å¥½ã€ã€‚&lt;strong&gt;CPUã€GPU éƒ½å±äºå†¯Â·è¯ºä¾æ›¼ç»“æ„ï¼ŒæŒ‡ä»¤è¯‘ç æ‰§è¡Œã€å…±äº«å†…å­˜&lt;/strong&gt;ï¼ŒFPGA ä¹‹æ‰€ä»¥æ¯” CPU ç”šè‡³ GPU èƒ½æ•ˆé«˜ï¼Œæœ¬è´¨ä¸Šæ˜¯æ— æŒ‡ä»¤ã€æ— éœ€å…±äº«å†…å­˜çš„ä½“ç³»ç»“æ„å¸¦æ¥çš„ç¦åˆ©ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;FPGA æ¯ä¸ªé€»è¾‘å•å…ƒçš„åŠŸèƒ½åœ¨é‡ç¼–ç¨‹ï¼ˆçƒ§å†™ï¼‰æ—¶å°±å·²ç»ç¡®å®šï¼Œ&lt;strong&gt;ä¸éœ€è¦æŒ‡ä»¤&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®¡ç®—å¯†é›†å‹ä»»åŠ¡&lt;/strong&gt;(åŒ…æ‹¬çŸ©é˜µè¿ç®—ã€å›¾åƒå¤„ç†ã€æœºå™¨å­¦ä¹ ã€å‹ç¼©ã€éå¯¹ç§°åŠ å¯†ã€Bing æœç´¢çš„æ’åºç­‰)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Stratix V FPGA çš„æ•´æ•°ä¹˜æ³•è¿ç®—æ€§èƒ½ä¸ 20 æ ¸çš„ CPU åŸºæœ¬ç›¸å½“&lt;/li&gt;
&lt;li&gt;æµ®ç‚¹ä¹˜æ³•è¿ç®—æ€§èƒ½ä¸ 8 æ ¸çš„ CPU åŸºæœ¬ç›¸å½“ï¼Œè€Œæ¯” GPU ä½ä¸€ä¸ªæ•°é‡çº§ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ•°æ®ä¸­å¿ƒï¼ŒFPGA ç›¸æ¯” GPU çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äº&lt;strong&gt;å»¶è¿Ÿ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;FPGA åŒæ—¶æ‹¥æœ‰&lt;strong&gt;æµæ°´çº¿å¹¶è¡Œå’Œæ•°æ®å¹¶è¡Œ&lt;/strong&gt;ï¼Œè€Œ GPU å‡ ä¹åªæœ‰æ•°æ®å¹¶è¡Œï¼ˆæµæ°´çº¿æ·±åº¦å—é™ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®ä¸­å¿ƒçš„è®¡ç®—ä»»åŠ¡æ˜¯&lt;strong&gt;çµæ´»å¤šå˜&lt;/strong&gt;çš„ï¼Œè€Œ ASIC ç ”å‘æˆæœ¬é«˜ã€å‘¨æœŸé•¿ã€‚å¥½ä¸å®¹æ˜“å¤§è§„æ¨¡éƒ¨ç½²äº†ä¸€æ‰¹æŸç§ç¥ç»ç½‘ç»œçš„åŠ é€Ÿå¡ï¼Œç»“æœå¦ä¸€ç§ç¥ç»ç½‘ç»œæ›´ç«äº†ï¼Œé’±å°±ç™½è´¹äº†ã€‚FPGA åªéœ€è¦å‡ ç™¾æ¯«ç§’å°±å¯ä»¥æ›´æ–°é€»è¾‘åŠŸèƒ½ã€‚FPGA çš„çµæ´»æ€§å¯ä»¥ä¿æŠ¤æŠ•èµ„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é€šä¿¡å¯†é›†å‹ä»»åŠ¡&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»ååé‡ä¸Šè®²ï¼ŒFPGA ä¸Šçš„æ”¶å‘å™¨å¯ä»¥ç›´æ¥æ¥ä¸Š 40 Gbps ç”šè‡³ 100 Gbps çš„ç½‘çº¿ï¼Œä»¥çº¿é€Ÿå¤„ç†ä»»æ„å¤§å°çš„æ•°æ®åŒ…ã€‚&lt;/li&gt;
&lt;li&gt;ç½‘å¡æŠŠæ•°æ®åŒ…æ”¶åˆ° CPUï¼ŒCPU å†å‘ç»™ç½‘å¡ï¼Œå³ä½¿ä½¿ç”¨ DPDK è¿™æ ·é«˜æ€§èƒ½çš„æ•°æ®åŒ…å¤„ç†æ¡†æ¶ï¼Œå»¶è¿Ÿä¹Ÿæœ‰ 4~5 å¾®ç§’ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åªè¦è§„æ¨¡è¶³å¤Ÿå¤§ï¼Œå¯¹ FPGA ä»·æ ¼è¿‡é«˜çš„æ‹…å¿ƒå°†æ˜¯ä¸å¿…è¦çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹å¾ˆå¤šç±»å‹çš„åº”ç”¨ï¼Œéšç€åˆ†å¸ƒå¼ FPGA åŠ é€Ÿå™¨çš„è§„æ¨¡æ‰©å¤§ï¼Œå…¶æ€§èƒ½æå‡æ˜¯è¶…çº¿æ€§çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŠŠä»»åŠ¡æ‹†åˆ†åˆ°åˆ†å¸ƒå¼ FPGA é›†ç¾¤çš„å…³é”®åœ¨äºå¹³è¡¡è®¡ç®—å’Œé€šä¿¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¯åšä¸€ç‚¹ä¸åŒçš„äº‹æƒ…ï¼Œå°±è¦å ç”¨ä¸€å®šçš„ FPGA é€»è¾‘èµ„æºã€‚&lt;strong&gt;å¦‚æœè¦åšçš„äº‹æƒ…å¤æ‚ã€é‡å¤æ€§ä¸å¼ºï¼Œå°±ä¼šå ç”¨å¤§é‡çš„é€»è¾‘èµ„æºï¼Œå…¶ä¸­çš„å¤§éƒ¨åˆ†å¤„äºé—²ç½®çŠ¶æ€&lt;/strong&gt;ã€‚è¿™æ—¶å°±ä¸å¦‚ç”¨å†¯Â·è¯ºä¾æ›¼ç»“æ„çš„å¤„ç†å™¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;FPGA å’Œ CPU ååŒå·¥ä½œï¼Œ&lt;strong&gt;å±€éƒ¨æ€§å’Œé‡å¤æ€§å¼ºçš„å½’ FPGAï¼Œå¤æ‚çš„å½’ CPU&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;-3&#34;&gt;&lt;a href=&#34;https://china.xilinx.com/support/documentation/white_papers/c_wp491-floating-to-fixed-point.pdf&#34;&gt;&lt;strong&gt;å°†æµ®ç‚¹è½¬ä¸ºå®šç‚¹å¤§å¹…é™ä½åŠŸè€—å’Œæˆæœ¬ - Xilinx&lt;/strong&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨å®šç‚¹å®ç°çš„è®¾è®¡æ€»æ˜¯æ¯”ç”¨æµ®ç‚¹å®ç°çš„åŒä¸€è®¾è®¡æ›´åŠ é«˜æ•ˆï¼Œå› ä¸ºå®šç‚¹å®ç°æ–¹æ¡ˆæ‰€å ç”¨çš„èµ„æºå’Œæ¶ˆè€—çš„åŠŸè€—æ›´å°‘ã€‚è‹¥å°†è®¾è®¡è¿ç§»åˆ°å®šç‚¹ï¼ŒåŠŸè€—å’Œå ç”¨é¢ç§¯ç¼©å‡ä¸€åŠå¹¶ä¸ç¨€å¥‡ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºé‡‡ç”¨ C/C++ è¯­è¨€è®¾è®¡çš„å®¢æˆ·ï¼Œèµ›çµæ€æä¾› Vivado HLS å¹¶æ”¯æŒä»»æ„ç²¾åº¦å®šç‚¹æ•°æ®ç±»å‹ï¼Œä½¿å®¢æˆ·èƒ½å¤Ÿæ–¹ä¾¿åœ°é‡‡ç”¨å®šç‚¹è¿›è¡Œè®¾è®¡æˆ–è€…å°†ç°æœ‰çš„ C/C++ è®¾è®¡è½¬æ¢æˆå®šç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æµ®ç‚¹è½¬æ¢ä¸ºå®šç‚¹çš„ä¼˜åŠ¿&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;å‡å°‘ FPGA èµ„æºå ç”¨ï¼ˆæ‰€éœ€çš„ DSP48E2ã€æŸ¥æ‰¾è¡¨ (LUT) å’Œè§¦å‘å™¨æ›´å°‘ï¼Œå­˜å‚¨å®šç‚¹æ•°å­—æ‰€éœ€çš„å­˜å‚¨å®¹é‡æ›´å°ï¼‰&lt;/li&gt;
&lt;li&gt;åŠŸè€—æ›´ä½&lt;/li&gt;
&lt;li&gt;ææ–™æˆæœ¬é™ä½&lt;/li&gt;
&lt;li&gt;é™ä½æ—¶å»¶&lt;/li&gt;
&lt;li&gt;ç›¸è¿‘çš„æ€§èƒ½å’Œç²¾åº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
">FPGAç”¨æ¥åŠ é€Ÿè¿ç®—çš„è°ƒç ”</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/the-zynq-book-xue-xi/"" data-c="
          &lt;p&gt;å­¦ä¹ The Zynq Bookç¬¬ä¸€ç« æ—¶çš„ä¸€äº›ç¬”è®°&lt;/p&gt;
&lt;!-- more --&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Zynq çš„æœ¬è´¨ç‰¹å¾ï¼Œæ˜¯å®ƒç»„åˆäº†ä¸€ä¸ªåŒæ ¸ARM Cortex-A9 &lt;strong&gt;å¤„ç†å™¨&lt;/strong&gt;å’Œä¸€ä¸ªä¼ ç»Ÿçš„ç°åœºå¯ç¼–ç¨‹é—¨é˜µåˆ—ï¼ˆField Programmable Gate Arrayï¼Œ&lt;strong&gt;FPGA&lt;/strong&gt;ï¼‰é€»è¾‘éƒ¨ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿™ä¸ªæ¶æ„å®ç°äº†å·¥ä¸šæ ‡å‡†çš„AXI æ¥å£ï¼Œåœ¨èŠ¯ç‰‡çš„ä¸¤ä¸ªéƒ¨åˆ†ä¹‹é—´å®ç°äº†&lt;strong&gt;é«˜å¸¦å®½ã€ä½å»¶è¿Ÿ&lt;/strong&gt;çš„è¿æ¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿™æ„å‘³ç€å¤„ç†å™¨å’Œé€»è¾‘éƒ¨åˆ†å„è‡ªéƒ½å¯ä»¥å‘æŒ¥æœ€ä½³çš„ç”¨é€”ï¼Œè€Œ&lt;strong&gt;ä¸ä¼šæœ‰&lt;/strong&gt;åœ¨ä¸¤ä¸ªåˆ†ç«‹çš„èŠ¯ç‰‡ä¹‹é—´çš„é‚£ç§&lt;strong&gt;æ¥å£å¼€é”€&lt;/strong&gt;ã€‚åŒæ—¶åˆèƒ½è·å¾—ç³»ç»Ÿè¢«ç®€åŒ–ä¸ºå•ä¸€èŠ¯ç‰‡æ‰€å¸¦æ¥çš„å¥½å¤„ï¼ŒåŒ…æ‹¬&lt;strong&gt;ç‰©ç†å°ºå¯¸&lt;/strong&gt;å’Œæ•´ä½“&lt;strong&gt;æˆæœ¬çš„é™ä½&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯ç‰‡ä¸Šç³»ç»Ÿ/SoC (System on Chip)&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•ä¸ªç¡…èŠ¯ç‰‡å°±å¯ä»¥ç”¨æ¥å®ç°æ•´ä¸ªç³»ç»Ÿçš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯éœ€è¦ç”¨å‡ ä¸ªä¸åŒçš„ç‰©ç†èŠ¯ç‰‡æ¥å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;å¸¸ç”¨äºæŒ‡ä¸“ç”¨é›†æˆç”µè·¯ï¼ˆApplication Specific Integrated Circuitï¼ŒASICï¼‰&lt;/li&gt;
&lt;li&gt;å’Œæ¿ä¸Šç³»ç»Ÿ(åœ¨pcbæ¿ä¸­ç»„åˆå¤šä¸ªå…ƒä»¶)å¯¹æ¯”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å¼€å‘æ—¶é—´å’Œæˆæœ¬&lt;/li&gt;
&lt;li&gt;éš¾ä»¥é‡ç”¨ï¼Œä¸å¤Ÿçµæ´»ï¼ˆä¸FPGAä¸åŒï¼Œç›´æ¥è®¾è®¡èŠ¯ç‰‡è®¾è®¡ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¾‹å­&lt;/strong&gt;ï¼šæ‰‹æœºï¼ŒPCï¼Œå¹³æ¿ç­‰çš„CPU&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Zynqï¼šçµæ´»çš„SoC çš„å¹³å°ï¼Œå…¨å¯ç¼–ç¨‹SoC ï¼ˆAll-Programmable SoCï¼ŒAPSoCï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤„ç†ç³»ç»Ÿï¼ˆPSï¼‰ï¼šæ”¯æŒè½¯ä»¶ç¨‹åºå’Œ/ æˆ–æ“ä½œç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;å¯ç¼–ç¨‹é€»è¾‘ï¼ˆPLï¼‰ï¼šå®ç°é«˜é€Ÿé€»è¾‘ã€ç®—æœ¯å’Œæ•°æ®æµå­ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;å·¥ä¸šæ ‡å‡†çš„é«˜çº§å¯æ‰©å±•æ¥å£ï¼ˆAdvanced eXtensible Interfaceï¼ŒAXIï¼‰è¿æ¥ã€‚&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609400781987.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è½¯ç¡¬ä»¶ç³»ç»Ÿå…³ç³»&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609401050095.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
">The Zynq Book å­¦ä¹ ï¼š å¼•è¨€</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/zynq-zhong-de-si-chong-tong-xin-jie-kou__/"" data-c="
          &lt;p&gt;æ€»ä½“æ¶æ„å›¾ä¸ºï¼š&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609385485651.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;PS (Processing System)ä¸­å¯¹å¤–é€šä¿¡ç®¡è„š:&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;MIO&lt;/strong&gt; (Multiplexed Input/Outputï¼ŒMIO)ï¼š åˆ©ç”¨å¤ç”¨çš„è¾“å…¥ / è¾“å‡ºï¼Œå’Œå¤–éƒ¨æ¥å£ä¹‹é—´é€šä¿¡ï¼Œä¸€å…±54 ä¸ªå¼•è„šã€‚MIOåœ¨zynqä¸Šçš„ç®¡è„šæ˜¯å›ºå®šçš„ï¼Œå ç”¨IOå·ä¸º0-53ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;EMIO&lt;/strong&gt; (Extended MIOï¼ŒEMIO)ï¼š æ˜¯é€šè¿‡PLéƒ¨åˆ†æ‰©å±•çš„ï¼Œæ‰€ä»¥ä½¿ç”¨EMIOæ—¶å€™éœ€è¦åœ¨&lt;strong&gt;çº¦æŸæ–‡ä»¶ä¸­åˆ†é…ç®¡è„š&lt;/strong&gt;ï¼Œå ç”¨IOå·ä¸º54-117ã€‚EMIO å¹¶ä¸æ˜¯ PS å’Œå¤–éƒ¨è¿æ¥ä¹‹é—´çš„ç›´æ¥é€šè·¯ï¼Œè€Œæ˜¯é€šè¿‡å…±ç”¨äº† PL çš„ I/O èµ„æºæ¥å®ç°çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;å½“éœ€è¦æ‰©å±•è¶…è¿‡ 54 ä¸ªå¼•è„šçš„æ—¶å€™å¯ä»¥ç”¨ EMIOï¼Œè€Œå½“ PL ä¸­å®ç°äº†ä¸€ä¸ª IP åŒ…çš„æ—¶å€™ï¼Œè¿™ä¹Ÿæ˜¯ PS å’Œ PL ä¸­çš„IP åŒ…æ¥å£çš„ä¸€ç§æ–¹æ³•(å³&lt;strong&gt;PSå¯ä»¥åˆ©ç”¨EMIOå’ŒPLè¿›è¡Œé€šä¿¡&lt;/strong&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;**PL (Programmable Logic) å’Œ PSçš„é€šä¿¡æ¥å£ **&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609403066047.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é€šç”¨AXIï¼ˆGeneral Purpose AXIï¼‰&lt;/strong&gt;ï¼š ä¸€å…±æœ‰å››ä¸ªï¼Œå¯¹åº”å›¾ä¸­ä¸»æœºäº’è”å’Œä»æœºäº’è”ã€‚32 ä½æ•°æ®æ€»çº¿ï¼Œé€‚åˆPL å’ŒPS ä¹‹é—´çš„&lt;strong&gt;ä¸­ä½é€Ÿé€šä¿¡&lt;/strong&gt;ã€‚æ¥å£æ˜¯é€ä¼ çš„ä¸å¸¦ç¼“å†²ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ é€Ÿå™¨ä¸€è‡´æ€§ç«¯å£ï¼ˆAccelerator Coherency Portï¼‰&lt;/strong&gt;ï¼š åœ¨PL å’ŒAPU å†…çš„SCUä¹‹é—´çš„å•ä¸ªå¼‚æ­¥è¿æ¥ï¼Œæ€»çº¿å®½åº¦ä¸º64 ä½ã€‚è¿™ä¸ªç«¯å£ç”¨æ¥å®ç°APU cache å’ŒPLçš„å•å…ƒä¹‹é—´çš„ä¸€è‡´æ€§ï¼ˆç›´æ¥å’ŒPSä¸­çš„APUç›¸è¿ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜æ€§èƒ½ç«¯å£ï¼ˆHigh Performance Portsï¼‰&lt;/strong&gt;ï¼š å¸¦æœ‰FIFOç¼“å†²æ¥æä¾›â€œ æ‰¹é‡â€ è¯»å†™æ“ä½œï¼Œå¹¶æ”¯æŒPL å’ŒPS ä¸­çš„å­˜å‚¨å™¨å•å…ƒçš„é«˜é€Ÿç‡é€šä¿¡ã€‚æ•°æ®å®½åº¦æ˜¯32 æˆ–64 ä½ï¼Œåœ¨æ‰€æœ‰å››ä¸ªæ¥å£ä¸­PL éƒ½æ˜¯åšä¸»æœºçš„ã€‚&lt;strong&gt;(PLç›´æ¥ä»DDRä¸­è·å–æ•°æ®)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;EMIO&lt;/strong&gt;ï¼š åŸæœ¬æ˜¯ç”¨æ¥è¿æ¥I2Cç­‰åè®®çš„å¤–è®¾ï¼Œä¹Ÿå¯ä»¥ç»™PSä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;pynqä¸­pythonç±»å¯¹åº”&#34;&gt;PYNQä¸­pythonç±»å¯¹åº”ï¼š&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;GPIO&lt;/strong&gt;ï¼š å¯¹åº”MIOï¼Œ EMIOã€‚ï¼ˆç±»ä¼¼äºå•ç‰‡æœºä¸­çš„GPIOï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MMIO&lt;/strong&gt;ï¼š å¯¹åº”GP AXIï¼Œå³é€šç”¨AXIç«¯å£ã€‚ï¼ˆè°ƒç”¨IPæ ¸ï¼ŒPSç»™PLæ•°æ®æ—¶å€™ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Xlnk&lt;/strong&gt;ï¼š å¯¹åº”HP AXIï¼Œè®¿é—®DDRå†…å­˜ï¼Œå³é«˜æ€§èƒ½AXIç«¯å£ã€‚ï¼ˆè®¿é—®PS çš„ DRAMï¼Œ ç”¨ä»¥PLéœ€è¦å†…å­˜æ—¶å€™ï¼ŒPSåˆ†é…å†…å­˜ç»™PLï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DMA&lt;/strong&gt;ï¼š å¯¹åº”HP AXIï¼Œè®¿é—®DMAï¼Œå³é«˜æ€§èƒ½AXIç«¯å£&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;axi-åè®®&#34;&gt;AXI åè®®&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;AXI4ï¼š  é€šè¿‡ä¸€ç°‡é«˜è¾¾256 ä¸ªæ•°æ®å­—ï¼ˆæˆ–â€œ æ•°æ®æ‹ï¼ˆdata beatsï¼‰â€ï¼‰çš„æ•°æ®ä¼ è¾“æ¥ç»™å®šä¸€ä¸ªåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;AXI4_LITEï¼š åªæ”¯æŒæ¯æ¬¡è¿æ¥ä¼ è¾“ä¸€ä¸ªæ•°æ®ï¼ˆéæ‰¹é‡ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;AXI4-Streamï¼š ç”¨äºé«˜é€Ÿæµæ•°æ®ï¼Œæ”¯æŒæ‰¹é‡ä¼ è¾“æ— é™å¤§å°çš„æ•°æ®ã€‚æ²¡æœ‰åœ°å€æœºåˆ¶ï¼Œè¿™ç§æ€»çº¿ç±»å‹æœ€é€‚åˆæºå’Œç›®çš„åœ°ä¹‹é—´çš„ç›´æ¥æ•°æ®æµã€‚&lt;/li&gt;
&lt;/ul&gt;
">ZYNQä¸­çš„é€šä¿¡æ¥å£(åŒ…æ‹¬PSä¸PL)</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/nand-flash-nor-flash/"" data-c="
          &lt;h2 id=&#34;flash-åŸç†&#34;&gt;Flash åŸç†ï¼š&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609254997519.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609253806308.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å‚è€ƒ&lt;a href=&#34;https://www.youtube.com/watch?v=aO_kBa9DzPQ&#34;&gt;youtube&lt;/a&gt;ã€‚åœ¨æ§åˆ¶æ …æé«˜ç”µå‹æ—¶å€™ï¼Œæºææ¼æä¹‹é—´å¯¼é€šï¼Œç”µå­ä¼šç©¿è¿‡ç»ç¼˜å±‚å¾€æ§åˆ¶æ …æèµ°ï¼ˆç”µå­ä»è´Ÿæèµ°å‘æ­£æï¼‰ï¼Œæ§åˆ¶æ …ææ¢å¤åç”µå­å›°åœ¨é‡Œé¢ï¼Œè¡¨ç°å‡º0ã€‚å¦‚æœåªéœ€è¦ä¸€ä¸ªpageä¸­çš„æŸä¸€ä¸ªå°å•å…ƒä»1-&amp;gt;0, é‚£ä¹ˆé™¤äº†å¯¹è¯¥pageçš„çºµå‘çº¿åŠ é«˜ç”µå‹ï¼Œä¹Ÿéœ€è¦å¯¹å…¶ä»–å•å…ƒçš„æ¨ªå‘çº¿åŠ é«˜ç”µå‹ï¼Œä½¿å¾—å…¶ä»–åœ°æ–¹ç”µå­ä¸å¾€æ§åˆ¶æ …æèµ°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;nand-flash-å’Œ-nor-flash-åŒºåˆ«&#34;&gt;NAND Flash å’Œ NOR Flash åŒºåˆ«&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://Busy-Bob.github.io/post-images/1609253097307.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;NAND ä¸èƒ½å¤Ÿå–æŒ‡ä»¤ï¼ˆç±»ä¼¼äºç¡¬ç›˜ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NOR å¯ä»¥å–æŒ‡ä»¤ï¼ˆç±»ä¼¼äºå†…å­˜ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”±äºCPUè¿è¡Œæ—¶å€™éœ€è¦ä¸‰æ­¥ï¼š&lt;strong&gt;å–æŒ‡ã€è¯‘ç ã€æ‰§è¡Œ&lt;/strong&gt; ä¸‰ä¸ªæ­¥éª¤ã€‚ç”±äº NORçš„åœ°å€çº¿å’Œæ•°æ®çº¿åˆ†å¼€ï¼Œå®ƒå¯ä»¥æŒ‰â€œå­—èŠ‚â€è¯»å†™æ•°æ®ï¼Œç¬¦åˆ CPU çš„æŒ‡ä»¤è¯‘ç æ‰§è¡Œè¦æ±‚ï¼Œæ‰€ä»¥å‡å¦‚ NORä¸Šå­˜å‚¨äº†ä»£ç æŒ‡ä»¤ï¼Œ CPU ç»™ NORä¸€ä¸ªåœ°å€ï¼Œ NOR å°±èƒ½å‘CPU è¿”å›ä¸€æ¡æŒ‡ä»¤è®© CPU æ‰§è¡Œï¼Œä¸­é—´ä¸éœ€è¦é¢å¤–çš„å¤„ç†æ“ä½œã€‚æ‰€ä»¥NOR Flashæ˜¯å¯ä»¥ç”¨äºæ‰§è¡Œçš„ï¼Œå³æ”¯æŒXIP(eXecute In Place) ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åº”ç”¨åœºæ™¯&#34;&gt;åº”ç”¨åœºæ™¯&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;NOR Flash å°å®¹é‡ï¼Œå…·å¤‡éšæœºè®¿é—®èƒ½åŠ›ï¼Œå¯æ‰§è¡Œã€‚ï¼ˆç”¨äºæ‰§è¡Œç‰‡ä¸Šç¨‹åºï¼ŒBIOSï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NAND Flash å¤§å®¹é‡ï¼Œä¸å…·å¤‡éšæœºè®¿é—®èƒ½åŠ›ã€‚ï¼ˆSSDï¼ŒUç›˜ç­‰ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ssdå’Œuç›˜åŒºåˆ«&#34;&gt;SSDå’ŒUç›˜åŒºåˆ«&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å‚¨å­˜ä»‹è´¨ä¸ä¸€æ ·ï¼šå›ºæ€ç¡¬ç›˜ç”¨çš„å‚¨å­˜èŠ¯ç‰‡ä»·æ ¼è¿œè¿œé«˜äºUç›˜ç”¨çš„&lt;br&gt;
ä¸»æ§èŠ¯ç‰‡ä¸ä¸€æ ·ï¼šæŠŠèŠ¯ç‰‡çš„è¯»å†™æ¨¡å¼å®‰æ’å¥½æ˜¯ä¸»æ§èŠ¯ç‰‡çš„äº‹ï¼ŒUç›˜åŸºæœ¬ä¸Šåœ¨è¿™ä¸ªä¸Šé¢æ²¡åšä»€ä¹ˆ&lt;br&gt;
å­˜å‚¨æ¨¡å¼ä¸ä¸€æ ·ï¼šå›ºæ€ç¡¬ç›˜æ˜¯å¤šèŠ¯ç‰‡ç»„æˆï¼Œåœ¨è¯»ä¹¦æ—¶ï¼Œåœ¨ä¸»æ§çš„å®‰æ’ä¸‹ï¼Œé€šå¸¸éƒ½èƒ½å¤šè·¯å¹¶å‘&lt;br&gt;
æ¥å£æ¨¡å¼ä¸ä¸€æ ·ï¼šå›ºæ€ç¡¬ç›˜çš„æ¥å£ä¸°å¯Œï¼Œä¸ç®¡å“ªä¸ªæ¥å£ï¼Œéƒ½æ¯”USBå¿«&lt;/p&gt;
&lt;p&gt;ä½œè€…ï¼šæè¯—å&lt;br&gt;
é“¾æ¥ï¼šhttps://www.zhihu.com/question/265335741/answer/292414149&lt;br&gt;
æ¥æºï¼šçŸ¥ä¹&lt;/p&gt;
&lt;/blockquote&gt;
">NAND Flash, NOR Flash çš„åŒºåˆ«å’Œåº”ç”¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/rust-cuo-wu-chu-li-zhong-duo-lei-xing-error-chu-li-fang-shi/"" data-c="
          &lt;p&gt;æœ‰ä¸¤ç§æ–¹å¼æ¥èšåˆå¤šç§ç±»å‹çš„Erroræ¥è¿›è¡Œå‡½æ•°é—´çš„ä¼ æ’­ï¼šä¸€ç§æ˜¯ä½¿ç”¨&lt;code&gt;Box&amp;lt;dyn std::error::Error&amp;gt;&lt;/code&gt;æ¥ç”¨trait objectæ¥ä»£è¡¨æ‰€æœ‰ç±»å‹çš„é”™è¯¯ï¼›å¦ä¸€ç§æ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„&lt;code&gt;enum&lt;/code&gt;æ¥è£…æ‰€æœ‰çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;ä¸»è¦å‚è€ƒï¼š&lt;a href=&#34;https://rustcc.cn/article?id=75dbd87c-df1c-4000-a243-46afc8513074&#34;&gt;ç»†è¯´Rusté”™è¯¯å¤„ç†&lt;/a&gt; å’Œ &lt;a href=&#34;https://kaisery.github.io/trpl-zh-cn/ch09-02-recoverable-errors-with-result.html&#34;&gt;Result ä¸å¯æ¢å¤çš„é”™è¯¯&lt;/a&gt;.&lt;/p&gt;
&lt;h1 id=&#34;tl-dr&#34;&gt;TL; DR&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Box&amp;lt;dyn std::error::Error&amp;gt;&lt;/code&gt; é€šå¸¸ç”¨åœ¨ä¸å¯¹é”™è¯¯è¿›è¡Œæ¢å¤çš„æ—¶å€™ã€‚ï¼ˆä¸å®¹æ˜“æ£€æµ‹åˆ°é”™è¯¯ç±»å‹ï¼‰&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰ä¸€ä¸ª&lt;code&gt;enum&lt;/code&gt;é€šå¸¸ç”¨åœ¨éœ€è¦å¯¹é”™è¯¯è¿›è¡Œæ¢å¤çš„æ—¶å€™ã€‚ï¼ˆå®¹æ˜“æ£€æµ‹ç±»å‹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;boxdyn-error-æ–¹å¼æ¥èšåˆerror&#34;&gt;&lt;code&gt;Box&amp;lt;dyn Error&amp;gt;&lt;/code&gt; æ–¹å¼æ¥èšåˆError&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;fn do_something() -&amp;gt; std::result::Result&amp;lt;(),Box&amp;lt;dyn std::error::Error&amp;gt;&amp;gt;{
    let path = &amp;quot;./dat&amp;quot;;
    let v = std::fs::read_to_string(path)?;
    let x = std::str::from_utf8(v.as_bytes())?;
    let u = x.parse::&amp;lt;u32&amp;gt;()?;
    println!(&amp;quot;num:{:?}&amp;quot;,u);
    Ok(())
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸‰è€…åˆ†åˆ«è¿”å›ä¸åŒçš„é”™è¯¯ç±»å‹ï¼Œä½†æ˜¯éƒ½å¯ä»¥ç”¨&lt;code&gt;Box&amp;lt;dyn std::error::Error&amp;gt;&lt;/code&gt;æ¥è£…ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼š æ–¹ä¾¿ä¹¦å†™ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼š åœ¨ä¼ é€’åè¯¥Resultåï¼Œè¯¥trait object å¯¹åº”çš„å®é™…çš„é”™è¯¯ç±»å‹éš¾ä»¥ç¡®å®šï¼Œåº”è¯¥éœ€è¦ç”¨â€œ&lt;strong&gt;åå°„&lt;/strong&gt;â€( &lt;code&gt;Any&lt;/code&gt; trait)æ‰èƒ½å¤Ÿç¡®å®šã€‚è€Œä¸èƒ½ç›´æ¥matchã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;åˆ©ç”¨-enum-æ¥èšåˆerror&#34;&gt;åˆ©ç”¨ &lt;code&gt;enum&lt;/code&gt; æ¥èšåˆError&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;å†…å®¹æ¥è‡ª&lt;a href=&#34;https://rustcc.cn/article?id=75dbd87c-df1c-4000-a243-46afc8513074&#34;&gt;ç»†è¯´Rusté”™è¯¯å¤„ç†&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è‡ªå®šä¹‰ä¸€ä¸ª&lt;code&gt;error&lt;/code&gt;éœ€è¦å®ç°å¦‚ä¸‹å‡ æ­¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰‹åŠ¨å®ç°impl &lt;code&gt;std::fmt::Display&lt;/code&gt;çš„trait,å¹¶&lt;strong&gt;å®ç°&lt;/strong&gt; &lt;code&gt;fmt(...)&lt;/code&gt;æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;æ‰‹åŠ¨å®ç°impl &lt;code&gt;std::fmt::Debug&lt;/code&gt;çš„&lt;code&gt;trait&lt;/code&gt;ï¼Œä¸€èˆ¬ç›´æ¥æ·»åŠ æ³¨è§£å³å¯ï¼š&lt;code&gt;#[derive(Debug)]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰‹åŠ¨å®ç°impl &lt;code&gt;std::error::Error&lt;/code&gt;çš„&lt;code&gt;trait&lt;/code&gt;,å¹¶æ ¹æ®è‡ªèº«&lt;code&gt;error&lt;/code&gt;çº§åˆ«æ˜¯å¦&lt;strong&gt;è¦†ç›–&lt;/strong&gt;&lt;code&gt;std::error::Error&lt;/code&gt;ä¸­çš„&lt;code&gt;source()&lt;/code&gt;æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢çš„å†…å®¹ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;CustomError&lt;/code&gt;ä¸ºæˆ‘ä»¬å®ç°çš„&lt;strong&gt;è‡ªå®šä¹‰Error&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CustomError&lt;/code&gt;æœ‰ä¸‰ä¸ª&lt;strong&gt;å­ç±»å‹Error&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CustomError&lt;/code&gt;åˆ†åˆ«å®ç°äº†ä¸‰ä¸ª&lt;strong&gt;å­ç±»å‹Error&lt;/strong&gt; &lt;code&gt;From&lt;/code&gt;çš„trait,å°†å…¶ç±»å‹åŒ…è£…ä¸º&lt;strong&gt;è‡ªå®šä¹‰Error&lt;/strong&gt;çš„å­ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¥½äº†ï¼Œæœ‰äº†è‡ªå®šä¹‰çš„&lt;code&gt;CustomError&lt;/code&gt;ï¼Œé‚£æ€ä¹ˆä½¿ç”¨å‘¢? æˆ‘ä»¬çœ‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;use std::io::Error as IoError;
use std::str::Utf8Error;
use std::num::ParseIntError;
use std::fmt::{Display, Formatter};


fn main() -&amp;gt; std::result::Result&amp;lt;(),CustomError&amp;gt;{
    let path = &amp;quot;./dat&amp;quot;;
    let v = read_file(path)?;
    let x = to_utf8(v.as_bytes())?;
    let u = to_u32(x)?;
    println!(&amp;quot;num:{:?}&amp;quot;,u);
    Ok(())
}

///è¯»å–æ–‡ä»¶å†…å®¹
fn read_file(path: &amp;amp;str) -&amp;gt; std::result::Result&amp;lt;String, std::io::Error&amp;gt; {
    std::fs::read_to_string(path)
}

/// è½¬æ¢ä¸ºutf8å†…å®¹
fn to_utf8(v: &amp;amp;[u8]) -&amp;gt; std::result::Result&amp;lt;&amp;amp;str, std::str::Utf8Error&amp;gt; {
    std::str::from_utf8(v)
}

/// è½¬åŒ–ä¸ºu32æ•°å­—
fn to_u32(v: &amp;amp;str) -&amp;gt; std::result::Result&amp;lt;u32, std::num::ParseIntError&amp;gt; {
    v.parse::&amp;lt;u32&amp;gt;()
}


#[derive(Debug)]
enum CustomError {
    ParseIntError(std::num::ParseIntError),
    Utf8Error(std::str::Utf8Error),
    IoError(std::io::Error),
}
impl std::error::Error for CustomError{
    fn source(&amp;amp;self) -&amp;gt; Option&amp;lt;&amp;amp;(dyn std::error::Error + &#39;static)&amp;gt; {
        match &amp;amp;self {
            CustomError::IoError(ref e) =&amp;gt; Some(e),
            CustomError::Utf8Error(ref e) =&amp;gt; Some(e),
            CustomError::ParseIntError(ref e) =&amp;gt; Some(e),
        }
    }
}

impl Display for CustomError{
    fn fmt(&amp;amp;self, f: &amp;amp;mut Formatter&amp;lt;&#39;_&amp;gt;) -&amp;gt; std::fmt::Result {
        match &amp;amp;self {
            CustomError::IoError(ref e) =&amp;gt; e.fmt(f),
            CustomError::Utf8Error(ref e) =&amp;gt; e.fmt(f),
            CustomError::ParseIntError(ref e) =&amp;gt; e.fmt(f),
        }
    }
}

impl From&amp;lt;ParseIntError&amp;gt; for CustomError {
    fn from(s: std::num::ParseIntError) -&amp;gt; Self {
        CustomError::ParseIntError(s)
    }
}

impl From&amp;lt;IoError&amp;gt; for CustomError {
    fn from(s: std::io::Error) -&amp;gt; Self {
        CustomError::IoError(s)
    }
}

impl From&amp;lt;Utf8Error&amp;gt; for CustomError {
    fn from(s: std::str::Utf8Error) -&amp;gt; Self {
        CustomError::Utf8Error(s)
    }
}
&lt;/code&gt;&lt;/pre&gt;
">Rust é”™è¯¯å¤„ç†ä¸­å¤šç§ç±»å‹Errorä¼ æ’­çš„å¤„ç†æ–¹å¼</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/rust-ji-yu-hui-diao-de-yi-bu-fang-fa-fen-xi_/"" data-c="
          &lt;p&gt;åŸºäº&lt;a href=&#34;https://cfsamson.github.io/books-futures-explained/0_background_information.html#callback-based-approaches&#34;&gt;Futures Explained in 200 Lines of Rust&lt;/a&gt;æ–‡ä¸­çš„å›è°ƒä»£ç ã€‚&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h1 id=&#34;åŸä½œè€…çš„ä¸€äº›åˆ†æ&#34;&gt;åŸä½œè€…çš„ä¸€äº›åˆ†æ&lt;/h1&gt;
&lt;p&gt;åŸºäºå›è°ƒæ–¹æ³•èƒŒåçš„æ•´ä¸ªæ€æƒ³æ˜¯ä¿å­˜ä¸€ä¸ªæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘ä¸€ç»„æˆ‘ä»¬å¸Œæœ›ç¨åè¿è¡Œçš„ä¸€ç³»åˆ—æŒ‡ä»¤ï¼Œä»¥åŠéœ€è¦çš„å„ç§çŠ¶æ€ã€‚åœ¨Rustï¼Œè¿™(&lt;strong&gt;æŒ‡é’ˆ&lt;/strong&gt;)å°†æ˜¯ä¸€ä¸ªé—­åŒ…ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†æ­¤ä¿¡æ¯ä¿å­˜åœ¨ä¸€ä¸ªHashMapä¸­ï¼Œä½†è¿™ä¸æ˜¯å”¯ä¸€çš„é€‰é¡¹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ˜“äºåœ¨å¤§å¤šæ•°è¯­è¨€ä¸­å®ç°&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢&lt;/li&gt;
&lt;li&gt;ç›¸å¯¹è¾ƒä½çš„å†…å­˜å¼€é”€(åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹ï¼š&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ç”±äºæ¯ä¸ªä»»åŠ¡éƒ½å¿…é¡»ä¿å­˜ä»¥åéœ€è¦çš„çŠ¶æ€ï¼Œå› æ­¤å†…å­˜ä½¿ç”¨å°†éšç€è®¡ç®—é“¾ä¸­çš„å›è°ƒæ¬¡æ•°çº¿æ€§å¢é•¿ã€‚&lt;/li&gt;
&lt;li&gt;å¾ˆéš¾ç†è§£ã€‚è®¸å¤šäººå·²ç»çŸ¥é“è¿™æ˜¯â€œå›è°ƒåœ°ç‹±â€ã€‚&lt;/li&gt;
&lt;li&gt;è¿™æ˜¯ä¸€ç§éå¸¸ä¸åŒçš„ç¼–å†™ç¨‹åºçš„æ–¹å¼ï¼Œå¹¶ä¸”éœ€è¦å¤§é‡é‡å†™æ‰èƒ½ä»â€œæ­£å¸¸â€çš„ç¨‹åºæµè½¬æ¢ä¸ºä½¿ç”¨â€œåŸºäºå›è°ƒâ€çš„ç¨‹åºæµã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºRustçš„æ‰€æœ‰æƒæ¨¡å‹ï¼Œä»»åŠ¡ä¹‹é—´çš„çŠ¶æ€å…±äº«åœ¨ä½¿ç”¨è¯¥æ–¹æ³•æ—¶æ˜¯ä¸€ä¸ªå›°éš¾çš„é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h1&gt;
&lt;p&gt;é€šè¿‡ä»£ç ï¼Œå­¦ä¹ åˆ°äº†ä¸€äº›æ–°ä¸œè¥¿ï¼Œä¸»è¦åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;thread_local!&lt;/code&gt; ï¼šç”¨æ¥å¯¹æ¯ä¸€ä¸ªçº¿ç¨‹åˆå§‹åŒ–åŒä¸€ä¸ªå˜é‡çš„ä¸€ä¸ªæ–°çš„å‰¯æœ¬ã€‚&lt;/li&gt;
&lt;li&gt;trait å¯¹è±¡ï¼š &lt;code&gt;Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt;&lt;/code&gt;,  &lt;code&gt;dyn Trait&lt;/code&gt;è¡¨ç¤ºä¸€ä¸ªç±»å‹ï¼Œå¼ºè°ƒæ˜¯åŠ¨æ€åˆ†å‘ï¼Œå¹¶ä¸”å¿…é¡»æ˜¯ä¸€ä¸ª&lt;code&gt;impl&lt;/code&gt;äº†&lt;code&gt;Trait&lt;/code&gt;çš„ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;ä¼ é€’é—­åŒ…å¯ä»¥ä½¿ç”¨&lt;code&gt;impl Trait&lt;/code&gt;ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªç±»å‹ï¼Œå¹¶ä¸”è¯¥ç±»å‹æ˜¯&lt;code&gt;impl&lt;/code&gt;äº†&lt;code&gt;Trait&lt;/code&gt;çš„ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;thread::spawn&lt;/code&gt;ä¼šç›´æ¥æ–°å¼€ä¸€ä¸ªå­çº¿ç¨‹è¿è¡Œï¼Œä¸ä¼šé€ æˆä¸»çº¿ç¨‹é˜»å¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;std::sync::mpsc::Receiver.iter()&lt;/code&gt; è¿™æ˜¯ä¸€ä¸ªé˜»å¡çš„è¿­ä»£å™¨ï¼Œåªæœ‰å½“senderéƒ½è¢«dropçš„æ—¶å€™ï¼Œè¯¥è¿­ä»£å™¨çš„&lt;code&gt;.next()&lt;/code&gt; æ‰ä¼šå˜æˆ&lt;code&gt;None&lt;/code&gt;ï¼Œå¦åˆ™ä¼šä¸€ç›´ç­‰å¾…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;å›è°ƒæ˜¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸Šè¿è¡Œçš„ã€‚ è¿™ä¸ªä¾‹å­ä¸­,æˆ‘ä»¬åˆ›å»ºçš„å­çº¿ç¨‹åŸºæœ¬ä¸Šåªæ˜¯ç”¨ä½œè®¡æ—¶å™¨ï¼Œä½†å¯ä»¥è¡¨ç¤ºä»»ä½•ç±»å‹çš„æˆ‘ä»¬å°†ä¸å¾—ä¸ç­‰å¾…çš„èµ„æºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;
fn program_main() {
    // ç¬¬ä¸€ä¸ªè¾“å‡º
    println!(&amp;quot;So we start the program here!&amp;quot;);
    // è¿è¡Œåˆ°è¿™å„¿çš„æ—¶å€™ï¼Œ 0ms
    // 1ã€æŠŠé—­åŒ…é‡Œçš„ä»»åŠ¡æ”¾åœ¨callbacksä¸­ï¼Œnext_id(æ­¤æ—¶ä¸º1)ä½œä¸ºkeyï¼Œé—­åŒ…ä½œä¸ºvalï¼Œ next_id é€’å¢ã€‚
    // 2ã€ä¼šæœ‰ä¸€ä¸ªå­çº¿ç¨‹åœ¨set_timeouté‡Œé¢è¢«åˆ›å»ºï¼Œåªè´Ÿè´£å»¶æ—¶ã€‚è¿è¡Œæ—¶å€™ä¸ä¼šè¢«è¯¥è´Ÿè´£å»¶æ—¶å­çº¿ç¨‹é˜»å¡
    set_timeout(200, || {
        // ç¬¬äº”ä¸ªè¾“å‡º
        println!(&amp;quot;We create tasks with a callback that runs once the task finished!&amp;quot;);
    });
    // è¿è¡Œåˆ°è¿™å„¿çš„æ—¶å€™ï¼Œ ä»ç„¶æ˜¯0ms
    // 1ã€æŠŠé—­åŒ…é‡Œçš„ä»»åŠ¡æ”¾åœ¨callbacksä¸­ï¼Œnext_id(æ­¤æ—¶ä¸º2)ä½œä¸ºkeyï¼Œé—­åŒ…ä½œä¸ºvalï¼Œ next_id é€’å¢ã€‚
    // 2ã€ä¼šæœ‰ä¸€ä¸ªå­çº¿ç¨‹åœ¨set_timeouté‡Œé¢è¢«åˆ›å»ºï¼Œåªè´Ÿè´£å»¶æ—¶ã€‚è¿è¡Œæ—¶å€™ä¸ä¼šè¢«è¯¥è´Ÿè´£å»¶æ—¶å­çº¿ç¨‹é˜»å¡
    set_timeout(100, || {
        // ç¬¬ä¸‰ä¸ªè¾“å‡º
        println!(&amp;quot;We can even chain sub-tasks...&amp;quot;);
        set_timeout(50, || {
            // ç¬¬å››ä¸ªè¾“å‡º
            println!(&amp;quot;...like this!&amp;quot;);
        })
    });
    // è¿è¡Œåˆ°è¿™å„¿çš„æ—¶å€™ï¼Œ ä»ç„¶æ˜¯0ms
    // ç¬¬äºŒä¸ªè¾“å‡º
    println!(&amp;quot;While our tasks are executing we can do other stuff instead of waiting.&amp;quot;);
}

fn main() {
    RT.with(|rt| rt.run(program_main));
}

use std::sync::mpsc::{channel, Receiver, Sender};
use std::{cell::RefCell, collections::HashMap, thread};


// threadlocal: å˜é‡æ˜¯åŒä¸€ä¸ªï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½ä½¿ç”¨åŒä¸€ä¸ªåˆå§‹å€¼ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨åŒä¸€ä¸ªå˜é‡çš„ä¸€ä¸ªæ–°çš„å‰¯æœ¬
// æ¯ä¸ªçº¿ç¨‹éƒ½å®ä¾‹åŒ–äº†ä¸€ä¸ªRuntimeï¼Œ å®é™…ä¸ŠRTæ˜¯ä¸€ä¸ªRT: std::thread::LocalKey&amp;lt;Runtime&amp;gt;
// è¿™å„¿å¥½åƒåªç”¨åˆ°äº†ä¸€ä¸ªå‰¯æœ¬
thread_local! {
    static RT: Runtime = Runtime::new();
}

struct Runtime {
    // callbacks ä¸­çš„Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt; æ˜¯ä¸€ä¸ª trait å¯¹è±¡ã€‚ 
    // æ¯ä¸€ä¸ªé—­åŒ…å®ä¾‹æœ‰å…¶è‡ªå·±ç‹¬æœ‰çš„åŒ¿åç±»å‹, é—­åŒ…æœ‰trait boundï¼Œæ¯”å¦‚ Fn(u32) -&amp;gt; u32ã€‚ 
    // callbacks ç”¨æ¥å­˜ä¸‹ä¸€ä¸ªè¿è¡Œçš„ç¨‹åºå—ï¼ˆè¿™é‡Œç”¨é—­åŒ…æ¥è¡¨ç¤ºï¼‰ã€‚
    callbacks: RefCell&amp;lt;HashMap&amp;lt;usize, Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt;&amp;gt;&amp;gt;,
    // å‚¨å­˜ä¸‹ä¸€ä¸ªé—­åŒ…çš„id
    next_id: RefCell&amp;lt;usize&amp;gt;,
    // æ¯ä¸€ä¸ªç­‰å¾…å­çº¿ç¨‹æ‹¥æœ‰ä¸€ä¸ªï¼Œåœ¨å»¶æ—¶ç»“æŸåï¼Œå‘é€éœ€è¦è¿è¡Œçš„id
    evt_sender: Sender&amp;lt;usize&amp;gt;,
    // æ¥å—ä¸‹ä¸€ä¸ªè¯¥è¿è¡Œçš„é—­åŒ…çš„id
    evt_reciever: Receiver&amp;lt;usize&amp;gt;,
}

// cb æ˜¯ä¼ é€’çš„æ˜¯ä¸€ä¸ªé—­åŒ…,The other use of the impl keyword is in impl Trait syntax, which can be seen as a shorthand for &amp;quot;a concrete type that implements this trait&amp;quot;. 
// Its primary use is working with closures, which have type definitions generated at compile time that can&#39;t be simply typed out.
// ä¼ é€’é—­åŒ…æ—¶å€™ç”¨impl Traitã€‚è¡¨ç¤ºä¸€ä¸ªã€ç±»å‹ã€‘ï¼Œè¿™ä¸ªç±»å‹implements äº†è¿™ä¸ªtrait
// https://kaisery.github.io/trpl-zh-cn/ch10-02-traits.html
fn set_timeout(ms: u64, cb: impl FnOnce() + &#39;static) {
    // with æ–¹æ³•æ˜¯ åœ¨ std::thread::local::LocalKey ä¸­æœ‰çš„ï¼Œä¹Ÿå°±æ˜¯ RT æœ‰çš„ ã€‚
    // è·å–å¯¹è¿™ä¸ªTLSé”®ä¸­çš„å€¼çš„å¼•ç”¨ã€‚å¦‚æœè¿™ä¸ªçº¿ç¨‹è¿˜æ²¡æœ‰å¼•ç”¨è¿™ä¸ªé”®ï¼Œè¿™å°†å»¶è¿Ÿåˆå§‹åŒ–è¿™ä¸ªå€¼ã€‚
    // ç›¸å½“äºç”¨.with()å°±æ˜¯åœ¨ä½¿ç”¨è¯¥å˜é‡çš„å‡½æ•°ã€‚
    RT.with(|rt| {
        let id = *rt.next_id.borrow();
        // next_idé€’å¢
        *rt.next_id.borrow_mut() += 1;
        // callbackså­˜ (id: usize, Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt;)
        // ä¸ºä»€ä¹ˆéœ€è¦ Box::new(cb) è¿™æ ·å­çš„å‘€, å› ä¸ºè¾“å…¥çš„ç±»å‹æœªçŸ¥
        // cb åœ¨è¾“å…¥å‚æ•°ä¸­ç”¨çš„impl FnOnce() + &#39;static æ¥é™å®šã€‚
        rt.callbacks.borrow_mut().insert(id, Box::new(cb));
        // The sending-half of Rust&#39;s asynchronous channel type. 
        // This half can only be owned by one thread, but it can be cloned to send to other threads.
        // ä¸€ä¸ªsenderåªèƒ½å¤Ÿç”¨åœ¨ä¸€ä¸ªçº¿ç¨‹é‡Œé¢ï¼Œä½†æ˜¯å¯ä»¥å…‹éš†åˆ°å…¶ä»–çº¿ç¨‹ä¸­ï¼Œæ­¤æ—¶receiverè¿˜æ˜¯åªæœ‰ä¸€ä¸ª
        let evt_sender = rt.evt_sender.clone();
        // thread::spawnä¼šç›´æ¥æ–°å¼€ä¸€ä¸ªå­çº¿ç¨‹è¿è¡Œï¼Œä¸ä¼šé€ æˆä¸»çº¿ç¨‹é˜»å¡ã€‚åŠŸèƒ½æ˜¯ä¼‘çœ åå†æŠŠidè¾“å‡ºå‡ºå»
        thread::spawn(move || {
            thread::sleep(std::time::Duration::from_millis(ms));
            // åœ¨å»¶æ—¶ç»“æŸåï¼Œå‘é€å½“å‰å»¶æ—¶ç»“æŸçš„ä»»åŠ¡id
            evt_sender.send(id).unwrap();
        });
    });
}


impl Runtime {
    fn new() -&amp;gt; Self {
        // è¿™æ˜¯ä¸€ä¸ªasynchronous channelï¼Œ æ¯ä¸ªçº¿ç¨‹é‡Œé¢éƒ½æœ‰ä¸€ä¸ªsenderå’Œreceiver
        let (evt_sender, evt_reciever) = channel();
        Runtime {
            callbacks: RefCell::new(HashMap::new()),
            next_id: RefCell::new(1),
            evt_sender,
            evt_reciever,
        }
    }

    // è¿™å„¿æ˜¯åœ¨è¿è¡Œä¸€ä¸ªå‡½æ•°.
    fn run(&amp;amp;self, program: fn()) {
        // ç›´æ¥è¿è¡Œï¼Œ 
        program();
        // 0ms è¿è¡Œåˆ°è¿™å„¿
        // è¿è¡Œç»“æŸåï¼Œå¼€å§‹é€ä¸ªè®¿é—®Runtime é‡Œé¢çš„ä¼‘çœ å­çº¿ç¨‹è¿”å›çš„ å¯¹åº”idçš„å€¼ã€‚
        // This iterator will block whenever next is called, waiting for a new message, and None will be returned when the corresponding channel has hung up.
        // è¿™æ˜¯ä¸€ä¸ªé˜»å¡çš„æ–¹æ³•ï¼Œåªæœ‰å½“senderéƒ½è¢«dropçš„æ—¶å€™ï¼Œè¯¥è¿­ä»£å™¨çš„.next() æ‰ä¼šå˜æˆNone
        for evt_id in &amp;amp;self.evt_reciever {
            // è¿™å„¿ç›´æ¥ä»HashMapé‡Œremoveå‡ºå¯¹åº”ç¼–å·çš„é—­åŒ…ã€‚
            let cb = self.callbacks.borrow_mut().remove(&amp;amp;evt_id).unwrap();
            cb();
            // æ˜¯ä¸æ˜¯ä¹Ÿä¸éœ€è¦è¿™å¥è¯ï¼Ÿ
            // ã€ä¸è¡Œï¼ã€‘: å› ä¸ºåœ¨Runtimeé‡Œé¢ä¸€ä¸ªsenderï¼Œä¸ä¼šè¢«dropæ‰ï¼Œå°±ä¼šé™·å…¥æ— é™ç­‰å¾…äº†
            if self.callbacks.borrow().is_empty() {
                break;
            }
        }
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœç”¨åŸºäºå›è°ƒçš„æ–¹æ³•æ¥è¯´Rustå¼‚æ­¥ç¼–ç¨‹ä¸­çš„å”±æ­Œè·³èˆä¾‹å­ï¼Œ ä¹Ÿå°±æ˜¯ï¼Œâ€œè®¡æ—¶å™¨â€ä»£è¡¨çš„â€œç­‰å¾…èµ„æºâ€ï¼Œç­‰ä»·äº â€œå”±æ­Œâ€å‰ç­‰å¾…&amp;quot;å­¦æ­Œ&amp;quot;ã€‚æ‰€ä»¥ï¼Œåœ¨å›è°ƒé€»è¾‘ä¸­ &lt;code&gt;sing_song()&lt;/code&gt;ä½œä¸ºé—­åŒ…ï¼Œ &lt;code&gt;learn_song()&lt;/code&gt; ä½œä¸ºå­çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹è¿è¡Œ&lt;code&gt;dance()&lt;/code&gt; ã€‚å­çº¿ç¨‹ç»“æŸåå†è¿è¡Œè¿™ä¸ªé—­åŒ…ã€‚è¿è¡Œé¡ºåºæ˜¯ &lt;code&gt;learn_song()&lt;/code&gt; ï¼ˆå­çº¿ç¨‹ï¼‰å’Œ &lt;code&gt;dance()&lt;/code&gt;  ï¼ˆä¸»çº¿ç¨‹ï¼‰åŒæ—¶è¿è¡Œï¼Œåœ¨ä¸¤ä¸ªä»»åŠ¡å‡å®Œæˆåï¼Œ å†å›è°ƒ&lt;code&gt;sing_song()&lt;/code&gt;è¿™ä¸ªé—­åŒ…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­çº¿ç¨‹&lt;/strong&gt;å¯¹åº” &lt;strong&gt;â€œç­‰å¾…èµ„æºâ€&lt;/strong&gt; ï¼› &lt;strong&gt;é—­åŒ…&lt;/strong&gt;å¯¹åº”â€œ&lt;strong&gt;æ¥æ”¶åˆ°ç­‰å¾…èµ„æºåçš„æ“ä½œâ€&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;async fn learn_and_sing() {
    // åœ¨å”±æ­Œä¹‹å‰ç­‰å¾…å­¦æ­Œå®Œæˆ
    // è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ `.await` è€Œä¸æ˜¯ `block_on` æ¥é˜²æ­¢é˜»å¡çº¿ç¨‹ï¼Œè¿™æ ·å°±å¯ä»¥åŒæ—¶æ‰§è¡Œ `dance` äº†ã€‚
    let song = learn_song().await;
    sing_song(song).await;
}
 async fn async_main() {
    let f1 = learn_and_sing();
    let f2 = dance();
     // `join!` ç±»ä¼¼äº `.await` ï¼Œä½†æ˜¯å¯ä»¥ç­‰å¾…å¤šä¸ª future å¹¶å‘å®Œæˆ
     // å¦‚æœå­¦æ­Œçš„æ—¶å€™æœ‰äº†çŸ­æš‚çš„é˜»å¡ï¼Œè·³èˆå°†ä¼šæ¥ç®¡å½“å‰çš„çº¿ç¨‹ï¼Œå¦‚æœè·³èˆå˜æˆäº†é˜»å¡
     // å­¦æ­Œå°†ä¼šè¿”å›æ¥æ¥ç®¡çº¿ç¨‹ã€‚å¦‚æœä¸¤ä¸ªfutureséƒ½æ˜¯é˜»å¡çš„ï¼Œ
     // è¿™ä¸ªâ€˜async_main&#39;å‡½æ•°å°±ä¼šå˜æˆé˜»å¡çŠ¶æ€ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæ‰§è¡Œå™¨
    futures::join!(f1, f2)
}
 fn main() {
    block_on(async_main());
}
&lt;/code&gt;&lt;/pre&gt;
">Rust åŸºäºå›è°ƒçš„å¼‚æ­¥æ–¹æ³•åˆ†æ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/rust-const-fan-xing-const-genericsde-shi-yong-fang-fa-jie-xi-const_unit_poc_/"" data-c="
          &lt;p&gt;å¯¹äºconst æ³›å‹ï¼Œç¬”è€…ä¹Ÿäº†è§£ç”šå°‘ã€‚å€Ÿå†™è¯¥æ–‡ç« çš„æœºä¼šï¼Œå­¦ä¹ ä¸€ä¸‹Rustçš„const æ³›å‹(Const Generics)&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;const_unit_poc-åˆ©ç”¨const-genericså®ç°çš„ç‰©ç†å•ä½åº“&#34;&gt;&lt;code&gt;const_unit_poc&lt;/code&gt; ï¼šåˆ©ç”¨const genericså®ç°çš„ç‰©ç†å•ä½åº“&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;const_unit_poc&lt;/code&gt;  æ˜¯å‡ å¤©å‰æ¨å‡ºçš„ï¼Œç‡å…ˆä½¿ç”¨const æ³›å‹çš„åº“ã€‚è¯¥åº“çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;#![feature(const_generics, const_evaluatable_checked)]
use const_unit_poc::values::{m, kg, s, N};

let distance = 1.0 * m;
let mass = 18.0 * kg;
let force = distance * mass / (1.8 * s * 2.0 * s);
assert_eq!(force, 5.0 * N);

let mut mutable_distance = 3.2 * m;
mutable_distance -= 0.2 * m;
mutable_distance += 2.0 * m;

assert_eq!(mutable_distance, 5.0 * m);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»£ç åŠå…¶ç®€ä¾¿ï¼æ˜“æ‡‚ï¼éå¸¸ç¥å¥‡ï¼æ‰€ä»¥å°±æ ¹æ®è¯¥åº“çš„æºä»£ç çœ‹çœ‹const æ³›å‹è¯¥å¦‚ä½•ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;const_unit_poc-æºç åˆ†æ&#34;&gt;&lt;code&gt;const_unit_poc&lt;/code&gt; æºç åˆ†æ&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;#![feature(const_generics, const_evaluatable_checked, doc_cfg)]
#![allow(incomplete_features)]
#![cfg_attr(feature = &amp;quot;non_ascii&amp;quot;, feature(non_ascii_idents))]

use std::ops;

pub mod units;
pub mod values;

#[derive(Copy, Clone, Debug, PartialEq, Eq)]
#[allow(non_snake_case)]
pub struct SiUnit {
    m: i8,
    kg: i8,
    s: i8,
    A: i8,
    K: i8,
    mol: i8,
    cd: i8,
}

// åé¢è¿˜æœ‰å†…å®¹
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œå¼•å…¥äº†&lt;code&gt;units&lt;/code&gt;, &lt;code&gt;values&lt;/code&gt;ä¸¤ä¸ªmodï¼Œå¹¶ä¸”å£°æ˜äº†&lt;code&gt;SiUnit&lt;/code&gt; è¿™ä¸ªç»“æ„ä½“ï¼Œé‡Œé¢çš„æˆå‘˜æ˜¯SIçš„7ä¸ªæ ‡å‡†å•ä½ï¼Œ ç±»å‹ä¸ºi8ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹åˆ°è¿™å„¿ï¼Œç¬”è€…æ¨æµ‹åº”è¯¥æ˜¯ä½¿ç”¨ &lt;code&gt;SiUnit&lt;/code&gt; è¿™ä¸ªç»“æ„ä½“æ¥å®ä¾‹åŒ–å„ç§å¸¸ç”¨çš„å•ä½ï¼ˆå¦‚&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;N&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼‰ï¼Œå…¶ä¸­æˆå‘˜çš„å€¼è¡¨ç¤ºè¯¥å•ä½è¡¨ç¤ºæˆåŸºæœ¬å•ä½åçš„æŒ‡æ•°çš„å€¼ï¼ˆå¦‚&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mrow&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;N=m*s^{-2}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.46528em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ åˆ™&lt;code&gt;N.m == 1; N.s == -2&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å†çœ‹ä¸€ä¸‹å¼•å…¥çš„æ¨¡å—&lt;code&gt;units&lt;/code&gt;çš„å†…å®¹&lt;/p&gt;
&lt;h3 id=&#34;unitsçš„å®ç°&#34;&gt;unitsçš„å®ç°&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/units.rs&#34;&gt;&lt;code&gt;./src/units.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;#![allow(non_upper_case_globals)]
use super::SiUnit;
const NONE: SiUnit = SiUnit { m: 0, kg: 0, s: 0, A: 0, K: 0, mol: 0, cd: 0 };
/// meter
pub const m: SiUnit = SiUnit { m: 1, ..NONE };
/// ä¸­é—´å†…å®¹çœç•¥
/// lux
pub const lx: SiUnit = SiUnit { m: -2, cd: 1, ..NONE };
/// square meter
pub const sq_m: SiUnit = SiUnit { m: 2, ..NONE };
/// cubic meter
pub const cu_m: SiUnit = SiUnit { m: 3, ..NONE };
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;çš„ç¡®å’ŒçŒœæƒ³ä¸€è‡´ï¼æ³¨æ„ç»“æ„ä½“å®ä¾‹åŒ–æ—¶å€™è¿™å„¿ä½¿ç”¨äº†&lt;code&gt;..NONE&lt;/code&gt;ï¼Œè¿™æ˜¯ç”¨å·²ç»åˆ›å»ºçš„å®ä¾‹Noneä¸Š&lt;strong&gt;æ›´æ–°éƒ¨åˆ†å‚æ•°&lt;/strong&gt;ï¼Œåˆ›å»ºæ–°çš„å®ä¾‹ï¼Œè§&lt;a href=&#34;https://kaisery.github.io/trpl-zh-cn/ch05-01-defining-structs.html#%E4%BD%BF%E7%94%A8%E7%BB%93%E6%9E%84%E4%BD%93%E6%9B%B4%E6%96%B0%E8%AF%AD%E6%B3%95%E4%BB%8E%E5%85%B6%E4%BB%96%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B&#34;&gt;ä½¿ç”¨ç»“æ„ä½“æ›´æ–°è¯­æ³•ä»å…¶ä»–å®ä¾‹åˆ›å»ºå®ä¾‹&lt;/a&gt;ã€‚è¿™å„¿ä½¿ç”¨äº†constä½¿å¾—å„ä¸ªå•ä½å…¨å±€å¯è§ä¸”ä¸å¯å˜ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨å·²ç»æœ‰äº†å•ä½ï¼Œä½†æ˜¯æˆ‘ä»¬æ³¨æ„åˆ°ä»£ç ä¸­&lt;code&gt;assert_eq!(mutable_distance, 5.0 * m);&lt;/code&gt;ä¸ä»…ä»…è¦æ£€æµ‹å•ä½çš„å€¼ï¼Œè¿˜è¦æ£€æµ‹ç³»æ•°çš„å€¼ï¼Œç»“æ„ä½“ä¸æ•°å­—ç›¸ä¹˜ååˆè¯¥å¦‚ä½•è¡¨ç¤ºå‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜åº”è¯¥èƒ½å¤Ÿä»å¦ä¸€ä¸ªæ¨¡å—å¾—åˆ°ç­”æ¡ˆå§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¯¹å•ä½ç³»æ•°çš„åŒ…è£…&#34;&gt;å¯¹å•ä½ç³»æ•°çš„åŒ…è£…&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/values.rs&#34;&gt;&lt;code&gt;./src/values.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;#![allow(non_upper_case_globals)]
use crate::{units, Quantity};
// base
/// 1 meter
pub const m: Quantity&amp;lt;{ units::m }&amp;gt; = Quantity { raw_value: 1.0 };
/// 1 kilogram
pub const kg: Quantity&amp;lt;{ units::kg }&amp;gt; = Quantity { raw_value: 1.0 };
/// 1 second
pub const s: Quantity&amp;lt;{ units::s }&amp;gt; = Quantity { raw_value: 1.0 };
/// åé¢è¿˜æœ‰
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼š&lt;code&gt;use crate::{units, Quantity}&lt;/code&gt;, ä»£è¡¨çš„æ˜¯å¯¼å…¥çš„å½“å‰&lt;code&gt;crate&lt;/code&gt;ä¸­çš„&lt;code&gt;units&lt;/code&gt;å’Œ&lt;code&gt;Quantity&lt;/code&gt;ã€‚&lt;br&gt;
&lt;strong&gt;const æ³›å‹&lt;/strong&gt;: ä»è¿™å„¿çš„å¯ä»¥å¤§æ¦‚å¯ä»¥çœ‹å‡ºï¼Œ&lt;code&gt;Quantity&lt;/code&gt;çš„æ³›å‹å‚æ•°æ˜¯ä¸€ä¸ªconstå¸¸é‡ï¼ŒåŒ…è£…æ¯ä¸€ä¸ª&lt;code&gt;units.rs&lt;/code&gt;ä¸­çš„constå¸¸é‡å€¼ã€‚è¿™å°±æ˜¯const genericså§! åé¢çš„å®ä¾‹åŒ–æ ¹æ®ç±»å‹æ¨å¯¼åº”è¯¥åˆå¯ä»¥å†™åšï¼š&lt;code&gt;Quantity&amp;lt;{ units::m }&amp;gt; { raw_value: 1.0 }&lt;/code&gt;ã€‚ æ‰€ä»¥æ˜¯ç”¨&lt;code&gt;raw_value&lt;/code&gt;æ¥è¡¨ç¤ºæ¯ä¸€ä¸ªå•ä½çš„ç³»æ•°ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å†æ¥çœ‹çœ‹&lt;code&gt;Quantity&lt;/code&gt;çš„å®šä¹‰å§ã€‚&lt;/p&gt;
&lt;p&gt;###ç»“æ„ä½“ &lt;code&gt;Quantity&lt;/code&gt;çš„å®šä¹‰&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;#[derive(Copy, Clone, Debug, PartialEq, PartialOrd)]
#[repr(transparent)]
pub struct Quantity&amp;lt;const U: SiUnit&amp;gt; {
    pub raw_value: f64,
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç®€å•å¹²è„†çš„ä½¿ç”¨const ç±»å‹ä½œä¸ºæ³›å‹å‚æ•°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŠ å‡è¿ç®—&#34;&gt;åŠ å‡è¿ç®—&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;impl&amp;lt;const U: SiUnit&amp;gt; ops::Add for Quantity&amp;lt;U&amp;gt; {
    type Output = Self;

    fn add(self, rhs: Self) -&amp;gt; Self {
        Self { raw_value: self.raw_value + rhs.raw_value }
    }
}

impl&amp;lt;const U: SiUnit&amp;gt; ops::AddAssign for Quantity&amp;lt;U&amp;gt; {
    fn add_assign(&amp;amp;mut self, rhs: Self) {
        self.raw_value += rhs.raw_value;
    }
}

impl&amp;lt;const U: SiUnit&amp;gt; ops::Sub for Quantity&amp;lt;U&amp;gt; {
    type Output = Self;

    fn sub(self, rhs: Self) -&amp;gt; Self {
        Self { raw_value: self.raw_value - rhs.raw_value }
    }
}

impl&amp;lt;const U: SiUnit&amp;gt; ops::SubAssign for Quantity&amp;lt;U&amp;gt; {
    fn sub_assign(&amp;amp;mut self, rhs: Self) {
        self.raw_value -= rhs.raw_value;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç”±äºåŠ å‡è¿ç®—å¹¶ä¸ä¼šå˜å•ä½ï¼Œæ‰€ä»¥å°±æ˜¯å¯¹ç³»æ•°çš„åŠ å‡ï¼Œéå¸¸ç›´æ¥ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¹˜é™¤è¿ç®—&#34;&gt;ä¹˜é™¤è¿ç®—&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªæ•°å­—ä¸ä¸€ä¸ªQuantityç›¸ä¹˜ï¼Œå•ä½ä¸å˜ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;impl&amp;lt;const U: SiUnit&amp;gt; ops::Mul&amp;lt;f64&amp;gt; for Quantity&amp;lt;U&amp;gt; {
    type Output = Quantity&amp;lt;U&amp;gt;;

    fn mul(self, rhs: f64) -&amp;gt; Self::Output {
        Quantity { raw_value: self.raw_value * rhs }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¤ä¸ªå¸¦å•ä½çš„é‡ç›¸ä¹˜ï¼Œå•ä½å‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;Quantity&amp;lt;U&amp;gt;&lt;/code&gt;çš„æ³›å‹å‚æ•°å‘ç”Ÿäº†å˜åŒ–ï¼Œæ­¤æ—¶éœ€è¦é‡æ–°å®ä¾‹åŒ–ä¸€ä¸ª&lt;code&gt;Quantity&amp;lt;U&amp;gt;&lt;/code&gt;ç»“æ„ä½“ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;// Quantityç›¸ä¹˜è½¬æ¢ä¸ºunitç›¸ä¹˜ï¼ŒUL.unit_mul(UR)
impl&amp;lt;const UL: SiUnit, const UR: SiUnit&amp;gt; ops::Mul&amp;lt;Quantity&amp;lt;UR&amp;gt;&amp;gt; for Quantity&amp;lt;UL&amp;gt;
where
    Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;: ,
{
    type Output = Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;;

    fn mul(self, rhs: Quantity&amp;lt;UR&amp;gt;) -&amp;gt; Self::Output {
        Quantity { raw_value: self.raw_value * rhs.raw_value }
    }
}
// unitç›¸ä¹˜
impl SiUnit {
    const fn unit_mul(self, rhs: Self) -&amp;gt; Self {
        Self {
            m: self.m + rhs.m,
            kg: self.kg + rhs.kg,
            s: self.s + rhs.s,
            A: self.A + rhs.A,
            K: self.K + rhs.K,
            mol: self.mol + rhs.mol,
            cd: self.cd + rhs.cd,
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;è¿™å„¿å¯¹æ³›å‹çš„çº¦æŸå¾ˆç¥å¥‡ï¼Œç«Ÿç„¶æ˜¯è¿™æ ·å†™&lt;code&gt;Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;:&lt;/code&gt; ï¼Œå¦‚æœå»æ‰è¿™ä¸ªwhereï¼Œåˆ™ä¼šæŠ¥é”™unconstrained generic constantã€‚è™½ç„¶ç°åœ¨è¿˜ä¸æ‡‚æ˜¯ä»€ä¹ˆæ„æ€....&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;error: unconstrained generic constant
   --&amp;gt; src\lib.rs:156:5
    |
156 |     type Output = Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;;     
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^     
    |
help: consider adding a `where` bound for this expression  
   --&amp;gt; src\lib.rs:156:28
    |
156 |     type Output = Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;;     
    |                            ^^^^^^^^^^^^^^^^^^^     
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;å¦å¤–ä¸€ç‚¹ï¼Œæ³›å‹ä¸­çš„constæ˜¯è°ƒç”¨ä¸€ä¸ªconst fnå¾—åˆ°çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æ‰“å¤§æ‹¬å·ï¼Œå¦‚ï¼š&lt;code&gt;Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;&lt;/code&gt; ï¼Œå¦åˆ™ä¹Ÿä¼šå‡ºé”™ã€‚è¿™åœ¨æœ€è¿‘çš„&lt;a href=&#34;https://github.com/rust-lang/rust/pull/79135&#34;&gt;Stabilization report&lt;/a&gt;é‡Œé¢ä¹Ÿæœ‰æåˆ°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Const arguments&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Const parameters are instantiated using const arguments. Any concrete const expression or const parameter as a standalone argument can be used. When applying an expression as const parameter, &lt;strong&gt;most expressions must be contained within a block&lt;/strong&gt;, with two exceptions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;literals and single-segment path expressions&lt;/li&gt;
&lt;li&gt;array lengths&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This syntactic restriction is necessary to avoid ambiguity, or requiring infinite lookahead when parsing an expression as a generic argument.&lt;/p&gt;
&lt;p&gt;In the cases where a generic argument could be resolved as either a type or const argument, we always interpret it as a type. This causes the following test to fail:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;type N = u32;
struct Foo&amp;lt;const N: usize&amp;gt;;
fn foo&amp;lt;const N: usize&amp;gt;() -&amp;gt; Foo&amp;lt;N&amp;gt; { todo!() } // ERR
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To circumvent this, the user may wrap the const parameter with braces, at which point it is unambiguously accepted.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;type N = u32;
struct Foo&amp;lt;const N: usize&amp;gt;;
fn bar&amp;lt;const N: usize&amp;gt;() -&amp;gt; Foo&amp;lt;{ N }&amp;gt; { todo!() } // ok
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼Œconst æ³›å‹ä¸€èˆ¬éƒ½éœ€è¦æ‰“å¤§æ‹¬å·(ä¸¤ç§æƒ…å†µé™¤å¤–)ï¼Œæ‰“å¤§æ‹¬å·æ˜¯ä¸ºäº†é˜²æ­¢æ­§ä¹‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯äº†è§£äº†const æ³›å‹åœ¨åšå•¥ï¼Œä»¥åŠå¦‚ä½•åšçš„ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡è¿™ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘æ„Ÿè§‰const æ³›å‹æ˜¯ç”¨åœ¨å½“æ³›å‹éœ€è¦æœ‰å–å€¼çš„æ—¶å€™ï¼ˆæ¯”å¦‚è¿™é‡Œçš„unitå°±éœ€è¦å–å€¼ï¼Œè€Œä¸èƒ½æ¯ä¸€ä¸ªå•ä½ä¸€ä¸ªç±»å‹...ï¼‰ã€‚&lt;/p&gt;
">Rust const æ³›å‹ (Const Generics)çš„ä½¿ç”¨æ–¹æ³•ï¼šè§£æconst_unit_poc</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/rust-yi-bu/"" data-c="
          &lt;p&gt;å‰ä¸€æ®µæ—¶é—´çœ‹äº†ä¸€äº›å…³äºRustçš„å¼‚æ­¥ç¼–ç¨‹ç›¸å…³çš„çŸ¥è¯†ï¼Œå—ç›ŠåŒªæµ…ï¼Œæ•…åšæ­¤è®°å½•ã€‚&lt;br&gt;
Rustå¼‚æ­¥ç¼–ç¨‹æ˜¯Rustè¯­è¨€ä¸­ååˆ†é‡è¦ç‰¹æ€§ã€‚ç°åœ¨Rustä¸­çš„å¼‚æ­¥ç¼–ç¨‹é‡‡ç”¨&lt;code&gt;async/.await&lt;/code&gt;è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h1 id=&#34;1-ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ç¼–ç¨‹&#34;&gt;1. ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ç¼–ç¨‹ï¼Ÿ&lt;/h1&gt;
&lt;p&gt;åˆšå¼€å§‹ä¸€ç›´æœ‰ä¸€ä¸ªç–‘é—®ï¼š&lt;strong&gt;æ—¢ç„¶å·²ç»æœ‰äº†å¤šçº¿ç¨‹æŠ€æœ¯ï¼Œå¤šç”¨æˆ·è®¿é—®ç›´æ¥ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å¼‚æ­¥å‘¢ï¼Ÿ&lt;/strong&gt; åæ¥ç»ˆäºæ˜ç™½ï¼Œå¼‚æ­¥æ˜¯ç”¨åœ¨å¤šç”¨æˆ·&lt;strong&gt;åŒæ—¶å¤„ç†åŒä¸€èµ„æº&lt;/strong&gt;æ—¶å€™å‘æŒ¥ä½œç”¨çš„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ç°åœ¨ç”¨100ä¸ªç”¨æˆ·åŒæ—¶ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶æ¥ä¸¾ä¾‹ï¼š
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŒæ­¥&lt;/strong&gt;(ä¸€èˆ¬ä¹Ÿæ˜¯&lt;strong&gt;é˜»å¡&lt;/strong&gt;)ï¼š ç¨‹åºéœ€è¦å®ç°&lt;strong&gt;è¯»å†™é”(&lt;code&gt;std::sync::RwLock&lt;/code&gt;)&lt;strong&gt;æˆ–&lt;/strong&gt;äº’æ–¥é”(&lt;code&gt;std::sync::Mutex&lt;/code&gt;)&lt;/strong&gt;ï¼Œç¨‹åºä¼šåŒæ—¶äº§ç”Ÿ100ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‹¥æœ‰å†™é”ï¼Œå…¶ä»–çš„99ä¸ªçº¿ç¨‹å‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤„äº&lt;strong&gt;ç­‰å¾…çŠ¶æ€&lt;/strong&gt;ï¼Œçº¿ç¨‹ä¸ä¼šsleepï¼Œä¼šå¾ªç¯è·å–é”(è‡ªæ—‹é”Spinlock)ã€‚
&lt;ul&gt;
&lt;li&gt;é˜»å¡çš„çº¿ç¨‹è¿˜æ¥å‚ä¸æ“ä½œç³»ç»Ÿçš„æŠ¢å å¼è°ƒåº¦ï¼Œå¾ˆä¸ç§‘å­¦ï¼ä¸ºä»€ä¹ˆä¸å…ˆæ’å¥½é˜Ÿï¼Œç”¨ä¸€ä¸ªçº¿ç¨‹å‘¢ï¼ˆè¿™ä¹Ÿæ˜¯åç¨‹å¹²çš„äº‹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æˆ–è€…æœ‰èµ·å§‹çš„&lt;strong&gt;åŠ é”å¼€é”€&lt;/strong&gt;(é€šå¸¸æ˜¯å¯¹äº’æ–¥é”ï¼šâ‘ çº¿ç¨‹ä¼šä»sleepï¼ˆåŠ é”ï¼‰â€”â€”&amp;gt;runningï¼ˆè§£é”ï¼‰ï¼Œè¿‡ç¨‹ä¸­æœ‰ä¸Šä¸‹æ–‡çš„åˆ‡æ¢ï¼Œcpuçš„æŠ¢å ï¼Œä¿¡å·çš„å‘é€ç­‰å¼€é”€ï¼›â‘¡äº’æ–¥é”åœ¨sleepæ—¶ä¼šé™·å…¥åˆ°å†…æ ¸æ€ï¼Œéœ€è¦æ˜‚è´µçš„ç³»ç»Ÿè°ƒç”¨ï¼›çº¿ç¨‹å‘æ“ä½œç³»ç»Ÿè¯·æ±‚è¢«æŒ‚èµ·æ˜¯é€šè¿‡ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œåœ¨linuxä¸Šçš„å®ç°å°±æ˜¯futex)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¼‚æ­¥&lt;/strong&gt;(ä¸€èˆ¬ä¹Ÿæ˜¯&lt;strong&gt;éé˜»å¡&lt;/strong&gt;)ï¼š å°†100ä¸ªçº¿ç¨‹æ ¹æ®ä¸€å®šçš„å…ˆåæ¬¡åº&lt;strong&gt;åˆå¹¶æˆä¸€ä¸ªçº¿ç¨‹&lt;/strong&gt;(ä¹Ÿå¯èƒ½æ˜¯å¤šä¸ªçº¿ç¨‹ï¼Ÿ)ï¼Œ å°±å¯ä»¥é¿å…é”çš„äº§ç”Ÿï¼Œä»è€Œå‡å°‘æ“ä½œç³»ç»Ÿå¯¹çº¿ç¨‹è°ƒç”¨çš„å¼€é”€ã€‚ä½†æ˜¯ï¼Œå½“çº¿ç¨‹ä¹‹é—´å¯¹èµ„æºçš„ä¾èµ–å…³ç³»æ¯”è¾ƒå¤æ‚çš„æ—¶å€™ï¼Œç¨‹åºçš„ç¼–å†™å°±ä¼š&lt;strong&gt;ååˆ†å¤æ‚&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åç¨‹&lt;/strong&gt;(coroutine)ï¼š å®ç°å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§æ–¹å¼ï¼Œæ˜¯åœ¨çº¿ç¨‹ä¹‹ä¸‹çš„ä¸€ä¸ªå•ä½ã€‚åç¨‹æ˜¯è¯­è¨€å±‚é¢æ§åˆ¶æ•°æ®æµçš„ä¸€ç§â€œè°ƒåº¦â€ï¼ˆå¤„ç†å…¬å…±èµ„æºçš„æ—¶å€™ï¼Œç›¸å½“äº&lt;strong&gt;ç”¨æˆ·æ€çš„é”&lt;/strong&gt;ï¼‰ï¼Œ çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿå±‚é¢çš„â€œè°ƒåº¦â€ï¼ˆå¤„ç†å…¬å…±èµ„æºï¼Œä½¿ç”¨&lt;strong&gt;æ“ä½œç³»ç»Ÿæˆ–è€…ç¡¬ä»¶çš„é”(å³Mutexæˆ–è€…Spinlock)&lt;/strong&gt;ï¼‰ã€‚åç¨‹çš„è°ƒåº¦æ˜¯ç¼–è¯‘å™¨é€šè¿‡ç»„ç»‡è¿ç®—é¡ºåºå®ç°çš„ï¼ˆé€šè¿‡ç”Ÿæˆå™¨ï¼ˆç­‰åŒäºä¸€ä¸ªçŠ¶æ€æœºï¼‰å®ç°ï¼‰ï¼Œçº¿ç¨‹æ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿæ¥è¿›è¡ŒæŠ¢å å¼è°ƒåº¦çš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zh.wikipedia.org/wiki/%E5%8D%8F%E7%A8%8B&#34;&gt;åç¨‹wiki&lt;/a&gt;ï¼šåç¨‹éå¸¸ç±»ä¼¼äºçº¿ç¨‹ã€‚ä½†æ˜¯åç¨‹æ˜¯åä½œå¼å¤šä»»åŠ¡çš„ï¼Œè€Œçº¿ç¨‹å…¸å‹æ˜¯æŠ¢å å¼å¤šä»»åŠ¡çš„ã€‚è¿™æ„å‘³ç€åç¨‹æä¾›å¹¶å‘æ€§è€Œéå¹¶è¡Œæ€§ã€‚åç¨‹è¶…è¿‡çº¿ç¨‹çš„å¥½å¤„æ˜¯å®ƒä»¬å¯ä»¥ç”¨äºç¡¬æ€§å®æ—¶çš„è¯­å¢ƒï¼ˆåœ¨åç¨‹ä¹‹é—´çš„åˆ‡æ¢ä¸éœ€è¦æ¶‰åŠä»»ä½•ç³»ç»Ÿè°ƒç”¨æˆ–ä»»ä½•é˜»å¡è°ƒç”¨ï¼‰ï¼Œè¿™é‡Œä¸éœ€è¦ç”¨æ¥å®ˆå«å…³é”®åŒºå—çš„åŒæ­¥æ€§åŸè¯­ï¼ˆprimitiveï¼‰æ¯”å¦‚äº’æ–¥é”ã€ä¿¡å·é‡ç­‰ï¼Œå¹¶ä¸”ä¸éœ€è¦æ¥è‡ªæ“ä½œç³»ç»Ÿçš„æ”¯æŒã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.zhihu.com/question/332113890/answer/1052024052&#34;&gt;äº’æ–¥é”ï¼ˆmutexï¼‰çš„åº•å±‚åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.zhihu.com/question/50185085/answer/1342613525&#34;&gt;å‡ºäºä»€ä¹ˆæ ·çš„åŸå› ï¼Œè¯ç”Ÿäº†ã€Œåç¨‹ã€è¿™ä¸€æ¦‚å¿µï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå¼‚æ­¥ç¼–ç¨‹æ˜¯å¯ä»¥ç›´æ¥ç”¨å¤æ‚çš„ä»£ç ç»“æ„ç›´æ¥å†™å‡ºæ¥çš„ã€‚æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­å°±æ˜¯åœ¨ä¸€ä¸ªçº¿ç¨‹é‡Œé¢å»ä¾æ¬¡è¯»å†™100æ¬¡ã€‚è€ŒRustçš„&lt;code&gt;async/.await&lt;/code&gt;è§£å†³æ–¹æ¡ˆåšçš„å·¥ä½œæ˜¯ &lt;strong&gt;â€œå°†å¤æ‚çš„å¼‚æ­¥ä»£ç  ===&amp;gt; åˆ©ç”¨è¯­æ³•ç³– ===&amp;gt; è½¬åŒ–ä¸ºç±»ä¼¼äºåŒæ­¥çš„ä»£ç (æ›´å®¹æ˜“coding)â€&lt;/strong&gt;  å³ &lt;strong&gt;â€œç”¨åŒæ­¥çš„è¯­ä¹‰è§£å†³å¼‚æ­¥é—®é¢˜â€&lt;/strong&gt; ã€‚&lt;/p&gt;
"> Rust å¼‚æ­¥å¹¶å‘ï¼ˆä¸€ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/about/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å…³äºæœ¬ç«™&#34;&gt;ğŸ  å…³äºæœ¬ç«™&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªè‡ªè¯´è‡ªè¯çš„åœ°æ–¹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åšä¸»æ˜¯è°&#34;&gt;ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°&lt;/h2&gt;
&lt;p&gt;ä¸€åªåœ¨æ¯•ä¸šè¾¹ç¼˜æŒ£æ‰çš„ç§ƒå¤´æ€ªã€‚&lt;/p&gt;
&lt;h2 id=&#34;å…´è¶£çˆ±å¥½&#34;&gt;â›¹ å…´è¶£çˆ±å¥½&lt;/h2&gt;
&lt;p&gt;coding~&lt;br&gt;
ä»¥åŠä¸€åˆ‡æœ‰è¶£çš„äº‹æƒ…ä»¬~&lt;/p&gt;
&lt;h2 id=&#34;è”ç³»æˆ‘å‘€&#34;&gt;ğŸ“¬ è”ç³»æˆ‘å‘€&lt;/h2&gt;
&lt;p&gt;thubzy15@foxmail.com&lt;/p&gt;
">å…³äº</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/2020112-yi-shi/"" data-c="
          &lt;p&gt;ä»&lt;strong&gt;ä»Šå¤©&lt;/strong&gt;å¼€å§‹è®°å½•å­¦ä¹ å’Œç”Ÿæ´»ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªæ‡’æƒ°çš„å°åšä¸»å•¦~ğŸ˜‹&lt;/p&gt;
">2020.11.22 ä¼Šå§‹</a>
      </div>
      
    </div>
  </div>
</div>
<script>
  // var escape = "[{&#34;content&#34;:&#34;&lt;p&gt;ä¸€ç‚¹xilinx fpga æ¿ä¸Šç»“æ„çš„çŸ¥è¯†ç‚¹ï¼Œè®°å½•ä¸‹æ¥ã€‚ä¸»è¦å‚è€ƒã€ŠåŸºäºFPGAçš„æ•°å­—ä¿¡å·å¤„ç†ã€‹ä¸€ä¹¦ç¬¬å…«ç« ã€‚&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;h1 id=\&#34;lutå’Œslice\&#34;&gt;LUTå’ŒSlice&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;zynq-7000ä¸­ä½¿ç”¨çš„æŸ¥æ‰¾è¡¨(Look Up Tableï¼ŒLUT)æ˜¯6ä½çš„ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª5ä½çš„LUTã€‚ï¼ˆ6ä½éœ€è¦çš„SRAMç©ºé—´æ˜¯2^6=64bitï¼Œ5ä½æ˜¯32bitã€‚è¿™åº”è¯¥ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªLUT5æ¥æ„æˆLUT6äº†ã€‚ï¼‰&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1610258789689.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/li&gt;\n&lt;li&gt;LUTå¯ä»¥ä½œä¸ºRAMå’ŒROMï¼Œ&lt;strong&gt;é€»è¾‘è¾“å…¥ä½œä¸ºåœ°å€çº¿&lt;/strong&gt;ï¼Œå†…å­˜ä½œä¸ºROMæˆ–è€…RAMï¼Œè§&lt;a href=\&#34;https://electronics.stackexchange.com/a/85465\&#34;&gt;How does a LUT work, why is it used?&lt;/a&gt;ã€‚å…¶ä¸­SLICEL(slice logic)åªèƒ½ä½œä¸ºROMï¼Œè€ŒSLICEM(slice memory)å¯ä»¥ä½œä¸ºROMå’Œåˆ†å¸ƒå¼çš„RAMã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;LUTåŠŸèƒ½&lt;/th&gt;\n&lt;th&gt;SLICEL&lt;/th&gt;\n&lt;th&gt;SLICEM&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;é€»è¾‘å‡½æ•°å‘ç”Ÿå™¨&lt;/td&gt;\n&lt;td&gt;âˆš&lt;/td&gt;\n&lt;td&gt;âˆš&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;ROM&lt;/td&gt;\n&lt;td&gt;âˆš&lt;/td&gt;\n&lt;td&gt;âˆš&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;åˆ†å¸ƒå¼RAM&lt;/td&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;td&gt;âˆš&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;ç§»ä½å¯„å­˜å™¨&lt;/td&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;td&gt;âˆš&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;ul&gt;\n&lt;li&gt;ä½œä¸ºRAMä¹Ÿå¯ä»¥æœ‰å¤šç§ç±»å‹ï¼Œå„ç§éœ€è¦ä¸åŒæ•°é‡çš„LUTã€‚&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1610268719145.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/li&gt;\n&lt;li&gt;SLICEMä¸­1ä¸ªLUT6å¯é…ç½®ä¸º1ä¸ª32bitçš„ç§»ä½å¯„å­˜å™¨ï¼Œ&lt;strong&gt;é€»è¾‘è¾“å…¥ç«¯å£ä½œä¸ºæ—¶é’Ÿå‘¨æœŸå»¶æ—¶æ•°&lt;/strong&gt;ï¼Œæ‰€ä»¥åœ¨Xilinx FPGAä¸­å®ç°FIFOçš„åŠŸèƒ½ï¼Œå¯é‡‡ç”¨Block RAMçš„æ–¹å¼ï¼Œä¹Ÿå¯é‡‡ç”¨LUTçš„æ–¹å¼ã€‚&lt;/li&gt;\n&lt;li&gt;ä¸€ä¸ªLUT6å¯å®ç°4é€‰1çš„MUX ï¼ˆæ•°æ®4ä½ï¼Œåœ°å€2ä½ï¼‰ã€‚&lt;/li&gt;\n&lt;li&gt;ä¸€ä¸ªF7MUXå’Œç›¸é‚»çš„ä¸¤ä¸ªLUT6å¯å®ç°ä¸€ä¸ª8é€‰1çš„MUXã€‚å› æ­¤ï¼Œä¸€ä¸ªSLICEå¯å®ç°2ä¸ª8é€‰1çš„MUXã€‚&lt;/li&gt;\n&lt;li&gt;4ä¸ªLUT6ã€F7AMUXã€F7BMUXå’ŒF8MUXå¯å®ç°ä¸€ä¸ª16é€‰1çš„MUXã€‚å› æ­¤ï¼Œä¸€ä¸ªSLICEå¯å®ç°ä¸€ä¸ª16é€‰1çš„MUX&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;dspåŸºæœ¬åŠŸèƒ½æ˜¯åšä¹˜æ³•è¿ç®—\&#34;&gt;DSPï¼šåŸºæœ¬åŠŸèƒ½æ˜¯åšä¹˜æ³•è¿ç®—&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;zynqä¸­çš„DSP(Digital Signal Processing)éƒ¨åˆ†æ˜¯ç”±DSP48E1ç»„æˆçš„ï¼Œç»„æˆåŸºæœ¬ç»“æ„å¦‚å›¾ï¼š&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1610267218196.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/li&gt;\n&lt;li&gt;ç”±äº”éƒ¨åˆ†æ„æˆï¼š\n&lt;ul&gt;\n&lt;li&gt;å¯¹å¤–ç«¯å£&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é¢„åŠ å™¨&lt;/strong&gt;(pre-adder)&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¹˜æ³•å™¨&lt;/strong&gt;(MULT)&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é€»è¾‘è¿ç®—å•å…ƒ&lt;/strong&gt;(ALU)&lt;/li&gt;\n&lt;li&gt;æ¨¡å¼æ£€æµ‹ç”µè·¯&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1610267326031.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;å¯¹å¤–&lt;strong&gt;ç«¯å£&lt;/strong&gt;æœ‰ï¼š\n&lt;ul&gt;\n&lt;li&gt;æ“ä½œæ•°è¾“å…¥è¾“å‡ºç«¯å£&lt;/li&gt;\n&lt;li&gt;æ¨¡å¼é…ç½®ç«¯å£&lt;/li&gt;\n&lt;li&gt;çº§è”ç«¯å£&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1610267484853.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;ç®€åŒ–ç»“æ„å›¾ä¸ºï¼š&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1610267801525.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/li&gt;\n&lt;li&gt;å•æŒ‡ä»¤å¤šæ•°æ®æ¨¡å¼å³SIMD ( Single Instruction, Multiple Data)ã€‚å®ƒä½¿å¾—48bitçš„ALUå¯é…ç½®ä¸º4ä¸ª 12bitçš„ALU (æ‰§è¡ŒåŠ æ³•ã€å‡æ³•æˆ–ä½é€»è¾‘è¿ç®—)æˆ–è€…2ä¸ª24bitçš„ALUã€‚&lt;/li&gt;\n&lt;li&gt;é‡‡ç”¨VHDLæˆ–Verilogä»£ç æè¿°æ—¶ï¼Œ&lt;strong&gt;ä¹˜æ³•ã€ä¹˜åŠ /ä¹˜å‡å’Œä¹˜ç´¯åŠ è¿ç®—ä¼šè¢«è‡ªåŠ¨æ˜ å°„ä¸º DSP48E1,è€ŒåŠ æ³•ã€å‡æ³•å’Œç´¯åŠ è¿ç®—é»˜è®¤æƒ…å†µä¸‹é‡†ç”¨å¸¸è§„é€»è¾‘èµ„æºå®ç°&lt;/strong&gt;ã€‚è‹¥ä¹Ÿå¸Œæœ›å®ƒä»¬è¢«æ˜  å°„ä¸ºDSP48E1,åˆ™éœ€è¦é€šè¿‡ç»¼åˆå±æ€§use_dsp48å¯¹å…¶è¿›è¡Œçº¦æŸã€‚&lt;/li&gt;\n&lt;li&gt;åº”ç”¨ï¼š\n&lt;ul&gt;\n&lt;li&gt;48bitç´¯åŠ è¿ç®—(æ¯”åŠ æ³•å™¨å¤šä¸€ä¸ªå¯„å­˜å™¨ç”¨æ¥å­˜å–å‰é¢åŠ è¿‡çš„æ•°æ®ï¼Œå¯„å­˜å™¨æ˜¯éœ€è¦æ—¶é’Ÿé©±åŠ¨çš„ã€‚)&lt;/li&gt;\n&lt;li&gt;2è¾“å…¥48bitæ•°æ®ç›¸åŠ ä¹‹åç´¯åŠ &lt;/li&gt;\n&lt;li&gt;96bitåŠ æ³•ã€å‡æ³•è¿ç®—ï¼ˆéœ€è¦çº§è”ï¼‰&lt;/li&gt;\n&lt;li&gt;96bitç´¯åŠ è¿ç®—ï¼ˆéœ€è¦çº§è”ï¼‰&lt;/li&gt;\n&lt;li&gt;ä¹˜ç´¯åŠ è¿ç®—(ä¸¤ä¸ªè¾“å…¥æ•°æ®ç›¸ä¹˜å¹¶å¯¹ä¹˜ç§¯ç»“æœç´¯åŠ )ï¼š&lt;/li&gt;\n&lt;li&gt;å¤æ•°ä¹˜æ³•è¿ç®—&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;bram-block-ram\&#34;&gt;BRAM (Block RAM)&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;å—RAM (æ ¹æ®åœ°å€å†™å…¥å’Œè¾“å‡º)&lt;/li&gt;\n&lt;li&gt;Block RAM (BRAM)åœ¨FPGAè®¾è®¡ä¸­æ‰®æ¼”ç€ä¸€ä¸ªé‡è¦çš„è§’è‰²å³æ•°æ®å­˜å‚¨æˆ–ç¼“å­˜&lt;/li&gt;\n&lt;li&gt;zynqä¸­æ¯ä¸ªBRAMè¾¾åˆ°äº† 36Kb,ç”±ä¸¤ä¸ª18Kb BRAMæ‹¼æ¥è€Œæˆ.&lt;/li&gt;\n&lt;li&gt;BRAMåœ¨ä¸ç‰ºç‰²å¾ˆå¤§å¸¦å®½çš„å‰æä¸‹ï¼Œæä¾›äº†æ›´å¤§çš„å‚¨å­˜å¯†åº¦ã€‚å¸¦å®½çš„ç‰ºç‰²ä¸»è¦åœ¨äº&lt;strong&gt;æ¯ä¸ªå‘¨æœŸBRAMåªæœ‰1-2ä¸ªå…¥å£å¯ä»¥è¢«æ¥é€š&lt;/strong&gt;(å¯¹åº”å•ç«¯å£å’ŒåŒç«¯å£)ã€‚&lt;/li&gt;\n&lt;li&gt;åˆ©ç”¨BRAMå®ç°é€»è¾‘è¿ç®—åŠŸèƒ½æœ¬è´¨ä¸Šè€Œè¨€æ˜¯å°†BRAMé…ç½®ä¸ºROM,å®ƒå°±åƒä¸€ä¸ªå¤§çš„ æŸ¥æ‰¾è¡¨ï¼ˆLUTï¼‰ã€‚&lt;/li&gt;\n&lt;li&gt;å¯¹ä¸€äº›å›ºå®šçš„æ•°æ®è¿›è¡Œå­˜å‚¨ï¼Œè¿™å°±éœ€è¦ç”¨åˆ° ROMï¼Œå¯å­˜åœ¨BRAMé‡Œã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;å•ç«¯å£ram-ä¼ªåŒç«¯å£ramåŒç«¯å£ramå’Œfifo\&#34;&gt;&lt;a href=\&#34;https://zhuanlan.zhihu.com/p/96616326\&#34;&gt;å•ç«¯å£RAMã€ä¼ªåŒç«¯å£RAMï¼ŒåŒç«¯å£RAMå’ŒFIFO&lt;/a&gt;&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;å•ç«¯å£RAMï¼ˆSingle-Port RAMï¼‰\n&lt;ul&gt;\n&lt;li&gt;è¾“å…¥åªæœ‰&lt;strong&gt;ä¸€ç»„æ•°æ®çº¿&lt;/strong&gt;å’Œ&lt;strong&gt;ä¸€ç»„åœ°å€çº¿&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;åªæœ‰ä¸€ä¸ªæ—¶é’Ÿ&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;è¯»å†™å…±ç”¨åœ°å€çº¿&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;æ‰€ä»¥ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸåªèƒ½è¯»æˆ–è€…åªèƒ½å†™ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;ä¼ªåŒç«¯å£RAMï¼ˆSimple Dual-Port RAMï¼‰\n&lt;ul&gt;\n&lt;li&gt;è¾“å…¥æœ‰&lt;strong&gt;ä¸€ç»„æ•°æ®çº¿&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸¤ç»„åœ°å€çº¿&lt;/strong&gt;ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¸¤ä¸ªæ—¶é’Ÿ&lt;/strong&gt;ã€‚&lt;/li&gt;\n&lt;li&gt;ä¸€ä¸ªç«¯å£åªè¯»ï¼Œå¦ä¸€ä¸ªç«¯å£åªå†™ï¼Œä½†å†™å…¥å’Œè¯»å–çš„æ—¶é’Ÿå¯ä»¥ä¸åŒï¼Œä¸”ä½å®½æ¯”å¯ä»¥ä¸æ˜¯1:1&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;åŒç«¯å£RAMï¼ˆTrue Dual-Port RAMï¼‰\n&lt;ul&gt;\n&lt;li&gt;è¾“å…¥æœ‰&lt;strong&gt;ä¸¤ç»„åœ°å€çº¿&lt;/strong&gt;å’Œ&lt;strong&gt;ä¸¤ç»„æ•°æ®çº¿&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¸¤ä¸ªæ—¶é’Ÿ&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;ä¸¤ä¸ªç«¯å£éƒ½æœ‰è¯»å†™çš„åŠŸèƒ½ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;FIFO (First-in, first-out)\n&lt;ul&gt;\n&lt;li&gt;ä¸€ä¸ªç«¯å£åªè¯»ï¼Œå¦ä¸€ä¸ªç«¯å£åªå†™ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å…ˆå…¥å…ˆå‡ºï¼Œæ²¡æœ‰åœ°å€çº¿&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;ä¸Šè¿°ä¸‰ç§RAMéƒ½å¯ä»¥å¯»å€ï¼Œ&lt;strong&gt;FIFOä¸èƒ½å¯»å€&lt;/strong&gt;ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;,&#34;fileName&#34;:&#34;xilinx-fpga-ban-shang-jie-gou-zhi-shi-za-ji&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;ä¸€ç‚¹xilinx fpga æ¿ä¸Šç»“æ„çš„çŸ¥è¯†ç‚¹ï¼Œè®°å½•ä¸‹æ¥ã€‚ä¸»è¦å‚è€ƒã€ŠåŸºäºFPGAçš„æ•°å­—ä¿¡å·å¤„ç†ã€‹ä¸€ä¹¦ç¬¬å…«ç« ã€‚&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;Xilinx FPGA æ¿ä¸Šç»“æ„çŸ¥è¯†æ‚è®°&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;fpga&#34;,&#34;slug&#34;:&#34;EEJj1UZDJ&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/EEJj1UZDJ/&#34;}],&#34;date&#34;:&#34;2021-01-10 14:04:54&#34;,&#34;dateFormat&#34;:&#34;2021-01-10&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/xilinx-fpga-ban-shang-jie-gou-zhi-shi-za-ji/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:223000,&#34;words&#34;:1007,&#34;minutes&#34;:4},&#34;description&#34;:&#34;ä¸€ç‚¹xilinx fpga æ¿ä¸Šç»“æ„çš„çŸ¥è¯†ç‚¹ï¼Œè®°å½•ä¸‹æ¥ã€‚ä¸»è¦å‚è€ƒã€ŠåŸºäºFPGAçš„æ•°å­—ä¿¡å·å¤„ç†ã€‹ä¸€ä¹¦ç¬¬å…«ç« ã€‚\n\nLUTå’ŒSlice\n\nzynq-7000ä¸­ä½¿ç”¨çš„æŸ¥æ‰¾è¡¨(Look Up Tableï¼ŒLUT)æ˜¯6ä½çš„ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª5ä½çš„LUTã€‚ï¼ˆ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#lut%E5%92%8Cslice\&#34;&gt;LUTå’ŒSlice&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#dsp%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD%E6%98%AF%E5%81%9A%E4%B9%98%E6%B3%95%E8%BF%90%E7%AE%97\&#34;&gt;DSPï¼šåŸºæœ¬åŠŸèƒ½æ˜¯åšä¹˜æ³•è¿ç®—&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#bram-block-ram\&#34;&gt;BRAM (Block RAM)&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8D%95%E7%AB%AF%E5%8F%A3ram-%E4%BC%AA%E5%8F%8C%E7%AB%AF%E5%8F%A3ram%E5%8F%8C%E7%AB%AF%E5%8F%A3ram%E5%92%8Cfifo\&#34;&gt;å•ç«¯å£RAMã€ä¼ªåŒç«¯å£RAMï¼ŒåŒç«¯å£RAMå’ŒFIFO&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;æ‰¾äº†ä¸€ä¼šå„¿æ‰æ‰¾åˆ°, æ‰€ä»¥è®°å½•ä¸‹æ¥ã€‚&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;p&gt;ç”¨HLSç”Ÿæˆçš„ipæ ¸ï¼Œä½¿ç”¨axi-liteåè®®ï¼Œæ‰¾ä¸åˆ°pynqä¸­topå‡½æ•°å˜é‡å¯¹åº”çš„å†…å­˜ç©ºé—´åœ°å€ã€‚&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;HLSä¸­ï¼ŒSynthesis Summaryçš„æœ€åä¸€é¡¹å¯ä»¥çœ‹åˆ°HW info.&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1610107689191.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;HLSç”Ÿæˆçš„verilogæ–‡ä»¶(XXXXX_control_s_axi.v)ä¸­ï¼Œæœ‰æ¥å£åœ°å€ä¿¡æ¯çš„æ³¨é‡Šã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code&gt;//------------------------Address Info-------------------\n// 0x00 : reserved\n// 0x04 : reserved\n// 0x08 : reserved\n// 0x0c : reserved\n// 0x10 : Data signal of a\n//        bit 31~0 - a[31:0] (Read/Write)\n// 0x14 : reserved\n// 0x18 : Data signal of b\n//        bit 31~0 - b[31:0] (Read/Write)\n// 0x1c : reserved\n// 0x20 : Data signal of c\n//        bit 31~0 - c[31:0] (Read)\n// 0x24 : Control signal of c\n//        bit 0  - c_ap_vld (Read/COR)\n//        others - reserved\n// (SC = Self Clear, COR = Clear on Read, TOW = Toggle on Write, COH = Clear on Handshake)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;pynqä¸­ï¼Œå¯é€šè¿‡&lt;code&gt;register_map&lt;/code&gt;ç›´æ¥æŸ¥çœ‹åœ°å€ï¼Œæˆ–è€…ç›´æ¥æ“ä½œå˜é‡ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-python\&#34;&gt;from pynq import Overlay\noverlay = Overlay(&#39;./design_1.bit&#39;)\nadd_ip = overlay.add_0\n\nadd_ip.register_map.a = 3\nadd_ip.register_map.b = 4\nc = add_ip.register_map.c\nc.address\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;zynq-zhong-cha-kan-yong-hls-sheng-cheng-de-ip-he-duan-kou-dui-ying-de-nei-cun-kong-jian&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;æ‰¾äº†ä¸€ä¼šå„¿æ‰æ‰¾åˆ°, æ‰€ä»¥è®°å½•ä¸‹æ¥ã€‚&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;Zynq ä¸­æŸ¥çœ‹ç”¨HLS ç”Ÿæˆçš„IPæ ¸ç«¯å£å¯¹åº”çš„å†…å­˜ç©ºé—´&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;HLS&#34;,&#34;slug&#34;:&#34;pm9HjSOZ32&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/pm9HjSOZ32/&#34;},{&#34;name&#34;:&#34;zynq&#34;,&#34;slug&#34;:&#34;VR993R9Vz&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/VR993R9Vz/&#34;},{&#34;name&#34;:&#34;FPGA&#34;,&#34;slug&#34;:&#34;9jjFooiOMM&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/9jjFooiOMM/&#34;}],&#34;date&#34;:&#34;2021-01-07 17:34:33&#34;,&#34;dateFormat&#34;:&#34;2021-01-07&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/zynq-zhong-cha-kan-yong-hls-sheng-cheng-de-ip-he-duan-kou-dui-ying-de-nei-cun-kong-jian/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:60000,&#34;words&#34;:201,&#34;minutes&#34;:2},&#34;description&#34;:&#34;æ‰¾äº†ä¸€ä¼šå„¿æ‰æ‰¾åˆ°, æ‰€ä»¥è®°å½•ä¸‹æ¥ã€‚\n\nç”¨HLSç”Ÿæˆçš„ipæ ¸ï¼Œä½¿ç”¨axi-liteåè®®ï¼Œæ‰¾ä¸åˆ°pynqä¸­topå‡½æ•°å˜é‡å¯¹åº”çš„å†…å­˜ç©ºé—´åœ°å€ã€‚\n\n\nHLSä¸­ï¼ŒSynthesis Summaryçš„æœ€åä¸€é¡¹å¯ä»¥çœ‹åˆ°HW info.\n\n\n\nHLSç”Ÿæˆçš„...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;å‚è€ƒXilinxæ–‡æ¡£ï¼Œ&lt;a href=\&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/vitis_hls_coding_styles.html\&#34;&gt;Vitis HLS Coding Styles&lt;/a&gt;&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;h1 id=\&#34;ä¸æ”¯æŒçš„ccéƒ¨åˆ†\&#34;&gt;ä¸æ”¯æŒçš„C/C++éƒ¨åˆ†&lt;/h1&gt;\n&lt;h2 id=\&#34;ç³»ç»Ÿè°ƒç”¨\&#34;&gt;ç³»ç»Ÿè°ƒç”¨&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;printf()&lt;/code&gt;ï¼Œ &lt;code&gt;fprintf(stdout,)&lt;/code&gt;ç­‰ä¸ä¼šå½±å“ç®—æ³•æ‰§è¡Œçš„ç³»ç»Ÿè°ƒç”¨â€”â€”å¿½ç•¥æ‰ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;getc()&lt;/code&gt;, &lt;code&gt;time()&lt;/code&gt;, &lt;code&gt;sleep()&lt;/code&gt; ç­‰ç³»ç»Ÿè°ƒç”¨â€”â€”ä¸è¢«æ¥å—ã€‚&lt;/li&gt;\n&lt;li&gt;å¯ä»¥ä½¿ç”¨&lt;code&gt;__SYNTHESIS__&lt;/code&gt;å®æ¥åŒºåˆ†&lt;strong&gt;ç»¼åˆ&lt;/strong&gt;ä¸&lt;strong&gt;è°ƒè¯•&lt;/strong&gt;è¿‡ç¨‹&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-c\&#34;&gt;void hier_func4(din_t A, din_t B, dout_t *C, dout_t *D)\n{\n    dint_t apb, amb;\n\n    sumsub_func(&amp;amp;A, &amp;amp;B, &amp;amp;apb, &amp;amp;amb);\n#ifndef __SYNTHESIS__\n    FILE *fp1; // The following code is ignored for synthesis\n    char filename[255];\n    sprintf(filename, Out_apb_ % 03d.dat, apb);\n    fp1 = fopen(filename, w);\n    fprintf(fp1, % d \\n, apb);\n    fclose(fp1);\n#endif\n    shift_func(&amp;amp;apb, &amp;amp;amb, C, D);\n}\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;åŠ¨æ€å†…å­˜\&#34;&gt;åŠ¨æ€å†…å­˜&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;malloc()&lt;/code&gt;ï¼Œ &lt;code&gt;new&lt;/code&gt; ç­‰åŠ¨æ€åˆ†é…å†…å­˜çš„ä¸è¡Œ, ä¸èƒ½åœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼Œå¿…é¡»åœ¨æ ˆä¸Šã€‚ï¼ˆå› ä¸ºè¯¥HLSæŠ€æœ¯æ˜¯é™æ€åˆ†æï¼‰&lt;/li&gt;\n&lt;li&gt;ä¸€ç§æ”¹åŠ¨æ–¹æ³•æ˜¯ç›´æ¥å¯¹æ ˆä¸Šå˜é‡å–æŒ‡é’ˆï¼š&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C\&#34;&gt;#include &amp;quot;malloc_removed.h&amp;quot;\n#include &amp;lt;stdlib.h&amp;gt;\n//#define NO_SYNTH\n\ndout_t malloc_removed(din_t din[N], dsel_t width) {  \n\n#ifdef NO_SYNTH\n long long *out_accum = malloc (sizeof(long long));\n int* array_local = malloc (64 * sizeof(int));\n#else\n long long _out_accum;\n long long *out_accum = &amp;amp;_out_accum;\n int _array_local[64];\n int* array_local = &amp;amp;_array_local[0];\n#endif\n// ä¸­é—´è®¡ç®—çœç•¥\n return *out_accum;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;æŒ‡é’ˆçš„ä¸€äº›é™åˆ¶\&#34;&gt;æŒ‡é’ˆçš„ä¸€äº›é™åˆ¶&lt;/h2&gt;\n&lt;h3 id=\&#34;é€šç”¨æŒ‡é’ˆç±»å‹è½¬æ¢\&#34;&gt;é€šç”¨æŒ‡é’ˆç±»å‹è½¬æ¢&lt;/h3&gt;\n&lt;p&gt;HLS åªæ”¯æŒC/C++åŸç”Ÿç±»å‹çš„è½¬æ¢&lt;/p&gt;\n&lt;h3 id=\&#34;æŒ‡é’ˆæ•°ç»„\&#34;&gt;æŒ‡é’ˆæ•°ç»„&lt;/h3&gt;\n&lt;p&gt;å¦‚æœæ¯ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªæ ‡é‡æˆ–ä¸€ä¸ªæ ‡é‡æ•°ç»„ï¼Œåˆ™Vitis HLSæ”¯æŒæŒ‡é’ˆæ•°ç»„çš„ç»¼åˆã€‚ä½†æŒ‡é’ˆæ•°ç»„ä¸èƒ½æŒ‡å‘é¢å¤–çš„æŒ‡é’ˆï¼ˆåº”è¯¥ç±»ä¼¼äºŒç»´æ•°ç»„çš„è¡Œã€åˆ—æŒ‡é’ˆï¼‰&lt;/p&gt;\n&lt;h3 id=\&#34;å‡½æ•°æŒ‡é’ˆ\&#34;&gt;å‡½æ•°æŒ‡é’ˆ&lt;/h3&gt;\n&lt;p&gt;ä¸æ”¯æŒ&lt;/p&gt;\n&lt;h2 id=\&#34;é€’å½’å‡½æ•°\&#34;&gt;é€’å½’å‡½æ•°&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;ä¸æ”¯æŒã€‚ä¸ç®¡æœ€åé€’å½’æ¬¡æ•°æ˜¯ä¸æ˜¯æœ‰é™çš„ã€‚&lt;/li&gt;\n&lt;li&gt;å¯ä»¥ä½¿ç”¨C++æ¨¡æ¿æ¥æ„é€ &lt;strong&gt;å¯ä»¥ç”¨æ¥ç»¼åˆçš„å°¾é€’å½’&lt;/strong&gt;ï¼Œå› ä¸ºC++ä¸­æ”¯æŒéç±»å‹æ¨¡æ¿å‚æ•°ï¼ˆNontype Template Parametersï¼‰ï¼Œç±»ä¼¼Rustä¸­çš„constæ³›å‹ï¼Œè¿™å„¿çš„æ¨¡æ¿å‚æ•°ä¸º&lt;code&gt;data_t&lt;/code&gt;ç±»å‹çš„ä¸€ä¸ªå€¼ Nã€‚&lt;a href=\&#34;https://github.com/Xilinx/HLS-Tiny-Tutorials/tree/master/algorithm_template_fir_filter\&#34;&gt;ä¾‹å­å¦‚ä¸‹&lt;/a&gt;ï¼š&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;// Tail recursive call\ntemplate&amp;lt;data_t N&amp;gt; \n\tstruct fibon_s {\n    template&amp;lt;typename T&amp;gt;\n    static T fibon_f(T a, T b) {\n\t\treturn fibon_s&amp;lt;N-1&amp;gt;::fibon_f(b, (a+b));\n  }\n};\n\n// Termination condition\ntemplate&amp;lt;&amp;gt; struct fibon_s&amp;lt;1&amp;gt; {\n  template&amp;lt;typename T&amp;gt;\n  static T fibon_f(T a, T b) {\n    return b;\n  }\n};\n\nvoid cpp_template(data_t a, data_t b, data_t &amp;amp;dout){\n  dout = fibon_s&amp;lt;FIB_N&amp;gt;::fibon_f(a,b);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;stl\&#34;&gt;STL&lt;/h2&gt;\n&lt;p&gt;æœ‰åŠ¨æ€å†…å­˜å’Œé€’å½’ï¼Œä¸èƒ½ä½¿ç”¨ã€‚&lt;/p&gt;\n&lt;h1 id=\&#34;å‡½æ•°\&#34;&gt;å‡½æ•°&lt;/h1&gt;\n&lt;p&gt;é¡¶å±‚å‡½æ•°ä¸èƒ½æ˜¯é™æ€çš„ã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;å†…è”å‡½æ•°\&#34;&gt;å†…è”å‡½æ•°&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;ç»¼åˆæ—¶å€™èŠ±è´¹æ—¶é—´ã€å†…å­˜è¾ƒå¤šï¼Œä½†æ•ˆæœæ›´å¥½ã€‚&lt;/li&gt;\n&lt;li&gt;æ²¡æœ‰ç‹¬ç«‹çš„RTLæ–‡ä»¶å’ŒæŠ¥å‘Šäº†ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;ä»£ç é£æ ¼çš„å½±å“\&#34;&gt;ä»£ç é£æ ¼çš„å½±å“&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;å½±å“å‡½æ•°å‚æ•°å’Œæ¥å£&lt;/li&gt;\n&lt;li&gt;ç›´æ¥ç”¨å‡½æ•°æ¥å£çš„è¾“å…¥é‡æ¥é©±åŠ¨å˜é‡æ—¶å€™ï¼Œç¨‹åºå°±ä¸ä¼šä½¿ç”¨æŸäº›ä¼˜åŒ–æ‰‹æ®µã€‚ï¼ˆå¦‚è¾“å…¥é‡æ˜¯å¾ªç¯ç´¢å¼•çš„ä¸Šé™ï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;ap_int.h&amp;quot;\n\nap_int&amp;lt;24&amp;gt; foo(int x, int y) {  \n int tmp;\n\n tmp = (x * y);\n return tmp\n} \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä¸Šè¿°ä»£ç è¿™ä¼šå¯¼è‡´ä¸€ä¸ª32-bitä¹˜æ³•å™¨ï¼Œè¾“å‡ºå†è¢«æˆªå–ã€‚&lt;br&gt;\nä¸‹é¢è¿™ä¸ªä»£ç ç›´æ¥äº§ç”Ÿä¸€ä¸ª24-bitä¹˜æ³•å™¨ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;ap_int.h&amp;quot;\ntypedef ap_int&amp;lt;12&amp;gt; din_t;\ntypedef ap_int&amp;lt;24&amp;gt; dout_t;\n\ndout_t func_sized(din_t x, din_t y) {  \n int tmp;\n\n tmp = (x * y);\n return tmp\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ccå†…ç½®å‡½æ•°\&#34;&gt;C/C++å†…ç½®å‡½æ•°&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;åªæ”¯æŒä»¥ä¸‹ä¸¤ä¸ª&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;__builtin_clz(unsigned int x)&lt;/code&gt;: Returns the number of leading 0-bits in x, starting at the most significant bit position. If x is 0, the result is undefined.&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;__builtin_ctz(unsigned int x)&lt;/code&gt;: Returns the number of trailing 0-bits in x, starting at the least significant bit position. If x is 0, the result is undefined.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;å¾ªç¯\&#34;&gt;å¾ªç¯&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;æ”¯æŒå¾—å¾ˆå¥½ã€‚å¯ä»¥åˆ‡æµæ°´çº¿ï¼Œå±•å¼€ã€éƒ¨åˆ†å±•å¼€ã€åˆå¹¶å’Œæ‰å¹³åŒ–&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¸è¦ä½¿ç”¨å…¨å±€å˜é‡ä½œä¸ºå¾ªç¯å˜é‡&lt;/strong&gt;ï¼Œå¦åˆ™ä¼šé˜»ç¢ä»£ç ä¼˜åŒ–&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;å¾ªç¯å˜é‡èŒƒå›´\&#34;&gt;å¾ªç¯å˜é‡èŒƒå›´&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;å¾ªç¯å˜é‡çš„ä¸Šé™å¦‚æœæ˜¯å˜é‡ï¼Œå°±éš¾ä»¥åœ¨ç»¼åˆæ—¶å€™ä¼˜åŒ–ã€‚&lt;/li&gt;\n&lt;li&gt;å¾ªç¯å˜é‡çš„ä¸Šé™å¦‚æœæ˜¯å˜é‡ï¼Œå¾ªç¯çš„latencyæ— æ³•ç¡®å®šã€‚&lt;/li&gt;\n&lt;li&gt;å¾ªç¯å˜é‡çš„ä¸Šé™å¦‚æœæ˜¯å˜é‡ï¼Œè®¾è®¡çš„æ€§èƒ½æœªçŸ¥ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;ap_int.h&amp;quot;\n#define N 32\n\ntypedef ap_int&amp;lt;8&amp;gt; din_t;\ntypedef ap_int&amp;lt;13&amp;gt; dout_t;\ntypedef ap_uint&amp;lt;5&amp;gt; dsel_t;\n\ndout_t code028(din_t A[N], dsel_t width) {  \n\n dout_t out_accum=0;\n dsel_t x;\n\n LOOP_X:for (x=0;x&amp;lt;width; x++) {\n out_accum += A[x];\n }\n\n return out_accum;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä¸ºäº†å…‹æœæ— æ³•åˆ†ææ€§èƒ½çš„ç¼ºç‚¹ï¼Œä¸€èˆ¬æ˜¯åŠ ä¸Š&lt;br&gt;\n&lt;code&gt;#pragma HLS loop_tripcount min=&amp;lt;int&amp;gt; max=&amp;lt;int&amp;gt; avg=&amp;lt;int&amp;gt;&lt;/code&gt;&lt;br&gt;\næˆ–è€…æ˜¯ä½¿ç”¨æ–­è¨€&lt;code&gt;assert&lt;/code&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;void foo (num_samples, ...) {\n  int i;\n  ...\n  loop_1: for(i=0;i&amp;lt; num_samples;i++) {\n   #pragma HLS loop_tripcount min=12 max=16\n   ...\n    result = a + b;\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šè¯¥ç¼–è¯‘é€‰é¡¹åªç”¨äºåˆ†æï¼Œä¸ä¼šç”¨äºç»¼åˆã€‚&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;å¯¹äºå…·æœ‰å¯å˜è¾¹ç•Œçš„å¾ªç¯çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šåœ¨å¾ªç¯ä¸­æœ‰æ¡ä»¶åœ°æ‰§è¡Œï¼Œå¹¶ä¸”ä»¤å¾ªç¯è¿­ä»£çš„æ¬¡æ•°ä¸ºå›ºå®šå€¼ã€‚&lt;/strong&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;ap_int.h&amp;quot;\n#define N 32\n\ntypedef ap_int&amp;lt;8&amp;gt; din_t;\ntypedef ap_int&amp;lt;13&amp;gt; dout_t;\ntypedef ap_uint&amp;lt;5&amp;gt; dsel_t;\n\ndout_t loop_max_bounds(din_t A[N], dsel_t width) {  \n\n dout_t out_accum=0;\n dsel_t x;\n\n LOOP_X:for (x=0; x&amp;lt;N; x++) {\n if (x&amp;lt;width) {\n  out_accum += A[x];\n }\n }\n\n return out_accum;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;å°†å¾ªç¯æµæ°´çº¿åŒ–\&#34;&gt;å°†å¾ªç¯æµæ°´çº¿åŒ–&lt;/h2&gt;\n&lt;p&gt;é€šå¸¸é€šè¿‡æµæ°´çº¿æœ€å†…å±‚çš„å¾ªç¯æ¥æ‰¾åˆ°é¢ç§¯å’Œæ€§èƒ½ä¹‹é—´çš„æœ€ä½³å¹³è¡¡ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;loop_pipeline.h&amp;quot;\n\ndout_t loop_pipeline(din_t A[N]) {  \n\n int i,j;\n static dout_t acc;\n\n LOOP_I:for(i=0; i &amp;lt; 20; i++){\n LOOP_J: for(j=0; j &amp;lt; 20; j++){\n acc += A[i] * j;\n }\n }\n\n return acc;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;Pipeline &lt;code&gt;LOOP_J&lt;/code&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;åªéœ€è°ƒåº¦ä¸€ä¸ªä¹˜æ³•å™¨æ“ä½œå’Œä¸€ä¸ªæ•°ç»„è®¿é—®&lt;/li&gt;\n&lt;li&gt;Latency is approximately 400 cycles (20x20) and requires less than 100 LUTs and registers (the I/O control and FSM are always present).&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Pipeline &lt;code&gt;LOOP_I&lt;/code&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;å†…éƒ¨å¾ªç¯å±•å¼€20æ¬¡ã€‚&lt;/li&gt;\n&lt;li&gt;éœ€è°ƒåº¦20ä¸ªä¹˜æ³•å™¨æ“ä½œå’Œ20ä¸ªæ•°ç»„è®¿é—®&lt;/li&gt;\n&lt;li&gt;Latency is approximately 20 cycles but requires a few hundred LUTs and registers. About 20 times the logic as first option, minus any logic optimizations that can be made.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Pipeline &lt;code&gt;function loop_pipeline&lt;/code&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;éœ€è°ƒåº¦400ä¸ªä¹˜æ³•å™¨æ“ä½œå’Œ400ä¸ªæ•°ç»„è®¿é—®&lt;/li&gt;\n&lt;li&gt;Latency is approximately 10 (20 dual-port accesses) but requires thousands of LUTs and registers (about 400 times the logic of the first option minus any optimizations that can be made)&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;ä¸å®Œç¾çš„å¾ªç¯åµŒå¥—\&#34;&gt;ä¸å®Œç¾çš„å¾ªç¯åµŒå¥—&lt;/h3&gt;\n&lt;p&gt;ä¸å®Œç¾çš„å¾ªç¯åµŒå¥—ï¼Œæˆ–è€…æ— æ³•å°†å¾ªç¯åµŒå¥—å±•å¼€ï¼Œä¼šå¯¼è‡´è¿›å…¥å’Œé€€å‡ºå¾ªç¯çš„é¢å¤–æ—¶é’Ÿå‘¨æœŸã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;å¾ªç¯å¹¶è¡Œ\&#34;&gt;å¾ªç¯å¹¶è¡Œ&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;HLSä¼šä½¿å¾—é€»è¾‘å’Œå‡½æ•°å¹¶è¡Œï¼Œä½†æ˜¯å¹¶ä¸ä¼šè°ƒåº¦å¾ªç¯æ¥å¹¶è¡Œã€‚&lt;/li&gt;\n&lt;li&gt;ä¾‹å­ä¸­SUM_Xå’ŒSUM_Yä¸ä¼šå¹¶è¡Œè°ƒåº¦ï¼Œè€Œæ˜¯é¡ºåºçš„ã€‚ï¼ˆå› ä¸ºä¸¤ä¸ªå¾ªç¯å˜é‡æœ‰ä¸åŒçš„ä¸Šé™ï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;loop_sequential.h&amp;quot;\n\nvoid loop_sequential(din_t A[N], din_t B[N], dout_t X[N], dout_t Y[N], \n dsel_t xlimit, dsel_t ylimit) {  \n\n dout_t X_accum=0;\n dout_t Y_accum=0;\n int i,j;\n\n SUM_X:for (i=0;i&amp;lt;xlimit; i++) {\n X_accum += A[i];\n X[i] = X_accum;\n}\n\n SUM_Y:for (i=0;i&amp;lt;ylimit; i++) {\n Y_accum += B[i];\n Y[i] = Y_accum;\n }\n} \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æŠŠä¸¤ä¸ªå¾ªç¯è£…åœ¨functioné‡Œé¢å°±å¯ä»¥å¹¶è¡Œäº†&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;loop_functions.h&amp;quot;\n\nvoid sub_func(din_t I[N], dout_t O[N], dsel_t limit) {\n int i;\n dout_t accum=0;\n  \n SUM:for (i=0;i&amp;lt;limit; i++) {\n accum += I[i];\n O[i] = accum;\n }\n\n}\n\nvoid loop_functions(din_t A[N], din_t B[N], dout_t X[N], dout_t Y[N], \n dsel_t xlimit, dsel_t ylimit) {\n\n sub_func(A,X,xlimit);\n sub_func(B,Y,ylimit);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;è¿™æ˜¯åœ¨å‡½æ•°ä¸­æ•è·å¾ªç¯ä»¥åˆ©ç”¨å¹¶è¡Œæ€§çš„åŸåˆ™&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;å¾ªç¯ä¾èµ–\&#34;&gt;å¾ªç¯ä¾èµ–&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;ä¸€æ¬¡å¾ªç¯å¼€å§‹å¯èƒ½ä¼šä¾èµ–ä¸Šä¸€æ¬¡å¾ªç¯çš„ç»“æŸã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt; Minim_Loop: while (a != b) { \n if (a &amp;gt; b) \n a -= b; \n else \n b -= a;\n }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;è§£å†³æ–¹æ¡ˆæ˜¯&lt;strong&gt;å°½é‡ç¡®ä¿åˆå§‹æ“ä½œå°½æ—©æ‰§è¡Œ&lt;/strong&gt;(åº”è¯¥å°±æ˜¯å¯¹å¾ªç¯å˜é‡åšä¿®æ”¹ç­‰)&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;åœ¨cç±»ä¸­ä¸ä¼šå±•å¼€å¾ªç¯\&#34;&gt;åœ¨c++ç±»ä¸­ä¸ä¼šå±•å¼€å¾ªç¯&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;åº”å°å¿ƒç¡®ä¿å¾ªç¯å½’çº³å˜é‡ä¸æ˜¯ç±»çš„æ•°æ®æˆå‘˜ï¼Œå› ä¸ºè¿™ä¼šé˜²æ­¢å¾ªç¯è¢«å±•å¼€ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;template &amp;lt;typename T0, typename T1, typename T2, typename T3, int N&amp;gt;\nclass foo_class\n{\nprivate:\n    pe_mac&amp;lt;T0, T1, T2&amp;gt; mac;\n\npublic:\n    T0 areg;\n    T0 breg;\n    T2 mreg;\n    T1 preg;\n    T0 shift[N];\n    int k; // Class Member\n    T0 shift_output;\n    void exec(T1 *pcout, T0 *dataOut, T1 pcin, T3 coeff, T0 data, int col)\n    {\n    Function_label0:;\n#pragma HLS inline off\n    SRL:\n        for (k = N - 1; k &amp;gt;= 0; --k)\n        {\n#pragma HLS unroll // Loop will fail UNROLL\n            if (k &amp;gt; 0)\n                shift[k] = shift[k - 1];\n            else\n                shift[k] = data;\n        }\n\n        *dataOut = shift_output;\n        shift_output = shift[N - 1];\n    }\n\n    *pcout = mac.exec1(shift[4 * col], coeff, pcin);\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;æ•°ç»„\&#34;&gt;æ•°ç»„&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;ä»¿çœŸæ—¶å€™å†…å­˜ä¸å¤Ÿæ€ä¹ˆåŠï¼Ÿä¸€ä¸ªå¦¥åçš„æ–¹æ³•æ˜¯åŠ¨æ€å†…å­˜ã€‚&lt;/li&gt;\n&lt;li&gt;å®šç‚¹æ•°å ç”¨å†…å­˜ &amp;gt;  arbitrary precision type &amp;gt; Cè‡ªå¸¦ç±»å‹&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;ap_int.h&amp;quot;\n  \n  int i, acc; \n#ifdef __SYNTHESIS__\n  // Use an arbitrary precision type &amp;amp; array for synthesis\n  ap_int&amp;lt;32&amp;gt;  la0[10000000], la1[10000000]; \n#else \n  // Use an arbitrary precision type &amp;amp; dynamic memory for simulation\n ap_int&amp;lt;int32&amp;gt; *la0 = malloc(10000000  * sizeof(ap_int&amp;lt;32&amp;gt;));\n ap_int&amp;lt;int32&amp;gt; *la1 = malloc(10000000  * sizeof(ap_int&amp;lt;32&amp;gt;));\n#endif\n  for (i=0 ; i &amp;lt; 10000000; i++) { \n      acc = acc + la0[i] + la1[i]; \n  } \n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;æ•°ç»„é•¿åº¦å°äº1024&lt;/strong&gt;ï¼šå®ä¾‹åŒ–ä¸ºFIFO&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ•°ç»„é•¿åº¦å¤§äº1024&lt;/strong&gt;ï¼š ä¿å­˜åœ¨block RAMæˆ–LUTRAMæˆ–UltraRAM&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;æ•°ç»„è®¿é—®å’Œæ€§èƒ½\&#34;&gt;æ•°ç»„è®¿é—®å’Œæ€§èƒ½&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;å¯¹æ•°ç»„è®¿é—®æ¬¡æ•°è¶Šå¤šï¼Œè¶Šä¼šé™åˆ¶æ€§èƒ½ã€‚ï¼ˆå°¤å…¶æ˜¯åœ¨ä¸€ä¸ªå¾ªç¯ä¸­çš„æƒ…å†µï¼‰&lt;/li&gt;\n&lt;li&gt;æ‰€ä»¥æœ‰å¦‚ä¸‹çš„æ›´æ”¹ç­–ç•¥ï¼š&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;array_mem_bottleneck.h&amp;quot;\n \ndout_t array_mem_bottleneck(din_t mem[N]) {  \n\n dout_t sum=0;\n int i;\n\n SUM_LOOP:for(i=2;i&amp;lt;N;++i)\n   sum += mem[i] + mem[i-1] + mem[i-2];\n    \n return sum;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å˜æˆ&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;array_mem_perform.h&amp;quot;\n \ndout_t array_mem_perform(din_t mem[N]) {  \n\n din_t tmp0, tmp1, tmp2;\n dout_t sum=0;\n int i;\n\n tmp0 = mem[0];\n tmp1 = mem[1];\n SUM_LOOP:for (i = 2; i &amp;lt; N; i++) { \n tmp2 = mem[i];\n sum += tmp2 + tmp1 + tmp0;\n tmp0 = tmp1;\n tmp1 = tmp2;\n } \n    \n return sum;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;fifoè®¿é—®\&#34;&gt;FIFOè®¿é—®&lt;/h3&gt;\n&lt;p&gt;å› ä¸ºæ˜¯å…ˆå…¥å…ˆå‡ºï¼Œæ‰€ä»¥å¿…é¡»è¦ä»0å¼€å§‹é¡ºåºè®¿é—®ã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;æ¥å£ä¸Šçš„æ•°ç»„topå‡½æ•°å‚æ•°\&#34;&gt;æ¥å£ä¸Šçš„æ•°ç»„ï¼ˆtopå‡½æ•°å‚æ•°ï¼‰&lt;/h2&gt;\n&lt;p&gt;HLSä¼šé»˜è®¤ä¼šå°†æ¥å£ä¸Šæ•°ç»„è®¤ä¸ºæ˜¯å†…å­˜ã€‚HLSæœ‰ä¸¤ç§å‡è®¾çš„å®ç°æ–¹å¼&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;off-chipçš„å†…å­˜&lt;/strong&gt;ï¼š&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ ‡å‡†çš„block RAMï¼Œå»¶è¿Ÿåªæœ‰1clock&lt;/strong&gt;ï¼š æ•°æ®ä¼šåœ¨åœ°å€ç»™å®šåä¸€ä¸ªå‘¨æœŸå‡†å¤‡å¥½ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;æ‰€ä»¥éœ€è¦ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;æŒ‡å®šæ˜¯RAMè¿˜æ˜¯FIFOçš„æ¥å£&lt;/li&gt;\n&lt;li&gt;æŒ‡å®šRAMæ˜¯å•ç«¯å£è¿˜æ˜¯åŒç«¯å£çš„RAMï¼Œé¢„ç¼–è¯‘é€‰é¡¹ä¸­çš„&lt;code&gt;storage_type&lt;/code&gt;ï¼Œè¯­æ³•æ˜¯&lt;a href=\&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/hls_pragmas.html#jit1504034365862__ad411155\&#34;&gt;#pragma HLS interface&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;æŒ‡å®šRAMå»¶æ—¶ï¼Œ &lt;code&gt;latency&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;ARRAY_PARTITION, ARRAY_RESHAPE ä¸¤ä¸ªä¼˜åŒ–è¾“å…¥çš„å‘½ä»¤ã€‚è¯­æ³•æ˜¯&lt;a href=\&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/hls_pragmas.html?#ariaid-title4\&#34;&gt;#pragma HLS array_partition&lt;/a&gt;ï¼Œ ç›¸å½“äº&lt;strong&gt;ç”¨å¯„å­˜å™¨ä»£æ›¿RAM&lt;/strong&gt;ï¼Œæˆ–è€…ç”¨æ›´å°çš„RAMæ¥ä»£æ›¿å¤§çš„RAMã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;strong&gt;é»˜è®¤æƒ…å†µä¸‹&lt;/strong&gt;ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;é»˜è®¤æ˜¯å•ç«¯å£çš„RAMã€‚&lt;/li&gt;\n&lt;li&gt;å¦‚æœinitiation interval or latencyå¯ä»¥è¢«å‡å°‘ï¼Œåˆ™ä½¿ç”¨åŒç«¯å£çš„RAM&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;æ•°ç»„åˆå§‹åŒ–\&#34;&gt;æ•°ç»„åˆå§‹åŒ–&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;å»ºè®®ä½¿ç”¨&lt;code&gt;static&lt;/code&gt;å…³é”®å­—æ¥å»ºç«‹æ•°ç»„ï¼Œä¿è¯HLSå°†å…¶å˜æˆå†…å­˜ã€‚&lt;/li&gt;\n&lt;li&gt;ç¡®ä¿åˆå§‹åŒ–å¤§å†…å­˜ä¸ä¼šé€ æˆæ“ä½œå¼€é”€ã€‚ä¸ç”¨staticä¼šåœ¨åˆå§‹åŒ–æ—¶å€™ï¼Œå†™å…¥è¿™äº›å€¼ï¼Œæœ‰ä¸€å®šæ—¶é—´å¼€é”€ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;å®ä¾‹åŒ–ä¸€ä¸ªrom\&#34;&gt;å®ä¾‹åŒ–ä¸€ä¸ªROM&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;å»ºè®®ä½¿ç”¨&lt;code&gt;const&lt;/code&gt;æ¥åšä¸€ä¸ªåªè¯»çš„ROMï¼Œå¦‚æœä¸åŠ ï¼Œä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚ç»¼åˆè¿‡ç¨‹è‡ªå·±ä¼šè¿›è¡Œä¼˜åŒ–ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;æ•°æ®ç±»å‹\&#34;&gt;æ•°æ®ç±»å‹&lt;/h1&gt;\n&lt;h2 id=\&#34;cc-ç±»å‹\&#34;&gt;C/C++ ç±»å‹&lt;/h2&gt;\n&lt;p&gt;ç•¥&lt;/p&gt;\n&lt;h2 id=\&#34;arbitrary-precision-ap-data-types-ä»»æ„ç²¾åº¦æ•°æ®ç±»å‹\&#34;&gt;Arbitrary Precision (AP) Data Types ä»»æ„ç²¾åº¦æ•°æ®ç±»å‹&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Cè¯­è¨€å¯ä»¥è¿™æ ·å†™&lt;/strong&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;types.h&amp;quot;\n\ntypedef int6 dinA_t;\ntypedef int12 dinB_t;\ntypedef int22 dinC_t;\ntypedef int33 dinD_t;\ntypedef int18 dout1_t;\ntypedef uint13 dout2_t;\ntypedef int22 dout3_t;\ntypedef int6 dout4_t;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;C++æ¨¡ç‰ˆè¿™æ ·å†™&lt;/strong&gt;ï¼Œè¿˜æœ‰ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥å®šä¹‰è¶…å¤§çš„æ•°&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;ap_int.h&amp;quot;\nvoid foo_top (â€¦) {\n  \n ap_int&amp;lt;9&amp;gt;  var1;           // 9-bit\n ap_uint&amp;lt;10&amp;gt;  var2;         // 10-bit unsigned\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å®šç‚¹æ•°-arbitrary-precision-fixed-point-data-types\&#34;&gt;å®šç‚¹æ•° Arbitrary Precision Fixed-Point Data Types&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;lt;ap_fixed.h&amp;gt;\n...\nap_fixed&amp;lt;18,6,AP_RND &amp;gt; my_type;\n...\nap_fixed&amp;lt;2, 0&amp;gt; a = -0.5;    // a can be -0.5,\nap_ufixed&amp;lt;1, 0&amp;gt; x = 0.5;    // 1-bit representation. x can be 0 or 0.5\nap_ufixed&amp;lt;1, -1&amp;gt; y = 0.25;  // 1-bit representation. y can be 0 or 0.25\nconst ap_fixed&amp;lt;1, -7&amp;gt; z = 1.0/256;  // 1-bit representation for z = 2^-8\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å››ä¸ªæ³›å‹å‚æ•°åˆ†åˆ«ä¸ºï¼Œè§&lt;a href=\&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/use_arbitrary_precision_data_type.html#guo1585572335601\&#34;&gt;Fixed-Point Identifier Summary&lt;/a&gt;ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;æ€»é•¿åº¦&lt;/li&gt;\n&lt;li&gt;æ•´æ•°ä½æ•°ï¼ˆå¯ä»¥ä¸ºè´Ÿæ•°ï¼Œè§ä¾‹å­ï¼‰&lt;/li&gt;\n&lt;li&gt;é‡åŒ–æ¨¡å¼&lt;/li&gt;\n&lt;li&gt;æº¢å‡ºé¥±å’Œä½æ•°é‡&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;å¤åˆæ•°æ®ç±»å‹\&#34;&gt;å¤åˆæ•°æ®ç±»å‹&lt;/h2&gt;\n&lt;h3 id=\&#34;struct\&#34;&gt;&lt;code&gt;struct&lt;/code&gt;&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;é»˜è®¤æˆå‘˜æ˜¯åˆ†è§£çš„ã€‚&lt;strong&gt;ç»“æ„ä½“çš„æ•°ç»„å®ç°ä¸ºå¤šä¸ªæ•°ç»„&lt;/strong&gt;ï¼Œç»“æ„ä½“çš„æ¯ä¸ªæˆå‘˜éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„æ•°ç»„ã€‚&lt;/li&gt;\n&lt;li&gt;åˆ©ç”¨pragmaæŒ‡ä»¤æ§åˆ¶æ˜¯å¦åˆ†è§£ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;enum\&#34;&gt;&lt;code&gt;enum&lt;/code&gt;&lt;/h3&gt;\n&lt;p&gt;ç•¥&lt;/p&gt;\n&lt;h3 id=\&#34;unions\&#34;&gt;&lt;code&gt;unions&lt;/code&gt;&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;HLSç»¼åˆå¹¶ä¸ä¿è¯ä½¿ç”¨ç›¸åŒçš„å†…å­˜æˆ–è€…å¯„å­˜å™¨&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;ç±»å‹é™å®šç¬¦\&#34;&gt;ç±»å‹é™å®šç¬¦&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;volatile&lt;/code&gt;ï¼š\n&lt;ul&gt;\n&lt;li&gt;ç»¼åˆä¸ä¼šè¿›è¡Œä¼˜åŒ–&lt;/li&gt;\n&lt;li&gt;Arbitrary precision types do not support the volatile qualifierï¼ˆè®¡ç®—æ—¶å€™ï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;static&lt;/code&gt;ï¼š\n&lt;ul&gt;\n&lt;li&gt;RTLç­‰ä»·æ˜¯å¯„å­˜å™¨ã€è§¦å‘å™¨å’Œå†…å­˜ã€‚&lt;/li&gt;\n&lt;li&gt;config_rtl éœ€è¦é…ç½®ï¼Œä¸ç„¶é»˜è®¤å¤ä½ä¸ä¼šåˆå§‹åŒ–ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;const&lt;/code&gt;ï¼š\n&lt;ul&gt;\n&lt;li&gt;å¸¸é‡æˆ–è€…ROM&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;å…¨å±€å˜é‡\&#34;&gt;å…¨å±€å˜é‡&lt;/h2&gt;\n&lt;p&gt;è‡ªç”±ä½¿ç”¨ï¼Œä½†æ˜¯åªå­˜åœ¨è¯¥ipæ ¸å†…éƒ¨ã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;æŒ‡é’ˆ\&#34;&gt;æŒ‡é’ˆ&lt;/h2&gt;\n&lt;p&gt;å¯ä»¥ç»¼åˆï¼Œä½†å°½é‡é¿å…ä½¿ç”¨ã€‚å°¤å…¶æ˜¯ä»¥ä¸‹æƒ…å†µï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;åŒä¸€ä¸ªå‡½æ•°ä¸­ï¼Œä¸€ä¸ªæŒ‡é’ˆè¢«è¯»å†™å¤šæ¬¡&lt;/li&gt;\n&lt;li&gt;æŒ‡é’ˆç±»å‹è½¬æ¢ä»…é™C/C++æ ‡å‡†ç±»å‹&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;æ¥å£å¤„ä½¿ç”¨æŒ‡é’ˆtopå‡½æ•°çš„å‚æ•°ä¸­\&#34;&gt;æ¥å£å¤„ä½¿ç”¨æŒ‡é’ˆï¼ˆtopå‡½æ•°çš„å‚æ•°ä¸­ï¼‰&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;åŸºæœ¬æŒ‡é’ˆï¼š\n&lt;ul&gt;\n&lt;li&gt;æŒ‡é’ˆå¯ä»¥åˆæˆä¸ºä¸€ä¸ªç®€å•çš„&lt;strong&gt;çº¿æ¥å£&lt;/strong&gt;æˆ–ä½¿ç”¨æ¡æ‰‹çš„æ¥å£åè®®ã€‚&lt;/li&gt;\n&lt;li&gt;è¦åˆæˆä¸€ä¸ªFIFOæ¥å£ï¼ŒæŒ‡é’ˆå¿…é¡»æ˜¯åªè¯»æˆ–åªå†™çš„ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;æŒ‡é’ˆè¿ç®—ï¼š\n&lt;ul&gt;\n&lt;li&gt;ä¸èƒ½å®ç°ï¼Œä¸èƒ½å®ç°æ— åºè®¿é—®ã€‚&lt;/li&gt;\n&lt;li&gt;éœ€è¦å˜æˆæ•°ç»„ï¼Œç”¨RAMå®ç°ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;æµæ•°æ®\n&lt;ul&gt;\n&lt;li&gt;C++ ç¼–è¯‘å™¨å¯èƒ½ä¼šä¼˜åŒ–æŒ‡é’ˆçš„è®¿é—®ï¼Œæ‰€ä»¥éœ€è¦åŠ volatileã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;quot;pointer_stream_good.h&amp;quot;\n\nvoid pointer_stream_good ( volatile dout_t *d_o,  volatile din_t *d_i) {\n din_t acc = 0;\n\n acc += *d_i;\n acc += *(d_i+1);\n *d_o = acc;\n acc += *(d_i+2);\n acc += *(d_i+3);\n *(d_o+1) = acc;\n} \n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;vectorç±»å‹\&#34;&gt;Vectorç±»å‹&lt;/h2&gt;\n&lt;h3 id=\&#34;hlsçš„vectorç±»å‹æ˜¯ä¸ºäº†simdæ“ä½œ\&#34;&gt;HLSçš„Vectorç±»å‹æ˜¯ä¸ºäº†SIMDæ“ä½œ&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;single-instruction multiple-data (SIMD)ï¼š å•æŒ‡ä»¤ï¼Œå¤šæ•°æ®ã€‚&lt;/li&gt;\n&lt;li&gt;Vitis HLSæä¾›çš„ä¸€ä¸ªæ¨¡ç‰ˆç±»å‹&lt;code&gt;hls::vector&amp;lt;T, N&amp;gt;&lt;/code&gt;: ä¸€ä¸ªæœ‰Nä¸ªTç±»å‹çš„å…ƒç´ ï¼ŒTå¿…é¡»é‡è½½äº†æ•°å­¦è¿ç®—ã€‚&lt;/li&gt;\n&lt;li&gt;æœ€ä½³æ€§èƒ½æ˜¯åœ¨&lt;strong&gt;Tçš„ä½å®½&lt;/strong&gt;å’Œ&lt;strong&gt;Nçš„å€¼&lt;/strong&gt;å‡ä¸º2çš„å¹‚æ—¶ã€‚&lt;/li&gt;\n&lt;li&gt;åœ¨&lt;code&gt;hls::vector&lt;/code&gt;ä¸Šçš„è¿ç®—æ“ä½œéƒ½ä¼šè¢«å¹¶è¡ŒåŒ–ï¼Œæ‰€ä»¥çŸ©é˜µè¿ç®—ä¸€èˆ¬ä½¿ç”¨è¿™ä¸ªã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;#include &amp;lt;hls_vector.h&amp;gt;\nhls::vector&amp;lt;T,N&amp;gt;  aVec;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;vector-å†…å­˜å¸ƒå±€\&#34;&gt;Vector å†…å­˜å¸ƒå±€&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;Vctorå‚¨å­˜æ˜¯å¯¹é½åˆ°2çš„næ¬¡æ–¹çš„ã€‚æ‰€ä»¥æ€§èƒ½æœ€å¥½çš„æ—¶å€™æ˜¯å¤§å°å’Œä½å®½éƒ½ä¸º2çš„å¹‚çš„æ—¶å€™ã€‚&lt;/li&gt;\n&lt;li&gt;å®ç°æ–¹å¼å¦‚ä¸‹ï¼š&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;constexpr size_t gp2(size_t N)\n{\n    return (N &amp;gt; 0 &amp;amp;&amp;amp; N % 2 == 0) ? 2 * gp2(N / 2) : 1;\n}\n \ntemplate&amp;lt;typename T, size_t N&amp;gt; class alignas(gp2(sizeof(T) * N)) vector\n{\n    std::array&amp;lt;T, N&amp;gt; data;\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;cç±»å’Œæ¨¡ç‰ˆ\&#34;&gt;C++ç±»å’Œæ¨¡ç‰ˆ&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;ç±»æ˜¯å®Œå…¨æ”¯æŒçš„ã€‚&lt;/li&gt;\n&lt;li&gt;ä¸å»ºè®®åœ¨ç±»ä¸­ä½¿ç”¨å…¨å±€å˜é‡ï¼Œä¼šé˜»ç¢ä¼˜åŒ–&lt;/li&gt;\n&lt;li&gt;æ¨¡ç‰ˆæ˜¯æ”¯æŒçš„ã€‚ä½†ä¸èƒ½ä½œä¸ºé¡¶å±‚å‡½æ•°ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;æ–­è¨€\&#34;&gt;æ–­è¨€&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;æ–­è¨€å¯ä»¥ç”¨åœ¨ç»¼åˆä¸­ï¼Œæä¾›èŒƒå›´çš„ä¿¡æ¯ã€‚å¦‚å¾ªç¯ä¸Šé™ç­‰ã€‚ï¼ˆä¸åƒtripcount åªèƒ½ç”¨äºåˆ†æï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;é«˜æ€§èƒ½hls\&#34;&gt;é«˜æ€§èƒ½HLS&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;æ˜¯æœ€å¤§ç¨‹åº¦åœ°å‡å°‘å¯¹é¡¶å±‚å‡½æ•°å‚æ•°çš„è®¿é—®ã€‚&lt;/li&gt;\n&lt;li&gt;åœ¨é˜µåˆ—ä¸­è®¾ç½®é»˜è®¤å€¼ä¼šèŠ±è´¹æ—¶é’Ÿå‘¨æœŸå’Œæ€§èƒ½ã€‚&lt;/li&gt;\n&lt;li&gt;å¤šæ¬¡è¯»å–å’Œé‡æ–°è¯»å–æ•°æ®ä¼šæ¶ˆè€—æ—¶é’Ÿå‘¨æœŸå’Œæ€§èƒ½ã€‚&lt;/li&gt;\n&lt;li&gt;ä»¥ä»»æ„æˆ–éšæœºè®¿é—®æ–¹å¼è®¿é—®æ•°æ®è¦æ±‚å°†æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°æ•°ç»„ä¸­ï¼Œæµªè´¹èµ„æºã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;ç¡®ä¿æ•°æ®çš„è¿ç»­æµå’Œæ•°æ®é‡ç”¨\&#34;&gt;ç¡®ä¿æ•°æ®çš„è¿ç»­æµå’Œæ•°æ®é‡ç”¨&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;å°†æ•°æ®ä»CPUæˆ–ç³»ç»Ÿå†…å­˜ä¼ è¾“åˆ°FPGAï¼Œåˆ™é€šå¸¸ä¼šä»¥&lt;strong&gt;æµä¼ è¾“æ–¹å¼&lt;/strong&gt;è¿›è¡Œä¼ è¾“ã€‚ä»FPGAä¼ è¾“å›ç³»ç»Ÿçš„æ•°æ®ä¹Ÿåº”ä»¥è¿™ç§æ–¹å¼æ‰§è¡Œã€‚&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;hls::stream&lt;/code&gt; , é¡ºåºè®¿é—®ï¼Œè¡¨ç°ä¸ºä¸€ä¸ªæ— é™æ·±åº¦çš„FIFOã€‚&lt;/li&gt;\n&lt;li&gt;åœ¨CPUä½“ç³»ç»“æ„ä¸­ï¼Œé€šå¸¸é¿å…æœ‰æ¡ä»¶æˆ–åˆ†æ”¯æ“ä½œã€‚å½“ç¨‹åºéœ€è¦åˆ†æ”¯æ—¶ï¼Œå®ƒå°†ä¸¢å¤±å­˜å‚¨åœ¨CPUæå–ç®¡çº¿ä¸­çš„æ‰€æœ‰æŒ‡ä»¤ã€‚&lt;strong&gt;åœ¨FPGAä½“ç³»ç»“æ„ä¸­ï¼Œæ¯ä¸ªæ¡ä»¶åˆ†æ”¯çš„ç¡¬ä»¶ä¸­å·²ç»å­˜åœ¨ä¸€æ¡å•ç‹¬çš„è·¯å¾„ï¼Œå¹¶ä¸”ä¸ä¼šä¸æµæ°´çº¿ä»»åŠ¡å†…éƒ¨çš„åˆ†æ”¯ç›¸å…³çš„æ€§èƒ½ä¸‹é™ã€‚è¿™åªæ˜¯é€‰æ‹©è¦ä½¿ç”¨å“ªä¸ªåˆ†æ”¯çš„ä¸€ç§æƒ…å†µã€‚&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/hls_pragmas.html\&#34;&gt;HLS Pragmas&lt;/a&gt;çš„ä½¿ç”¨ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&#34;,&#34;fileName&#34;:&#34;vitis-hls-coding-styles&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;å‚è€ƒXilinxæ–‡æ¡£ï¼Œ&lt;a href=\&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/vitis_hls_coding_styles.html\&#34;&gt;Vitis HLS Coding Styles&lt;/a&gt;&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;Vitis HLS Coding Styles&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Verilog&#34;,&#34;slug&#34;:&#34;oen4TO7lh&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/oen4TO7lh/&#34;},{&#34;name&#34;:&#34;HLS&#34;,&#34;slug&#34;:&#34;pm9HjSOZ32&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/pm9HjSOZ32/&#34;},{&#34;name&#34;:&#34;FPGA&#34;,&#34;slug&#34;:&#34;9jjFooiOMM&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/9jjFooiOMM/&#34;}],&#34;date&#34;:&#34;2021-01-04 16:57:57&#34;,&#34;dateFormat&#34;:&#34;2021-01-04&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/vitis-hls-coding-styles/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;16 min read&#34;,&#34;time&#34;:942000,&#34;words&#34;:3533,&#34;minutes&#34;:16},&#34;description&#34;:&#34;å‚è€ƒXilinxæ–‡æ¡£ï¼ŒVitis HLS Coding Styles\n\nä¸æ”¯æŒçš„C/C++éƒ¨åˆ†\nç³»ç»Ÿè°ƒç”¨\n\nprintf()ï¼Œ fprintf(stdout,)ç­‰ä¸ä¼šå½±å“ç®—æ³•æ‰§è¡Œçš„ç³»ç»Ÿè°ƒç”¨â€”â€”å¿½ç•¥æ‰ã€‚\ngetc(), time(), sle...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84cc%E9%83%A8%E5%88%86\&#34;&gt;ä¸æ”¯æŒçš„C/C++éƒ¨åˆ†&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8\&#34;&gt;ç³»ç»Ÿè°ƒç”¨&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98\&#34;&gt;åŠ¨æ€å†…å­˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8C%87%E9%92%88%E7%9A%84%E4%B8%80%E4%BA%9B%E9%99%90%E5%88%B6\&#34;&gt;æŒ‡é’ˆçš„ä¸€äº›é™åˆ¶&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%80%9A%E7%94%A8%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2\&#34;&gt;é€šç”¨æŒ‡é’ˆç±»å‹è½¬æ¢&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84\&#34;&gt;æŒ‡é’ˆæ•°ç»„&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88\&#34;&gt;å‡½æ•°æŒ‡é’ˆ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0\&#34;&gt;é€’å½’å‡½æ•°&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#stl\&#34;&gt;STL&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%87%BD%E6%95%B0\&#34;&gt;å‡½æ•°&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0\&#34;&gt;å†…è”å‡½æ•°&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC%E7%9A%84%E5%BD%B1%E5%93%8D\&#34;&gt;ä»£ç é£æ ¼çš„å½±å“&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#cc%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0\&#34;&gt;C/C++å†…ç½®å‡½æ•°&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BE%AA%E7%8E%AF\&#34;&gt;å¾ªç¯&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BE%AA%E7%8E%AF%E5%8F%98%E9%87%8F%E8%8C%83%E5%9B%B4\&#34;&gt;å¾ªç¯å˜é‡èŒƒå›´&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B0%86%E5%BE%AA%E7%8E%AF%E6%B5%81%E6%B0%B4%E7%BA%BF%E5%8C%96\&#34;&gt;å°†å¾ªç¯æµæ°´çº¿åŒ–&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%8D%E5%AE%8C%E7%BE%8E%E7%9A%84%E5%BE%AA%E7%8E%AF%E5%B5%8C%E5%A5%97\&#34;&gt;ä¸å®Œç¾çš„å¾ªç¯åµŒå¥—&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BE%AA%E7%8E%AF%E5%B9%B6%E8%A1%8C\&#34;&gt;å¾ªç¯å¹¶è¡Œ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96\&#34;&gt;å¾ªç¯ä¾èµ–&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9C%A8c%E7%B1%BB%E4%B8%AD%E4%B8%8D%E4%BC%9A%E5%B1%95%E5%BC%80%E5%BE%AA%E7%8E%AF\&#34;&gt;åœ¨c++ç±»ä¸­ä¸ä¼šå±•å¼€å¾ªç¯&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%95%B0%E7%BB%84\&#34;&gt;æ•°ç»„&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%95%B0%E7%BB%84%E8%AE%BF%E9%97%AE%E5%92%8C%E6%80%A7%E8%83%BD\&#34;&gt;æ•°ç»„è®¿é—®å’Œæ€§èƒ½&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#fifo%E8%AE%BF%E9%97%AE\&#34;&gt;FIFOè®¿é—®&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8E%A5%E5%8F%A3%E4%B8%8A%E7%9A%84%E6%95%B0%E7%BB%84top%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0\&#34;&gt;æ¥å£ä¸Šçš„æ•°ç»„ï¼ˆtopå‡½æ•°å‚æ•°ï¼‰&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%95%B0%E7%BB%84%E5%88%9D%E5%A7%8B%E5%8C%96\&#34;&gt;æ•°ç»„åˆå§‹åŒ–&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%9E%E4%BE%8B%E5%8C%96%E4%B8%80%E4%B8%AArom\&#34;&gt;å®ä¾‹åŒ–ä¸€ä¸ªROM&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\&#34;&gt;æ•°æ®ç±»å‹&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#cc-%E7%B1%BB%E5%9E%8B\&#34;&gt;C/C++ ç±»å‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#arbitrary-precision-ap-data-types-%E4%BB%BB%E6%84%8F%E7%B2%BE%E5%BA%A6%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\&#34;&gt;Arbitrary Precision (AP) Data Types ä»»æ„ç²¾åº¦æ•°æ®ç±»å‹&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%9A%E7%82%B9%E6%95%B0-arbitrary-precision-fixed-point-data-types\&#34;&gt;å®šç‚¹æ•° Arbitrary Precision Fixed-Point Data Types&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%A4%8D%E5%90%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\&#34;&gt;å¤åˆæ•°æ®ç±»å‹&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#struct\&#34;&gt;&lt;code&gt;struct&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#enum\&#34;&gt;&lt;code&gt;enum&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#unions\&#34;&gt;&lt;code&gt;unions&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%B1%BB%E5%9E%8B%E9%99%90%E5%AE%9A%E7%AC%A6\&#34;&gt;ç±»å‹é™å®šç¬¦&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F\&#34;&gt;å…¨å±€å˜é‡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8C%87%E9%92%88\&#34;&gt;æŒ‡é’ˆ&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8E%A5%E5%8F%A3%E5%A4%84%E4%BD%BF%E7%94%A8%E6%8C%87%E9%92%88top%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0%E4%B8%AD\&#34;&gt;æ¥å£å¤„ä½¿ç”¨æŒ‡é’ˆï¼ˆtopå‡½æ•°çš„å‚æ•°ä¸­ï¼‰&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#vector%E7%B1%BB%E5%9E%8B\&#34;&gt;Vectorç±»å‹&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#hls%E7%9A%84vector%E7%B1%BB%E5%9E%8B%E6%98%AF%E4%B8%BA%E4%BA%86simd%E6%93%8D%E4%BD%9C\&#34;&gt;HLSçš„Vectorç±»å‹æ˜¯ä¸ºäº†SIMDæ“ä½œ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#vector-%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80\&#34;&gt;Vector å†…å­˜å¸ƒå±€&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#c%E7%B1%BB%E5%92%8C%E6%A8%A1%E7%89%88\&#34;&gt;C++ç±»å’Œæ¨¡ç‰ˆ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%96%AD%E8%A8%80\&#34;&gt;æ–­è¨€&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%AB%98%E6%80%A7%E8%83%BDhls\&#34;&gt;é«˜æ€§èƒ½HLS&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A1%AE%E4%BF%9D%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BF%9E%E7%BB%AD%E6%B5%81%E5%92%8C%E6%95%B0%E6%8D%AE%E9%87%8D%E7%94%A8\&#34;&gt;ç¡®ä¿æ•°æ®çš„è¿ç»­æµå’Œæ•°æ®é‡ç”¨&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;å¯¹ä¾‹å­ä¸­çš„è¯­æ³•ç­‰çš„ä¸€ç‚¹è®°å½•&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;h1 id=\&#34;èƒŒæ™¯ä»‹ç»\&#34;&gt;èƒŒæ™¯ä»‹ç»&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;HLS&lt;/strong&gt; (high-level synthesis)ï¼š é«˜çº§ç»¼åˆ, ç”¨ C/C++ä¸ºFPGAå¼€å‘ RTL IP.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Vitis HLS&lt;/strong&gt;:  åœ¨Vivado 2020ç‰ˆæœ¬ä¸­æ›¿ä»£åŸå…ˆçš„Vivado HLS, åŠŸèƒ½ç•¥æœ‰å·®å¼‚ï¼Œåœ¨Vivado HLSä¸­çš„ä¾‹å­ç›´æ¥åœ¨Vitis HLSä¸Šè·‘ä¼šæŠ¥é”™ã€‚è¯¦ç»†æ¯”è¾ƒè§&lt;a href=\&#34;https://cloud.tencent.com/developer/article/1745199\&#34;&gt;Vivado HLSå’ŒVitis HLSä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;HLSä¸­çš„pragmaè¯­æ³•&lt;/strong&gt;: &lt;a href=\&#34;https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/hls_pragmas.html\&#34;&gt;HLS Pragmas&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;å†…å®¹\&#34;&gt;å†…å®¹&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;#pragma HLS dataflow&lt;/code&gt;\n&lt;ul&gt;\n&lt;li&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒVitis HLSå·¥å…·è¯•å›¾æœ€å°åŒ–å»¶è¿Ÿå¹¶æé«˜å¹¶å‘æ€§ã€‚ä½†æ˜¯ï¼Œæ•°æ®ä¾èµ–æ€§å¯èƒ½ä¼šé™åˆ¶è¿™ä¸€ç‚¹ã€‚DATAFLOWä¼˜åŒ–ä½¿&lt;strong&gt;å‡½æ•°æˆ–å¾ªç¯ä¸­çš„æ“ä½œèƒ½å¤Ÿåœ¨ä¸Šä¸€ä¸ªå‡½æ•°æˆ–å¾ªç¯å®Œæˆå…¶æ‰€æœ‰æ“ä½œä¹‹å‰å¼€å§‹æ“ä½œ&lt;/strong&gt;ã€‚ï¼ˆèƒ½å¤Ÿåˆ†ææ›´ç»†ï¼‰ã€‚&lt;/li&gt;\n&lt;li&gt;ä¹Ÿèƒ½å¤Ÿè§£å†³ä¸¤ä¸ªä¸ä¾èµ–å¾ªç¯ä¸å¹¶è¡Œæƒ…å†µï¼ˆç±»ä¼¼äºå°è£…è¿›å‡½æ•°ï¼‰ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;void diamond(data_t vecIn[N], data_t vecOut[N])\n{\n  data_t c1[N], c2[N], c3[N], c4[N];\n#pragma HLS dataflow\n  funcA(vecIn, c1, c2);\n  funcB(c1, c3);\n  funcC(c2, c4);\n  funcD(c3, c4, vecOut);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609835551513.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;#pragma HLS pipeline rewind&lt;/code&gt;\n&lt;ul&gt;\n&lt;li&gt;æ„é€ ä¸€ä¸ªè¿ç»­å¾ªç¯çš„æµæ°´çº¿ã€‚ä¸¤æ¬¡å¾ªç¯ä¹‹é—´æ²¡æœ‰æš‚åœã€‚&lt;/li&gt;\n&lt;li&gt;ä¸èƒ½åŒ…å«æ¡ä»¶åˆ†æ”¯ (if-else)&lt;/li&gt;\n&lt;li&gt;åªæ”¯æŒå¾ªç¯ï¼Œä¸æ”¯æŒå‡½æ•°çš„æµæ°´çº¿åŒ–ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;  for (int i = 0; i &amp;lt; N; i++)\n  {\n#pragma HLS pipeline rewind\n#pragma HLS unroll factor = 2\n    data_t t = in[i] * 3;\n    out1[i] = t;\n    out2[i] = t;\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;#pragma HLS unroll factor = 2&lt;/code&gt;\n&lt;ul&gt;\n&lt;li&gt;å°†å¾ªç¯å±•å¼€å¤šå°‘æ¬¡&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;for(int i = 0; i &amp;lt; X; i++) {\n  pragma HLS unroll factor=2\n  a[i] = b[i] + c[i];\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å˜æˆï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;for(int i = 0; i &amp;lt; X; i += 2) {\n  a[i] = b[i] + c[i];\n  if (i+1 &amp;gt;= X) break;\n  a[i+1] = b[i+1] + c[i+1];\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;#pragma HLS function_instantiate variable=&amp;lt;variable&amp;gt;&lt;/code&gt;\n&lt;ul&gt;\n&lt;li&gt;FUNCTION_INSTANTIATEç¼–è¯‘æŒ‡ç¤ºç”¨äºä¸ºå‡½æ•°çš„æ¯ä¸ªå®ä¾‹åˆ›å»ºå”¯ä¸€çš„RTLå®ç°ï¼Œä»è€Œå¯ä»¥æ ¹æ®å‡½æ•°è°ƒç”¨å¯¹æ¯ä¸ªå®ä¾‹è¿›è¡Œæœ¬åœ°ä¼˜åŒ–ã€‚å› ä¸ºï¼šè°ƒç”¨å‡½æ•°æ—¶ï¼Œ&lt;strong&gt;å‡½æ•°çš„æŸäº›è¾“å…¥å¯ä»¥æ˜¯æ’å®šå€¼&lt;/strong&gt;ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥ç®€åŒ–å‘¨å›´çš„æ§åˆ¶ç»“æ„å¹¶&lt;strong&gt;ç”Ÿæˆæ›´å°çš„&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ›´ä¼˜åŒ–çš„åŠŸèƒ½å—&lt;/strong&gt;ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;variable&lt;/code&gt;æ˜¯å¿…éœ€çš„å‚æ•°ï¼Œç”¨äºå®šä¹‰è¦ç”¨ä½œå¸¸é‡çš„å‡½æ•°å‚æ•°ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;char foo(char inval, char incr) {\n#pragma HLS INLINE OFF\n#pragma HLS FUNCTION_INSTANTIATE variable=incr\n return inval + incr;\n}\n\nvoid top(char inval1, char inval2, char inval3,\n char *outval1, char *outval2, char *outval3)\n{\n *outval1 = foo(inval1,   0);\n *outval2 = foo(inval2,   1);\n *outval3 = foo(inval3, 100);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;ä¸å®Œç¾çš„å¾ªç¯(imperfect loop)&lt;/strong&gt;:\n&lt;ul&gt;\n&lt;li&gt;å†…å±‚å¾ªç¯ä¸Šé™æ˜¯ä¸€ä¸ªå˜é‡ã€‚&lt;/li&gt;\n&lt;li&gt;å¾ªç¯ä½“å¹¶éå…¨éƒ¨åœ¨æœ€é‡Œå±‚å¾ªç¯ä¸­ã€‚&lt;/li&gt;\n&lt;li&gt;æ‰€ä»¥&lt;strong&gt;æ²¡æ³•å±•å¼€&lt;/strong&gt;ï¼Œä¼šé€ æˆé¢å¤–çš„è¿›å‡ºå¾ªç¯çš„æ—¶é’Ÿå‘¨æœŸã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;    LOOP_I:for(i=0; i &amp;lt; 20; i++){\n        acc = 0;\n        LOOP_J: for(j=0; j &amp;lt; 20; j++){\n            acc += A[j] * j;\n        }\n        if (i%2 == 0)\n            B[i] = acc / 20;\n        else\n            B[i] = 0;\n    }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;å°†ä¸å®Œç¾å¾ªç¯æ”¹å†™æˆå®Œç¾å¾ªç¯çš„trickï¼š&lt;strong&gt;ä½¿ç”¨æ¡ä»¶è¯­å¥&lt;/strong&gt;ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;    LOOP_I:for(i=0; i &amp;lt; 20; i++){\n        LOOP_J: for(j=0; j &amp;lt; 20; j++){\n            if(j==0) acc = 0;\n            acc += A[j] * j;\n            if(j==19) {\n                if (i%2 == 0)\n                    B[i] = acc / 20;\n                else\n                    B[i] = 0;\n            }\n        }\n    }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;å¾ªç¯å¯ä»¥æ²¡æœ‰labelï¼ŒHLSä¼šç”Ÿæˆé»˜è®¤labelã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¾ªç¯ä¸Šé™ä¸ºå˜é‡çš„ä¼˜åŒ–æ–¹æ³•ï¼š &lt;strong&gt;ä½¿ç”¨æ¡ä»¶è¯­å¥&lt;/strong&gt;ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;  LOOP_X:for (x=0;x&amp;lt;N-1; x++) {\n    if (x&amp;lt;width) {\n      out_accum += A[x];\n    }\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;å¯ä»¥åˆ©ç”¨ä¸¤ä¸ªç‹¬ç«‹çš„æ¨¡å—æ¥å‹ç¼©æµæ°´çš„II ï¼ˆç”¨æ¨¡ç‰ˆå®ç°è¾ƒä¸ºæ–¹ä¾¿ï¼Œéœ€è¦é…åˆä¸Šå¤šè·¯é€‰æ‹©å™¨ï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-C++\&#34;&gt;//                    +--proc--&amp;gt;[ II=2 ]--+\n//                   /                     \\               \n// in --&amp;gt;[demux II=1]                       [mux II=1]---&amp;gt; out\n//                   \\                     /\n//                    +--proc--&amp;gt;[ II=2 ]--+\n\n#include &amp;quot;example.h&amp;quot;\n\n//--------------------------------------------\ntemplate &amp;lt;int ID&amp;gt;\nvoid proc(stream&amp;lt;int&amp;gt; &amp;amp;in, stream&amp;lt;int&amp;gt; &amp;amp;out)\n{\n    for (int i = 0; i &amp;lt; 25; i++)\n    {\n#pragma HLS PIPELINE II=2\n#pragma HLS LATENCY min=2 max=2\n        int var;\n        in.read(var);\n        out.write(var);\n    }\n}\n\n//--------------------------------------------\nvoid mux(stream&amp;lt;int&amp;gt; (&amp;amp;inter)[2], stream&amp;lt;int&amp;gt; &amp;amp;mux_output)\n{\n    int mux_sel = 0;\n    for (int i = 0; i &amp;lt; 50; i++)\n    {\n#pragma HLS PIPELINE II=1\n        int var;\n        inter[mux_sel].read(var);\n        mux_output.write(var);\n        mux_sel = (mux_sel == 0) ? (1) : (0);\n    }\n}\n\n//--------------------------------------------\nvoid demux(stream&amp;lt;int&amp;gt; &amp;amp;in, stream&amp;lt;int&amp;gt; (&amp;amp;inter)[2])\n{\n    int demux_sel = 0;\n    for (int i = 0; i &amp;lt; 50; i++)\n    {\n#pragma HLS PIPELINE II=1\n\n        int var;\n        in.read(var);\n        inter[demux_sel].write(var);\n        demux_sel = (demux_sel == 0) ? 1 : 0;\n    }\n}\n\nvoid example(stream&amp;lt;int&amp;gt; &amp;amp;in, stream&amp;lt;int&amp;gt; &amp;amp;out)\n{\n#pragma HLS DATAFLOW\n\n    stream&amp;lt;int&amp;gt; inter[2];\n    stream&amp;lt;int&amp;gt; mux_in[2];\n\n#pragma HLS STREAM variable = inter depth = 16\n#pragma HLS STREAM variable = mux_in depth = 16\n\n    demux(in, inter);\n    proc&amp;lt;0&amp;gt;(inter[0], mux_in[0]);\n    proc&amp;lt;1&amp;gt;(inter[1], mux_in[1]);\n    mux(mux_in, out);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;vitis-hls-de-tiny-tutorial-bu-fen-dai-ma-fen-xi&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;å¯¹ä¾‹å­ä¸­çš„è¯­æ³•ç­‰çš„ä¸€ç‚¹è®°å½•&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;Vitis HLS çš„Tiny Tutorialéƒ¨åˆ†ä»£ç åˆ†æ&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Verilog&#34;,&#34;slug&#34;:&#34;oen4TO7lh&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/oen4TO7lh/&#34;},{&#34;name&#34;:&#34;HLS&#34;,&#34;slug&#34;:&#34;pm9HjSOZ32&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/pm9HjSOZ32/&#34;},{&#34;name&#34;:&#34;FPGA&#34;,&#34;slug&#34;:&#34;9jjFooiOMM&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/9jjFooiOMM/&#34;}],&#34;date&#34;:&#34;2021-01-04 14:15:07&#34;,&#34;dateFormat&#34;:&#34;2021-01-04&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/vitis-hls-de-tiny-tutorial-bu-fen-dai-ma-fen-xi/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;5 min read&#34;,&#34;time&#34;:291000,&#34;words&#34;:997,&#34;minutes&#34;:5},&#34;description&#34;:&#34;å¯¹ä¾‹å­ä¸­çš„è¯­æ³•ç­‰çš„ä¸€ç‚¹è®°å½•\n\nèƒŒæ™¯ä»‹ç»\n\nHLS (high-level synthesis)ï¼š é«˜çº§ç»¼åˆ, ç”¨ C/C++ä¸ºFPGAå¼€å‘ RTL IP.\nVitis HLS:  åœ¨Vivado 2020ç‰ˆæœ¬ä¸­æ›¿ä»£åŸå…ˆçš„Vivado HLS...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%83%8C%E6%99%AF%E4%BB%8B%E7%BB%8D\&#34;&gt;èƒŒæ™¯ä»‹ç»&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%86%85%E5%AE%B9\&#34;&gt;å†…å®¹&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;&lt;strong&gt;2021-1-3ï¼š æ°´å‰å’Œè‡­è‡­äº”å‘¨å¹´å•¦ï¼&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609601219382.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;h1 id=\&#34;2020å¹´çš„ä¸€æœˆé‚£ä¹ˆè¿‘åˆé‚£ä¹ˆè¿œ\&#34;&gt;2020å¹´çš„ä¸€æœˆï¼Œé‚£ä¹ˆè¿‘åˆé‚£ä¹ˆè¿œ&lt;/h1&gt;\n&lt;p&gt;2020å¹´è·¨å¹´è¿™ä¸€å¤©ï¼Œä¹¡æ‘æ•™å¸ˆå‰è¿”å›åŒ—äº¬ï¼Œå’Œè¢«æ— æ•°è€ƒè¯•æ‘§æ®‹çš„è‡­ç¬¬ä¸€æ¬¡è·¨å¹´+å‚åŠ å­¦æ ¡çš„è·¨å¹´æ™šä¼š~&lt;/p&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609590165354.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;p&gt;&lt;strong&gt;æ–°æ–°å»¿å»¿&lt;/strong&gt;çš„2020æ¥å•¦&lt;/p&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;2\&#34;&gt;&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609590219882.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;p&gt;é‚£æ—¶çš„æˆ‘ä»¬è¿˜ä¸çŸ¥é“2020ä¼šæ˜¯ä¸€å›¢ç³ŸğŸ™ŠğŸ™‰ğŸ™ˆ&lt;/p&gt;\n&lt;br&gt;\n&lt;p&gt;å›æ–°æ´¥(æ°å¥½é”™è¿‡äº†é€”å¾„æ­¦æ±‰çš„ç«è½¦)ï¼Œä¸€èµ·å»çœ‹æœ›äº†æ°´å‰å¦ˆå¦ˆå®¶çš„å°æ³°è¿ª~ğŸ¶ğŸ¶ğŸ¶&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609592085383.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h1 id=\&#34;äºŒæœˆä¸‰æœˆå®¶é‡Œè¹²\&#34;&gt;äºŒæœˆä¸‰æœˆå®¶é‡Œè¹²&lt;/h1&gt;\n&lt;p&gt;ä¸€æœˆæœ«ï¼Œç–«æƒ…å¼€å§‹ä¸¥é‡èµ·æ¥äº†ã€‚æˆ‘ä»¬å°±åªèƒ½éª‘ç€å°ç”µé©´åœ¨ä¸¤ä¸ªå®¶é—´ç©¿æ¢­ï¼Œä¸€ä¸‰äº”åœ¨è‡­è‡­å®¶ï¼ŒäºŒå››å…­åœ¨æ°´å‰å®¶ã€‚å°±è¿™æ ·å¼€å¼€å¿ƒå¿ƒåœ°åº¦è¿‡äº†ä¸¤ä¸ªæœˆ~(ç›‘ç®¡æœ€ä¸¥æ ¼çš„æ—¶å€™ç”šè‡³åªèƒ½åœ¨è¶…å¸‚ç¢°å¤´....)&lt;/p&gt;\n&lt;p&gt;æƒ…äººèŠ‚çš„ç¤¼ç‰©æ˜¯å±±åœ°ç«ç‘°ï¼&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609591290870.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;è¿˜æœ‰å°ç›¸æœº~ è¿™æ ·åè®°æ€§çš„æ°´å‰å°±èƒ½å¤Ÿè®°å½•ä¸‹æ›´å¤šåœ¨ä¸€èµ·çš„ç¾å¥½å›å¿†å•¦~&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609592821850.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;å½“ç„¶è¿˜æœ‰ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;åœ¨å®¶é‡Œä¸€èµ·åƒç«é”…&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609593178211.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¸€èµ·ç©¿ç¡è¡£ä¸€èµ·åˆ·å‰§ä¸€èµ·æ¯”å¿ƒ&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609593229660.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¸€èµ·æ³¡jio&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609593307478.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¸€èµ·å°¬èˆï¼Œç¬¬ä¸€æ¬¡ä¹Ÿæ˜¯å”¯ä¸€çš„ä¸€æ¬¡ä¸¤ä¸ªäººåŒæ—¶MEGASTAR&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609594381621.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¸€èµ·ç©è€&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609593946953.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¸€èµ·åšé¥­&lt;/strong&gt;&lt;br&gt;\néƒ½è¢«åƒæ‰äº†ï¼Œæ²¡æœ‰å›¾äº†ğŸ˜‚&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;å››æœˆäº”æœˆæ·±åœ³happy\&#34;&gt;å››æœˆäº”æœˆæ·±åœ³happy&lt;/h1&gt;\n&lt;p&gt;å››æœˆäº”æœˆï¼Œæ°´å‰çš„å“¥å“¥è®©æ°´å‰å»æ·±åœ³å¸®å¿™ï¼Œæˆ‘ä¹Ÿä¸€å¹¶å»è¹­åƒè¹­å–:)ğŸğŸ–ğŸ—ğŸ¤ğŸ¨ğŸ¡ğŸœ&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;åƒ&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609595003396.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;åƒ&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609595010299.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;åšé¥­ï¼Œç„¶ååƒ&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609595046890.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å†åšé¥­ï¼Œç„¶ååƒ&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609595058832.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æœ€ååœ¨åŠå…¬å®¤æ’æ»¡äº†æ°´å‰å–œæ¬¢çš„èŠ±èŠ±~&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609595105586.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;å…­æœˆä¸ƒæœˆæ˜¯åˆ†å¼€çš„ä¸¤ä¸ªæœˆ\&#34;&gt;å…­æœˆä¸ƒæœˆæ˜¯åˆ†å¼€çš„ä¸¤ä¸ªæœˆ&lt;/h1&gt;\n&lt;p&gt;ç–«æƒ…æ§åˆ¶ä½äº†ï¼Œä¹¡æ‘å¥³æ•™å¸ˆå‰å‰æ°´ç»“æŸäº†ç½‘ä¸Šä¸Šè¯¾ï¼Œåˆå›åˆ°äº†å±±è¥¿ï¼Œæˆä¸ºäº†è½æ°´æ²³æœ€å¼ºçš„åœ°ç†è€å¸ˆï¼&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;å”¯ä¸€çš„çº¦ä¼šåœ°ç‚¹æ˜¯å¬å”¤å¸ˆå³¡è°·&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609595665922.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ°´å‰ç»™å®¶é‡Œä¹°äº†ä¸€å †è‚‰è‚‰~&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609595729442.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;å…«æœˆ-è€å¸æœºå˜Ÿå˜Ÿå˜Ÿ\&#34;&gt;å…«æœˆ è€å¸æœºå˜Ÿå˜Ÿå˜Ÿ&lt;/h1&gt;\n&lt;p&gt;æ°´å‰å›æ¥å•¦ï¼æˆ‘ä»¬ä¹Ÿå¼€å§‹å­¦è½¦è½¦ï¼ç§‘ä¸€æˆ‘ä»¬éƒ½è€ƒäº†ä¸€æ ·çš„åˆ†æ•°~&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;å˜Ÿå˜Ÿå˜Ÿï¼Œå¼€è½¦å•¦&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609595988555.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¹Ÿå»äº†å¹¿å®‰çš„çŒ«çŒ«å’–å•¡å…ï¼Œä¸è¿‡è¿˜æœ‰äººæŠ½çƒŸ....&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609596042550.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;ä¹æœˆ-è¿”æ ¡åƒåƒåƒ\&#34;&gt;ä¹æœˆ è¿”æ ¡åƒåƒåƒ&lt;/h1&gt;\n&lt;p&gt;å…«æœˆæœ«ç»ˆäºå¯ä»¥è¿”æ ¡äº†ï¼Œæ°´å‰çˆ¸çˆ¸å»è¥¿è—ç©å•¦ï¼Œå¯æ€œå‰åªå¥½ä½åœ¨æˆ‘å®¶ã€‚ç™½å¤©å­¦è½¦åšé¥­ï¼Œæ™šä¸Šå’Œå¦ˆå¦ˆä¸€èµ·åˆ·å‰§ï¼Œæœ€åæƒŠé™©é€šè¿‡ç§‘äºŒï¼Œ è€Œæˆ‘åœ¨å­¦æ ¡åƒåƒåƒåƒåƒåƒåƒğŸ¤¤ğŸ¤¤ğŸ¤¤&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;åŠå¹´å¤šæ²¡æœ‰æµ‡æ°´çš„è‚‰è‚‰ä»¬&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609596722960.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\næ°´å‰é€çš„è‚‰è‚‰ä»¬ç«Ÿç„¶åŸºæœ¬è¿˜æ˜¯å¥½å¥½çš„ï¼Œé™¤äº†å®éªŒå®¤çš„é‚£ä¸ªå°ä¸ªå­é¡¶ä¸ä½äº†~&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609596772512.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;å’Œå®¤å‹è¿”æ ¡ç¬¬ä¸€é¤&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609596564140.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;è¿”æ ¡åå’Œå¤§å®¶åƒåƒåƒ&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609596800689.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609596808591.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609596818858.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;æ°´å‰å›æ¥å•¦ï¼Œå»æ°´å‰æœ€å–œæ¬¢çš„é‡å…«~&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609596866823.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;åæœˆ-å‡ºæ¸¸-ç”Ÿæ—¥å’Œæ¡Œæ¸¸\&#34;&gt;åæœˆ å‡ºæ¸¸ã€ç”Ÿæ—¥å’Œæ¡Œæ¸¸&lt;/h1&gt;\n&lt;p&gt;æ¯å¹´åæœˆï¼Œéƒ½æ˜¯å¤©é«˜æ°”çˆ½çš„å¥½æ—¥å­ï¼Œéå¸¸é€‚åˆå‡ºå»ç©ã€‚&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;å†çˆ¬èŸ’å±±&lt;s&gt;å¤§çˆ·&lt;/s&gt;å°å¼Ÿ&lt;/strong&gt;&lt;br&gt;\nä»Šå¤©çš„åä¸€åˆå»äº†èŸ’å±±ï¼ŒèŸ’å±±å¤§çˆ·ä¼¼ä¹ä»Šå¹´æ ¼å¤–çš„çŸ®å°ï¼Œä¸€ä¼šå°±ç™»é¡¶å•¦ï¼&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609597594730.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;å»é‡é¸­æ¹–ï¼&lt;/strong&gt;&lt;br&gt;\næ‹…ä»»å°å­¦æœŸåŠ©æ•™çš„æ„å¤–ä¹‹å–œï¼Œç§‹å¤©çš„é‡é¸­æ¹–çœŸçš„å¥½æ¼‚äº®~&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609597706914.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609597713248.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609597735946.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;è‡­è‡­çš„ç”Ÿæ—¥&lt;/strong&gt;&lt;br&gt;\nè¿™ä¸€å¤©ï¼Œæ°´å‰å› ä¸ºæœ‰ç¯®çƒæ¯”èµ›æ—©æ—©ç¦»å¼€å•¦~å’Œå¤§ä¸ºã€sffåœ¨å®¿èˆå¿«ä¹åš¯å¥¶èŒ¶ï¼Œå¼€å¿ƒå¡å¡é¢‚ï¼&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609597802417.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;æå‰é€ç»™æ°´å‰çš„ç”Ÿæ—¥ç¤¼ç‰©&lt;/strong&gt;&lt;br&gt;\nä»Šå¹´é€ç»™æ°´å‰çš„ç¤¼ç‰©æ˜¯ä¸€ä¸ªèƒ½å¤Ÿæ”¾è¿›ä¹¦åŒ…çš„itxä¸»æœº~è€å¤«è€å¦»äº†ï¼Œæ—©é€æ—©äº«å—ğŸ’»ä»æ­¤æ°´å‰çš„0-12å¿«ä¹æè«å†ä¹Ÿä¸èƒ½æ‰¾ç”µè„‘å¡çš„ç†ç”±äº†hhhhhhhhh&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609597946418.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;æ¡Œæ¸¸ã€æ¡Œæ¸¸ï¼&lt;/strong&gt;&lt;br&gt;\nä»Šå¹´æ˜¯æ°´å‰çˆ±ç©çš„ä¸€å¹´ï¼Œä»å¡å°”è¾¾åˆ°å¡å¡é¢‚ã€å¡å¦å²›ï¼Œæ°´å‰ç©ä¸ªä¸åœï¼&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609598264941.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nï¼ˆè¢«è¿«åŠ å…¥æ¸¸æˆçš„æˆ‘ï¼‰&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;åä¸€-åäºŒæœˆ-åƒåƒåƒå’Œæ°´å‰çš„ç”Ÿæ—¥\&#34;&gt;åä¸€ã€åäºŒæœˆ åƒåƒåƒå’Œæ°´å‰çš„ç”Ÿæ—¥&lt;/h1&gt;\n&lt;p&gt;ä»Šå¹´çš„å†¬å¤©æ ¼å¤–çš„å†·ï¼Œæ‰€ä»¥æ¶®è‚‰è¦åƒèµ·æ¥å•Šï¼&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;å¬è¯´ï¼Œåˆé›ªå’Œæ¶®è‚‰æ›´é…å“¦&lt;/strong&gt;&lt;br&gt;\nåˆé›ªï¼Œæˆ‘ä»¬å»äº†å››é“å£æœ€å¥½åƒçš„æ¶®è‚‰ï¼Œæ’é˜Ÿåˆ°äº†ä¸‹åˆä¸¤ç‚¹.....&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609598677322.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;ç¹å¿™çš„åäºŒæœˆï¼Œæˆ‘ä»¬ç»ˆäºåœ¨äº”é“å£æ‰¾äº†ä¸€å®¶å’–å•¡å…&lt;/strong&gt;&lt;br&gt;\nä»Šå¹´å› ä¸ºæ ¡å›­å°é—­ï¼Œä¸èƒ½å†åˆ°æ ¡å›­é‡Œé¢æ¥å­¦ä¹ äº†ï¼Œç»è¿‡å‡ ç•ªè¾—è½¬ï¼Œç»ˆäºåœ¨äº”é“å£æ‰¾åˆ°äº†æ–°çš„è½è„šä¹‹åœ°ï¼Œåˆå¯ä»¥ä¸€èµ·å­¦ä¹ äº†ã€‚&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609598757515.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;åœ£è¯â€”â€”æ°´å‰çš„ç”Ÿæ—¥&lt;/strong&gt;&lt;br&gt;\nå’Œæ°´å‰ä»¥åŠæ°´å‰çš„å®¤å‹ä»¬ä¸€èµ·åƒé¥­å”±Kï¼Œæ²¡é”™æˆ‘å°±æ˜¯Kæ­Œä¹‹ç‹&lt;sub&gt;(çš„è€å…¬)&lt;/sub&gt;ã€‚&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609600194043.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;br&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;å†æ¬¡å°æ ¡å‰çš„æœ€åä¸€æ¬¡è§é¢&lt;/strong&gt;&lt;br&gt;\nå­¦æ ¡åˆè¦å°é—­äº†ï¼Œèµ¶åœ¨æœ€åä¸€å¤©å’Œæ°´å‰è§äº†ä¸€é¢ï¼Œè¿˜åƒäº†å°å®‡å“¥æ¨èçš„å¥½åƒä¸²ä¸²ï¼ï¼ˆå½“å¤©å› ä¸ºå¯’å†·å˜æˆèƒ†å°è‡çš„æˆ‘â†“ï¼‰&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609600950737.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;2021\&#34;&gt;2021ğŸ’‘ğŸ’&lt;/h1&gt;\n&lt;p&gt;æ–°çš„ä¸€å¹´ï¼Œ2021ğŸ›ğŸ›ğŸ›å•Šï¼&lt;/p&gt;\n&lt;p&gt;å¥½åƒæ²¡å•¥å¥½è¯´çš„äº†ï¼Œé‚£ &lt;strong&gt;æœ€åç¥å¤§å®¶èº«ä½“å¥åº·!!ç§‘ç ”æœ‰æˆ!!&lt;/strong&gt;&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;wu-zhou-nian-la&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;&lt;strong&gt;2021-1-3ï¼š æ°´å‰å’Œè‡­è‡­äº”å‘¨å¹´å•¦ï¼&lt;/strong&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609601219382.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;ğŸ‘¨ğŸ‘©ğŸ’äº”å‘¨å¹´å•¦~ğŸ¥‚ğŸ»&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;éšä¾¿å†™å†™&#34;,&#34;slug&#34;:&#34;xMGkC-iLRF&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/xMGkC-iLRF/&#34;}],&#34;date&#34;:&#34;2021-01-03 00:00:00&#34;,&#34;dateFormat&#34;:&#34;2021-01-03&#34;,&#34;feature&#34;:&#34;https://Busy-Bob.github.io/post-images/wu-zhou-nian-la.jpg&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/wu-zhou-nian-la/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:230000,&#34;words&#34;:1138,&#34;minutes&#34;:4},&#34;description&#34;:&#34;2021-1-3ï¼š æ°´å‰å’Œè‡­è‡­äº”å‘¨å¹´å•¦ï¼\n\n\n2020å¹´çš„ä¸€æœˆï¼Œé‚£ä¹ˆè¿‘åˆé‚£ä¹ˆè¿œ\n2020å¹´è·¨å¹´è¿™ä¸€å¤©ï¼Œä¹¡æ‘æ•™å¸ˆå‰è¿”å›åŒ—äº¬ï¼Œå’Œè¢«æ— æ•°è€ƒè¯•æ‘§æ®‹çš„è‡­ç¬¬ä¸€æ¬¡è·¨å¹´+å‚åŠ å­¦æ ¡çš„è·¨å¹´æ™šä¼š~\n\næ–°æ–°å»¿å»¿çš„2020æ¥å•¦\n\né‚£æ—¶çš„æˆ‘ä»¬è¿˜ä¸çŸ¥é“2020ä¼šæ˜¯ä¸€å›¢ç³Ÿ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#2020%E5%B9%B4%E7%9A%84%E4%B8%80%E6%9C%88%E9%82%A3%E4%B9%88%E8%BF%91%E5%8F%88%E9%82%A3%E4%B9%88%E8%BF%9C\&#34;&gt;2020å¹´çš„ä¸€æœˆï¼Œé‚£ä¹ˆè¿‘åˆé‚£ä¹ˆè¿œ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%8C%E6%9C%88%E4%B8%89%E6%9C%88%E5%AE%B6%E9%87%8C%E8%B9%B2\&#34;&gt;äºŒæœˆä¸‰æœˆå®¶é‡Œè¹²&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9B%9B%E6%9C%88%E4%BA%94%E6%9C%88%E6%B7%B1%E5%9C%B3happy\&#34;&gt;å››æœˆäº”æœˆæ·±åœ³happy&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%AD%E6%9C%88%E4%B8%83%E6%9C%88%E6%98%AF%E5%88%86%E5%BC%80%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%9C%88\&#34;&gt;å…­æœˆä¸ƒæœˆæ˜¯åˆ†å¼€çš„ä¸¤ä¸ªæœˆ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%AB%E6%9C%88-%E8%80%81%E5%8F%B8%E6%9C%BA%E5%98%9F%E5%98%9F%E5%98%9F\&#34;&gt;å…«æœˆ è€å¸æœºå˜Ÿå˜Ÿå˜Ÿ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B9%9D%E6%9C%88-%E8%BF%94%E6%A0%A1%E5%90%83%E5%90%83%E5%90%83\&#34;&gt;ä¹æœˆ è¿”æ ¡åƒåƒåƒ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8D%81%E6%9C%88-%E5%87%BA%E6%B8%B8-%E7%94%9F%E6%97%A5%E5%92%8C%E6%A1%8C%E6%B8%B8\&#34;&gt;åæœˆ å‡ºæ¸¸ã€ç”Ÿæ—¥å’Œæ¡Œæ¸¸&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8D%81%E4%B8%80-%E5%8D%81%E4%BA%8C%E6%9C%88-%E5%90%83%E5%90%83%E5%90%83%E5%92%8C%E6%B0%B4%E5%90%89%E7%9A%84%E7%94%9F%E6%97%A5\&#34;&gt;åä¸€ã€åäºŒæœˆ åƒåƒåƒå’Œæ°´å‰çš„ç”Ÿæ—¥&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2021\&#34;&gt;2021ğŸ’‘ğŸ’&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;FPGAç”¨æ¥åŠ é€Ÿè¿ç®—çš„è°ƒç ”.ğŸ˜&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;h2 id=\&#34;\&#34;&gt;&lt;a href=\&#34;https://www.zhihu.com/question/280468724/answer/517329473\&#34;&gt;&lt;strong&gt;FPGAç®—æ³•åŠ é€Ÿæœ‰ä»€ä¹ˆä¸€èˆ¬çš„å¥—è·¯ï¼Ÿ - Dorus TANçš„å›ç­” - çŸ¥ä¹&lt;/strong&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;å¹¶è¡Œè®¡ç®—ï¼Œæ¯”å¦‚æ¯ä¸ªæ­¥éª¤æ²¡æœ‰å…³è¿æ€§çš„å¾ªç¯æ“ä½œï¼›&lt;/li&gt;\n&lt;li&gt;ç®—æ³•æ­¥éª¤çš„å›ºå®šç¨‹åº¦ï¼Œé€šå¸¸è¶Šå›ºå®šçš„ç®—æ³•è¶Šé€‚åˆç”¨æµæ°´çº¿å®ç°ï¼Œè™½ç„¶ç»“æœå»¶è¿Ÿå·®ä¸å¤šï¼Œä½†æ˜¯æµæ°´ç»“æ„çš„ååé‡éå¸¸å¤§ï¼›&lt;/li&gt;\n&lt;li&gt;ä¹˜æ³•è¿ç®—ï¼ŒFPGAçš„ä¹˜æ³•è¿ç®—é€šå¸¸ç”¨ä¹˜æ³•å™¨åªéœ€è¦ä¸€ä¸ªå‘¨æœŸï¼›&lt;/li&gt;\n&lt;li&gt;ä¸€äº›ç‰¹å®šçš„çŸ©é˜µè¿ç®—ã€‚&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&#34;-2\&#34;&gt;&lt;a href=\&#34;https://www.zhihu.com/question/24174597/answer/138717507\&#34;&gt;&lt;strong&gt;å¦‚ä½•è¯„ä»·å¾®è½¯åœ¨æ•°æ®ä¸­å¿ƒä½¿ç”¨ FPGA ä»£æ›¿ä¼ ç»Ÿ CPU çš„åšæ³•ï¼Ÿ - æåšæ°çš„å›ç­” - çŸ¥ä¹&lt;/strong&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;FPGA ä¸ºä»€ä¹ˆå¿«ï¼Ÿã€Œéƒ½æ˜¯åŒè¡Œè¡¬æ‰˜å¾—å¥½ã€ã€‚&lt;strong&gt;CPUã€GPU éƒ½å±äºå†¯Â·è¯ºä¾æ›¼ç»“æ„ï¼ŒæŒ‡ä»¤è¯‘ç æ‰§è¡Œã€å…±äº«å†…å­˜&lt;/strong&gt;ï¼ŒFPGA ä¹‹æ‰€ä»¥æ¯” CPU ç”šè‡³ GPU èƒ½æ•ˆé«˜ï¼Œæœ¬è´¨ä¸Šæ˜¯æ— æŒ‡ä»¤ã€æ— éœ€å…±äº«å†…å­˜çš„ä½“ç³»ç»“æ„å¸¦æ¥çš„ç¦åˆ©ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;FPGA æ¯ä¸ªé€»è¾‘å•å…ƒçš„åŠŸèƒ½åœ¨é‡ç¼–ç¨‹ï¼ˆçƒ§å†™ï¼‰æ—¶å°±å·²ç»ç¡®å®šï¼Œ&lt;strong&gt;ä¸éœ€è¦æŒ‡ä»¤&lt;/strong&gt;ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;è®¡ç®—å¯†é›†å‹ä»»åŠ¡&lt;/strong&gt;(åŒ…æ‹¬çŸ©é˜µè¿ç®—ã€å›¾åƒå¤„ç†ã€æœºå™¨å­¦ä¹ ã€å‹ç¼©ã€éå¯¹ç§°åŠ å¯†ã€Bing æœç´¢çš„æ’åºç­‰)&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Stratix V FPGA çš„æ•´æ•°ä¹˜æ³•è¿ç®—æ€§èƒ½ä¸ 20 æ ¸çš„ CPU åŸºæœ¬ç›¸å½“&lt;/li&gt;\n&lt;li&gt;æµ®ç‚¹ä¹˜æ³•è¿ç®—æ€§èƒ½ä¸ 8 æ ¸çš„ CPU åŸºæœ¬ç›¸å½“ï¼Œè€Œæ¯” GPU ä½ä¸€ä¸ªæ•°é‡çº§ã€‚&lt;/li&gt;\n&lt;li&gt;åœ¨æ•°æ®ä¸­å¿ƒï¼ŒFPGA ç›¸æ¯” GPU çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äº&lt;strong&gt;å»¶è¿Ÿ&lt;/strong&gt;ã€‚&lt;/li&gt;\n&lt;li&gt;FPGA åŒæ—¶æ‹¥æœ‰&lt;strong&gt;æµæ°´çº¿å¹¶è¡Œå’Œæ•°æ®å¹¶è¡Œ&lt;/strong&gt;ï¼Œè€Œ GPU å‡ ä¹åªæœ‰æ•°æ®å¹¶è¡Œï¼ˆæµæ°´çº¿æ·±åº¦å—é™ï¼‰ã€‚&lt;/li&gt;\n&lt;li&gt;æ•°æ®ä¸­å¿ƒçš„è®¡ç®—ä»»åŠ¡æ˜¯&lt;strong&gt;çµæ´»å¤šå˜&lt;/strong&gt;çš„ï¼Œè€Œ ASIC ç ”å‘æˆæœ¬é«˜ã€å‘¨æœŸé•¿ã€‚å¥½ä¸å®¹æ˜“å¤§è§„æ¨¡éƒ¨ç½²äº†ä¸€æ‰¹æŸç§ç¥ç»ç½‘ç»œçš„åŠ é€Ÿå¡ï¼Œç»“æœå¦ä¸€ç§ç¥ç»ç½‘ç»œæ›´ç«äº†ï¼Œé’±å°±ç™½è´¹äº†ã€‚FPGA åªéœ€è¦å‡ ç™¾æ¯«ç§’å°±å¯ä»¥æ›´æ–°é€»è¾‘åŠŸèƒ½ã€‚FPGA çš„çµæ´»æ€§å¯ä»¥ä¿æŠ¤æŠ•èµ„&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;é€šä¿¡å¯†é›†å‹ä»»åŠ¡&lt;/strong&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;ä»ååé‡ä¸Šè®²ï¼ŒFPGA ä¸Šçš„æ”¶å‘å™¨å¯ä»¥ç›´æ¥æ¥ä¸Š 40 Gbps ç”šè‡³ 100 Gbps çš„ç½‘çº¿ï¼Œä»¥çº¿é€Ÿå¤„ç†ä»»æ„å¤§å°çš„æ•°æ®åŒ…ã€‚&lt;/li&gt;\n&lt;li&gt;ç½‘å¡æŠŠæ•°æ®åŒ…æ”¶åˆ° CPUï¼ŒCPU å†å‘ç»™ç½‘å¡ï¼Œå³ä½¿ä½¿ç”¨ DPDK è¿™æ ·é«˜æ€§èƒ½çš„æ•°æ®åŒ…å¤„ç†æ¡†æ¶ï¼Œå»¶è¿Ÿä¹Ÿæœ‰ 4~5 å¾®ç§’ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;åªè¦è§„æ¨¡è¶³å¤Ÿå¤§ï¼Œå¯¹ FPGA ä»·æ ¼è¿‡é«˜çš„æ‹…å¿ƒå°†æ˜¯ä¸å¿…è¦çš„ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¯¹å¾ˆå¤šç±»å‹çš„åº”ç”¨ï¼Œéšç€åˆ†å¸ƒå¼ FPGA åŠ é€Ÿå™¨çš„è§„æ¨¡æ‰©å¤§ï¼Œå…¶æ€§èƒ½æå‡æ˜¯è¶…çº¿æ€§çš„ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;æŠŠä»»åŠ¡æ‹†åˆ†åˆ°åˆ†å¸ƒå¼ FPGA é›†ç¾¤çš„å…³é”®åœ¨äºå¹³è¡¡è®¡ç®—å’Œé€šä¿¡ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;æ¯åšä¸€ç‚¹ä¸åŒçš„äº‹æƒ…ï¼Œå°±è¦å ç”¨ä¸€å®šçš„ FPGA é€»è¾‘èµ„æºã€‚&lt;strong&gt;å¦‚æœè¦åšçš„äº‹æƒ…å¤æ‚ã€é‡å¤æ€§ä¸å¼ºï¼Œå°±ä¼šå ç”¨å¤§é‡çš„é€»è¾‘èµ„æºï¼Œå…¶ä¸­çš„å¤§éƒ¨åˆ†å¤„äºé—²ç½®çŠ¶æ€&lt;/strong&gt;ã€‚è¿™æ—¶å°±ä¸å¦‚ç”¨å†¯Â·è¯ºä¾æ›¼ç»“æ„çš„å¤„ç†å™¨ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;FPGA å’Œ CPU ååŒå·¥ä½œï¼Œ&lt;strong&gt;å±€éƒ¨æ€§å’Œé‡å¤æ€§å¼ºçš„å½’ FPGAï¼Œå¤æ‚çš„å½’ CPU&lt;/strong&gt;ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;-3\&#34;&gt;&lt;a href=\&#34;https://china.xilinx.com/support/documentation/white_papers/c_wp491-floating-to-fixed-point.pdf\&#34;&gt;&lt;strong&gt;å°†æµ®ç‚¹è½¬ä¸ºå®šç‚¹å¤§å¹…é™ä½åŠŸè€—å’Œæˆæœ¬ - Xilinx&lt;/strong&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;ç”¨å®šç‚¹å®ç°çš„è®¾è®¡æ€»æ˜¯æ¯”ç”¨æµ®ç‚¹å®ç°çš„åŒä¸€è®¾è®¡æ›´åŠ é«˜æ•ˆï¼Œå› ä¸ºå®šç‚¹å®ç°æ–¹æ¡ˆæ‰€å ç”¨çš„èµ„æºå’Œæ¶ˆè€—çš„åŠŸè€—æ›´å°‘ã€‚è‹¥å°†è®¾è®¡è¿ç§»åˆ°å®šç‚¹ï¼ŒåŠŸè€—å’Œå ç”¨é¢ç§¯ç¼©å‡ä¸€åŠå¹¶ä¸ç¨€å¥‡ã€‚&lt;/li&gt;\n&lt;li&gt;å¯¹äºé‡‡ç”¨ C/C++ è¯­è¨€è®¾è®¡çš„å®¢æˆ·ï¼Œèµ›çµæ€æä¾› Vivado HLS å¹¶æ”¯æŒä»»æ„ç²¾åº¦å®šç‚¹æ•°æ®ç±»å‹ï¼Œä½¿å®¢æˆ·èƒ½å¤Ÿæ–¹ä¾¿åœ°é‡‡ç”¨å®šç‚¹è¿›è¡Œè®¾è®¡æˆ–è€…å°†ç°æœ‰çš„ C/C++ è®¾è®¡è½¬æ¢æˆå®šç‚¹ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æµ®ç‚¹è½¬æ¢ä¸ºå®šç‚¹çš„ä¼˜åŠ¿&lt;/strong&gt;:\n&lt;ul&gt;\n&lt;li&gt;å‡å°‘ FPGA èµ„æºå ç”¨ï¼ˆæ‰€éœ€çš„ DSP48E2ã€æŸ¥æ‰¾è¡¨ (LUT) å’Œè§¦å‘å™¨æ›´å°‘ï¼Œå­˜å‚¨å®šç‚¹æ•°å­—æ‰€éœ€çš„å­˜å‚¨å®¹é‡æ›´å°ï¼‰&lt;/li&gt;\n&lt;li&gt;åŠŸè€—æ›´ä½&lt;/li&gt;\n&lt;li&gt;ææ–™æˆæœ¬é™ä½&lt;/li&gt;\n&lt;li&gt;é™ä½æ—¶å»¶&lt;/li&gt;\n&lt;li&gt;ç›¸è¿‘çš„æ€§èƒ½å’Œç²¾åº¦&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;,&#34;fileName&#34;:&#34;fpga-yong-lai-jia-su-yun-suan-de-diao-yan&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;FPGAç”¨æ¥åŠ é€Ÿè¿ç®—çš„è°ƒç ”.ğŸ˜&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;FPGAç”¨æ¥åŠ é€Ÿè¿ç®—çš„è°ƒç ”&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;FPGA&#34;,&#34;slug&#34;:&#34;9jjFooiOMM&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/9jjFooiOMM/&#34;}],&#34;date&#34;:&#34;2021-01-02 13:53:42&#34;,&#34;dateFormat&#34;:&#34;2021-01-02&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/fpga-yong-lai-jia-su-yun-suan-de-diao-yan/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:202000,&#34;words&#34;:963,&#34;minutes&#34;:4},&#34;description&#34;:&#34;FPGAç”¨æ¥åŠ é€Ÿè¿ç®—çš„è°ƒç ”.ğŸ˜\n\nFPGAç®—æ³•åŠ é€Ÿæœ‰ä»€ä¹ˆä¸€èˆ¬çš„å¥—è·¯ï¼Ÿ - Dorus TANçš„å›ç­” - çŸ¥ä¹\n\nå¹¶è¡Œè®¡ç®—ï¼Œæ¯”å¦‚æ¯ä¸ªæ­¥éª¤æ²¡æœ‰å…³è¿æ€§çš„å¾ªç¯æ“ä½œï¼›\nç®—æ³•æ­¥éª¤çš„å›ºå®šç¨‹åº¦ï¼Œé€šå¸¸è¶Šå›ºå®šçš„ç®—æ³•è¶Šé€‚åˆç”¨æµæ°´çº¿å®ç°ï¼Œè™½ç„¶ç»“æœå»¶è¿Ÿå·®ä¸å¤šï¼Œä½†æ˜¯...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;/li&gt;\n&lt;li&gt;&lt;/li&gt;\n&lt;li&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;å­¦ä¹ The Zynq Bookç¬¬ä¸€ç« æ—¶çš„ä¸€äº›ç¬”è®°&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;Zynq çš„æœ¬è´¨ç‰¹å¾ï¼Œæ˜¯å®ƒç»„åˆäº†ä¸€ä¸ªåŒæ ¸ARM Cortex-A9 &lt;strong&gt;å¤„ç†å™¨&lt;/strong&gt;å’Œä¸€ä¸ªä¼ ç»Ÿçš„ç°åœºå¯ç¼–ç¨‹é—¨é˜µåˆ—ï¼ˆField Programmable Gate Arrayï¼Œ&lt;strong&gt;FPGA&lt;/strong&gt;ï¼‰é€»è¾‘éƒ¨ä»¶ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;è¿™ä¸ªæ¶æ„å®ç°äº†å·¥ä¸šæ ‡å‡†çš„AXI æ¥å£ï¼Œåœ¨èŠ¯ç‰‡çš„ä¸¤ä¸ªéƒ¨åˆ†ä¹‹é—´å®ç°äº†&lt;strong&gt;é«˜å¸¦å®½ã€ä½å»¶è¿Ÿ&lt;/strong&gt;çš„è¿æ¥ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;è¿™æ„å‘³ç€å¤„ç†å™¨å’Œé€»è¾‘éƒ¨åˆ†å„è‡ªéƒ½å¯ä»¥å‘æŒ¥æœ€ä½³çš„ç”¨é€”ï¼Œè€Œ&lt;strong&gt;ä¸ä¼šæœ‰&lt;/strong&gt;åœ¨ä¸¤ä¸ªåˆ†ç«‹çš„èŠ¯ç‰‡ä¹‹é—´çš„é‚£ç§&lt;strong&gt;æ¥å£å¼€é”€&lt;/strong&gt;ã€‚åŒæ—¶åˆèƒ½è·å¾—ç³»ç»Ÿè¢«ç®€åŒ–ä¸ºå•ä¸€èŠ¯ç‰‡æ‰€å¸¦æ¥çš„å¥½å¤„ï¼ŒåŒ…æ‹¬&lt;strong&gt;ç‰©ç†å°ºå¯¸&lt;/strong&gt;å’Œæ•´ä½“&lt;strong&gt;æˆæœ¬çš„é™ä½&lt;/strong&gt;ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯ç‰‡ä¸Šç³»ç»Ÿ/SoC (System on Chip)&lt;/strong&gt;:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;å•ä¸ªç¡…èŠ¯ç‰‡å°±å¯ä»¥ç”¨æ¥å®ç°æ•´ä¸ªç³»ç»Ÿçš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯éœ€è¦ç”¨å‡ ä¸ªä¸åŒçš„ç‰©ç†èŠ¯ç‰‡æ¥å®ç°ã€‚&lt;/li&gt;\n&lt;li&gt;å¸¸ç”¨äºæŒ‡ä¸“ç”¨é›†æˆç”µè·¯ï¼ˆApplication Specific Integrated Circuitï¼ŒASICï¼‰&lt;/li&gt;\n&lt;li&gt;å’Œæ¿ä¸Šç³»ç»Ÿ(åœ¨pcbæ¿ä¸­ç»„åˆå¤šä¸ªå…ƒä»¶)å¯¹æ¯”ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼š\n&lt;ul&gt;\n&lt;li&gt;å¼€å‘æ—¶é—´å’Œæˆæœ¬&lt;/li&gt;\n&lt;li&gt;éš¾ä»¥é‡ç”¨ï¼Œä¸å¤Ÿçµæ´»ï¼ˆä¸FPGAä¸åŒï¼Œç›´æ¥è®¾è®¡èŠ¯ç‰‡è®¾è®¡ï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¾‹å­&lt;/strong&gt;ï¼šæ‰‹æœºï¼ŒPCï¼Œå¹³æ¿ç­‰çš„CPU&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Zynqï¼šçµæ´»çš„SoC çš„å¹³å°ï¼Œå…¨å¯ç¼–ç¨‹SoC ï¼ˆAll-Programmable SoCï¼ŒAPSoCï¼‰&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;å¤„ç†ç³»ç»Ÿï¼ˆPSï¼‰ï¼šæ”¯æŒè½¯ä»¶ç¨‹åºå’Œ/ æˆ–æ“ä½œç³»ç»Ÿ&lt;/li&gt;\n&lt;li&gt;å¯ç¼–ç¨‹é€»è¾‘ï¼ˆPLï¼‰ï¼šå®ç°é«˜é€Ÿé€»è¾‘ã€ç®—æœ¯å’Œæ•°æ®æµå­ç³»ç»Ÿ&lt;/li&gt;\n&lt;li&gt;å·¥ä¸šæ ‡å‡†çš„é«˜çº§å¯æ‰©å±•æ¥å£ï¼ˆAdvanced eXtensible Interfaceï¼ŒAXIï¼‰è¿æ¥ã€‚&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609400781987.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;è½¯ç¡¬ä»¶ç³»ç»Ÿå…³ç³»&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609401050095.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;,&#34;fileName&#34;:&#34;the-zynq-book-xue-xi&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;å­¦ä¹ The Zynq Bookç¬¬ä¸€ç« æ—¶çš„ä¸€äº›ç¬”è®°&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;The Zynq Book å­¦ä¹ ï¼š å¼•è¨€&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;zynq&#34;,&#34;slug&#34;:&#34;VR993R9Vz&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/VR993R9Vz/&#34;},{&#34;name&#34;:&#34;FPGA&#34;,&#34;slug&#34;:&#34;9jjFooiOMM&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/9jjFooiOMM/&#34;}],&#34;date&#34;:&#34;2020-12-31 15:25:06&#34;,&#34;dateFormat&#34;:&#34;2020-12-31&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/the-zynq-book-xue-xi/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:81000,&#34;words&#34;:375,&#34;minutes&#34;:2},&#34;description&#34;:&#34;å­¦ä¹ The Zynq Bookç¬¬ä¸€ç« æ—¶çš„ä¸€äº›ç¬”è®°\n\n\n\nZynq çš„æœ¬è´¨ç‰¹å¾ï¼Œæ˜¯å®ƒç»„åˆäº†ä¸€ä¸ªåŒæ ¸ARM Cortex-A9 å¤„ç†å™¨å’Œä¸€ä¸ªä¼ ç»Ÿçš„ç°åœºå¯ç¼–ç¨‹é—¨é˜µåˆ—ï¼ˆField Programmable Gate Arrayï¼ŒFPGAï¼‰é€»è¾‘éƒ¨ä»¶ã€‚...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;æ€»ä½“æ¶æ„å›¾ä¸ºï¼š&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609385485651.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;PS (Processing System)ä¸­å¯¹å¤–é€šä¿¡ç®¡è„š:&lt;/strong&gt;ï¼š\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;MIO&lt;/strong&gt; (Multiplexed Input/Outputï¼ŒMIO)ï¼š åˆ©ç”¨å¤ç”¨çš„è¾“å…¥ / è¾“å‡ºï¼Œå’Œå¤–éƒ¨æ¥å£ä¹‹é—´é€šä¿¡ï¼Œä¸€å…±54 ä¸ªå¼•è„šã€‚MIOåœ¨zynqä¸Šçš„ç®¡è„šæ˜¯å›ºå®šçš„ï¼Œå ç”¨IOå·ä¸º0-53ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;EMIO&lt;/strong&gt; (Extended MIOï¼ŒEMIO)ï¼š æ˜¯é€šè¿‡PLéƒ¨åˆ†æ‰©å±•çš„ï¼Œæ‰€ä»¥ä½¿ç”¨EMIOæ—¶å€™éœ€è¦åœ¨&lt;strong&gt;çº¦æŸæ–‡ä»¶ä¸­åˆ†é…ç®¡è„š&lt;/strong&gt;ï¼Œå ç”¨IOå·ä¸º54-117ã€‚EMIO å¹¶ä¸æ˜¯ PS å’Œå¤–éƒ¨è¿æ¥ä¹‹é—´çš„ç›´æ¥é€šè·¯ï¼Œè€Œæ˜¯é€šè¿‡å…±ç”¨äº† PL çš„ I/O èµ„æºæ¥å®ç°çš„ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;em&gt;å½“éœ€è¦æ‰©å±•è¶…è¿‡ 54 ä¸ªå¼•è„šçš„æ—¶å€™å¯ä»¥ç”¨ EMIOï¼Œè€Œå½“ PL ä¸­å®ç°äº†ä¸€ä¸ª IP åŒ…çš„æ—¶å€™ï¼Œè¿™ä¹Ÿæ˜¯ PS å’Œ PL ä¸­çš„IP åŒ…æ¥å£çš„ä¸€ç§æ–¹æ³•(å³&lt;strong&gt;PSå¯ä»¥åˆ©ç”¨EMIOå’ŒPLè¿›è¡Œé€šä¿¡&lt;/strong&gt;)&lt;/em&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;**PL (Programmable Logic) å’Œ PSçš„é€šä¿¡æ¥å£ **&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609403066047.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;é€šç”¨AXIï¼ˆGeneral Purpose AXIï¼‰&lt;/strong&gt;ï¼š ä¸€å…±æœ‰å››ä¸ªï¼Œå¯¹åº”å›¾ä¸­ä¸»æœºäº’è”å’Œä»æœºäº’è”ã€‚32 ä½æ•°æ®æ€»çº¿ï¼Œé€‚åˆPL å’ŒPS ä¹‹é—´çš„&lt;strong&gt;ä¸­ä½é€Ÿé€šä¿¡&lt;/strong&gt;ã€‚æ¥å£æ˜¯é€ä¼ çš„ä¸å¸¦ç¼“å†²ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;åŠ é€Ÿå™¨ä¸€è‡´æ€§ç«¯å£ï¼ˆAccelerator Coherency Portï¼‰&lt;/strong&gt;ï¼š åœ¨PL å’ŒAPU å†…çš„SCUä¹‹é—´çš„å•ä¸ªå¼‚æ­¥è¿æ¥ï¼Œæ€»çº¿å®½åº¦ä¸º64 ä½ã€‚è¿™ä¸ªç«¯å£ç”¨æ¥å®ç°APU cache å’ŒPLçš„å•å…ƒä¹‹é—´çš„ä¸€è‡´æ€§ï¼ˆç›´æ¥å’ŒPSä¸­çš„APUç›¸è¿ï¼‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é«˜æ€§èƒ½ç«¯å£ï¼ˆHigh Performance Portsï¼‰&lt;/strong&gt;ï¼š å¸¦æœ‰FIFOç¼“å†²æ¥æä¾›â€œ æ‰¹é‡â€ è¯»å†™æ“ä½œï¼Œå¹¶æ”¯æŒPL å’ŒPS ä¸­çš„å­˜å‚¨å™¨å•å…ƒçš„é«˜é€Ÿç‡é€šä¿¡ã€‚æ•°æ®å®½åº¦æ˜¯32 æˆ–64 ä½ï¼Œåœ¨æ‰€æœ‰å››ä¸ªæ¥å£ä¸­PL éƒ½æ˜¯åšä¸»æœºçš„ã€‚&lt;strong&gt;(PLç›´æ¥ä»DDRä¸­è·å–æ•°æ®)&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;EMIO&lt;/strong&gt;ï¼š åŸæœ¬æ˜¯ç”¨æ¥è¿æ¥I2Cç­‰åè®®çš„å¤–è®¾ï¼Œä¹Ÿå¯ä»¥ç»™PSä½¿ç”¨ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;pynqä¸­pythonç±»å¯¹åº”\&#34;&gt;PYNQä¸­pythonç±»å¯¹åº”ï¼š&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;GPIO&lt;/strong&gt;ï¼š å¯¹åº”MIOï¼Œ EMIOã€‚ï¼ˆç±»ä¼¼äºå•ç‰‡æœºä¸­çš„GPIOï¼‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;MMIO&lt;/strong&gt;ï¼š å¯¹åº”GP AXIï¼Œå³é€šç”¨AXIç«¯å£ã€‚ï¼ˆè°ƒç”¨IPæ ¸ï¼ŒPSç»™PLæ•°æ®æ—¶å€™ç”¨ï¼‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Xlnk&lt;/strong&gt;ï¼š å¯¹åº”HP AXIï¼Œè®¿é—®DDRå†…å­˜ï¼Œå³é«˜æ€§èƒ½AXIç«¯å£ã€‚ï¼ˆè®¿é—®PS çš„ DRAMï¼Œ ç”¨ä»¥PLéœ€è¦å†…å­˜æ—¶å€™ï¼ŒPSåˆ†é…å†…å­˜ç»™PLï¼‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;DMA&lt;/strong&gt;ï¼š å¯¹åº”HP AXIï¼Œè®¿é—®DMAï¼Œå³é«˜æ€§èƒ½AXIç«¯å£&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;axi-åè®®\&#34;&gt;AXI åè®®&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;AXI4ï¼š  é€šè¿‡ä¸€ç°‡é«˜è¾¾256 ä¸ªæ•°æ®å­—ï¼ˆæˆ–â€œ æ•°æ®æ‹ï¼ˆdata beatsï¼‰â€ï¼‰çš„æ•°æ®ä¼ è¾“æ¥ç»™å®šä¸€ä¸ªåœ°å€ã€‚&lt;/li&gt;\n&lt;li&gt;AXI4_LITEï¼š åªæ”¯æŒæ¯æ¬¡è¿æ¥ä¼ è¾“ä¸€ä¸ªæ•°æ®ï¼ˆéæ‰¹é‡ï¼‰ã€‚&lt;/li&gt;\n&lt;li&gt;AXI4-Streamï¼š ç”¨äºé«˜é€Ÿæµæ•°æ®ï¼Œæ”¯æŒæ‰¹é‡ä¼ è¾“æ— é™å¤§å°çš„æ•°æ®ã€‚æ²¡æœ‰åœ°å€æœºåˆ¶ï¼Œè¿™ç§æ€»çº¿ç±»å‹æœ€é€‚åˆæºå’Œç›®çš„åœ°ä¹‹é—´çš„ç›´æ¥æ•°æ®æµã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&#34;,&#34;fileName&#34;:&#34;zynq-zhong-de-si-chong-tong-xin-jie-kou__&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;ZYNQä¸­çš„é€šä¿¡æ¥å£(åŒ…æ‹¬PSä¸PL)&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;zynq&#34;,&#34;slug&#34;:&#34;VR993R9Vz&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/VR993R9Vz/&#34;},{&#34;name&#34;:&#34;FPGA&#34;,&#34;slug&#34;:&#34;9jjFooiOMM&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/9jjFooiOMM/&#34;}],&#34;date&#34;:&#34;2020-12-31 10:45:05&#34;,&#34;dateFormat&#34;:&#34;2020-12-31&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/zynq-zhong-de-si-chong-tong-xin-jie-kou__/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:139000,&#34;words&#34;:608,&#34;minutes&#34;:3},&#34;description&#34;:&#34;æ€»ä½“æ¶æ„å›¾ä¸ºï¼š\n\n\nPS (Processing System)ä¸­å¯¹å¤–é€šä¿¡ç®¡è„š:ï¼š\n\nMIO (Multiplexed Input/Outputï¼ŒMIO)ï¼š åˆ©ç”¨å¤ç”¨çš„è¾“å…¥ / è¾“å‡ºï¼Œå’Œå¤–éƒ¨æ¥å£ä¹‹é—´é€šä¿¡ï¼Œä¸€å…±54 ä¸ªå¼•è„šã€‚MIOåœ¨zynqä¸Š...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#pynq%E4%B8%ADpython%E7%B1%BB%E5%AF%B9%E5%BA%94\&#34;&gt;PYNQä¸­pythonç±»å¯¹åº”ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#axi-%E5%8D%8F%E8%AE%AE\&#34;&gt;AXI åè®®&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h2 id=\&#34;flash-åŸç†\&#34;&gt;Flash åŸç†ï¼š&lt;/h2&gt;\n&lt;p&gt;&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609254997519.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609253806308.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå‚è€ƒ&lt;a href=\&#34;https://www.youtube.com/watch?v=aO_kBa9DzPQ\&#34;&gt;youtube&lt;/a&gt;ã€‚åœ¨æ§åˆ¶æ …æé«˜ç”µå‹æ—¶å€™ï¼Œæºææ¼æä¹‹é—´å¯¼é€šï¼Œç”µå­ä¼šç©¿è¿‡ç»ç¼˜å±‚å¾€æ§åˆ¶æ …æèµ°ï¼ˆç”µå­ä»è´Ÿæèµ°å‘æ­£æï¼‰ï¼Œæ§åˆ¶æ …ææ¢å¤åç”µå­å›°åœ¨é‡Œé¢ï¼Œè¡¨ç°å‡º0ã€‚å¦‚æœåªéœ€è¦ä¸€ä¸ªpageä¸­çš„æŸä¸€ä¸ªå°å•å…ƒä»1-&amp;gt;0, é‚£ä¹ˆé™¤äº†å¯¹è¯¥pageçš„çºµå‘çº¿åŠ é«˜ç”µå‹ï¼Œä¹Ÿéœ€è¦å¯¹å…¶ä»–å•å…ƒçš„æ¨ªå‘çº¿åŠ é«˜ç”µå‹ï¼Œä½¿å¾—å…¶ä»–åœ°æ–¹ç”µå­ä¸å¾€æ§åˆ¶æ …æèµ°ã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;nand-flash-å’Œ-nor-flash-åŒºåˆ«\&#34;&gt;NAND Flash å’Œ NOR Flash åŒºåˆ«&lt;/h2&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;https://Busy-Bob.github.io/post-images/1609253097307.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;NAND ä¸èƒ½å¤Ÿå–æŒ‡ä»¤ï¼ˆç±»ä¼¼äºç¡¬ç›˜ï¼‰&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;NOR å¯ä»¥å–æŒ‡ä»¤ï¼ˆç±»ä¼¼äºå†…å­˜ï¼‰&lt;/strong&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;ç”±äºCPUè¿è¡Œæ—¶å€™éœ€è¦ä¸‰æ­¥ï¼š&lt;strong&gt;å–æŒ‡ã€è¯‘ç ã€æ‰§è¡Œ&lt;/strong&gt; ä¸‰ä¸ªæ­¥éª¤ã€‚ç”±äº NORçš„åœ°å€çº¿å’Œæ•°æ®çº¿åˆ†å¼€ï¼Œå®ƒå¯ä»¥æŒ‰â€œå­—èŠ‚â€è¯»å†™æ•°æ®ï¼Œç¬¦åˆ CPU çš„æŒ‡ä»¤è¯‘ç æ‰§è¡Œè¦æ±‚ï¼Œæ‰€ä»¥å‡å¦‚ NORä¸Šå­˜å‚¨äº†ä»£ç æŒ‡ä»¤ï¼Œ CPU ç»™ NORä¸€ä¸ªåœ°å€ï¼Œ NOR å°±èƒ½å‘CPU è¿”å›ä¸€æ¡æŒ‡ä»¤è®© CPU æ‰§è¡Œï¼Œä¸­é—´ä¸éœ€è¦é¢å¤–çš„å¤„ç†æ“ä½œã€‚æ‰€ä»¥NOR Flashæ˜¯å¯ä»¥ç”¨äºæ‰§è¡Œçš„ï¼Œå³æ”¯æŒXIP(eXecute In Place) ã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;åº”ç”¨åœºæ™¯\&#34;&gt;åº”ç”¨åœºæ™¯&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;NOR Flash å°å®¹é‡ï¼Œå…·å¤‡éšæœºè®¿é—®èƒ½åŠ›ï¼Œå¯æ‰§è¡Œã€‚ï¼ˆç”¨äºæ‰§è¡Œç‰‡ä¸Šç¨‹åºï¼ŒBIOSï¼‰&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;NAND Flash å¤§å®¹é‡ï¼Œä¸å…·å¤‡éšæœºè®¿é—®èƒ½åŠ›ã€‚ï¼ˆSSDï¼ŒUç›˜ç­‰ï¼‰&lt;/strong&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;ssdå’Œuç›˜åŒºåˆ«\&#34;&gt;SSDå’ŒUç›˜åŒºåˆ«&lt;/h2&gt;\n&lt;blockquote&gt;\n&lt;p&gt;å‚¨å­˜ä»‹è´¨ä¸ä¸€æ ·ï¼šå›ºæ€ç¡¬ç›˜ç”¨çš„å‚¨å­˜èŠ¯ç‰‡ä»·æ ¼è¿œè¿œé«˜äºUç›˜ç”¨çš„&lt;br&gt;\nä¸»æ§èŠ¯ç‰‡ä¸ä¸€æ ·ï¼šæŠŠèŠ¯ç‰‡çš„è¯»å†™æ¨¡å¼å®‰æ’å¥½æ˜¯ä¸»æ§èŠ¯ç‰‡çš„äº‹ï¼ŒUç›˜åŸºæœ¬ä¸Šåœ¨è¿™ä¸ªä¸Šé¢æ²¡åšä»€ä¹ˆ&lt;br&gt;\nå­˜å‚¨æ¨¡å¼ä¸ä¸€æ ·ï¼šå›ºæ€ç¡¬ç›˜æ˜¯å¤šèŠ¯ç‰‡ç»„æˆï¼Œåœ¨è¯»ä¹¦æ—¶ï¼Œåœ¨ä¸»æ§çš„å®‰æ’ä¸‹ï¼Œé€šå¸¸éƒ½èƒ½å¤šè·¯å¹¶å‘&lt;br&gt;\næ¥å£æ¨¡å¼ä¸ä¸€æ ·ï¼šå›ºæ€ç¡¬ç›˜çš„æ¥å£ä¸°å¯Œï¼Œä¸ç®¡å“ªä¸ªæ¥å£ï¼Œéƒ½æ¯”USBå¿«&lt;/p&gt;\n&lt;p&gt;ä½œè€…ï¼šæè¯—å&lt;br&gt;\né“¾æ¥ï¼šhttps://www.zhihu.com/question/265335741/answer/292414149&lt;br&gt;\næ¥æºï¼šçŸ¥ä¹&lt;/p&gt;\n&lt;/blockquote&gt;\n&#34;,&#34;fileName&#34;:&#34;nand-flash-nor-flash&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;NAND Flash, NOR Flash çš„åŒºåˆ«å’Œåº”ç”¨&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Flash&#34;,&#34;slug&#34;:&#34;gtSmWzfNV&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/gtSmWzfNV/&#34;},{&#34;name&#34;:&#34;NAND&#34;,&#34;slug&#34;:&#34;9Zg0ckvoQ0&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/9Zg0ckvoQ0/&#34;},{&#34;name&#34;:&#34;NOR&#34;,&#34;slug&#34;:&#34;7JP4e5yowm&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/7JP4e5yowm/&#34;}],&#34;date&#34;:&#34;2020-12-29 22:06:01&#34;,&#34;dateFormat&#34;:&#34;2020-12-29&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/nand-flash-nor-flash/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:104000,&#34;words&#34;:480,&#34;minutes&#34;:2},&#34;description&#34;:&#34;Flash åŸç†ï¼š\n\n\nå‚è€ƒyoutubeã€‚åœ¨æ§åˆ¶æ …æé«˜ç”µå‹æ—¶å€™ï¼Œæºææ¼æä¹‹é—´å¯¼é€šï¼Œç”µå­ä¼šç©¿è¿‡ç»ç¼˜å±‚å¾€æ§åˆ¶æ …æèµ°ï¼ˆç”µå­ä»è´Ÿæèµ°å‘æ­£æï¼‰ï¼Œæ§åˆ¶æ …ææ¢å¤åç”µå­å›°åœ¨é‡Œé¢ï¼Œè¡¨ç°å‡º0ã€‚å¦‚æœåªéœ€è¦ä¸€ä¸ªpageä¸­çš„æŸä¸€ä¸ªå°å•å…ƒä»1-&amp;gt;0, é‚£ä¹ˆé™¤äº†...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#flash-%E5%8E%9F%E7%90%86\&#34;&gt;Flash åŸç†ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#nand-flash-%E5%92%8C-nor-flash-%E5%8C%BA%E5%88%AB\&#34;&gt;NAND Flash å’Œ NOR Flash åŒºåˆ«&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF\&#34;&gt;åº”ç”¨åœºæ™¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#ssd%E5%92%8Cu%E7%9B%98%E5%8C%BA%E5%88%AB\&#34;&gt;SSDå’ŒUç›˜åŒºåˆ«&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;æœ‰ä¸¤ç§æ–¹å¼æ¥èšåˆå¤šç§ç±»å‹çš„Erroræ¥è¿›è¡Œå‡½æ•°é—´çš„ä¼ æ’­ï¼šä¸€ç§æ˜¯ä½¿ç”¨&lt;code&gt;Box&amp;lt;dyn std::error::Error&amp;gt;&lt;/code&gt;æ¥ç”¨trait objectæ¥ä»£è¡¨æ‰€æœ‰ç±»å‹çš„é”™è¯¯ï¼›å¦ä¸€ç§æ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„&lt;code&gt;enum&lt;/code&gt;æ¥è£…æ‰€æœ‰çš„é”™è¯¯ã€‚&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;p&gt;ä¸»è¦å‚è€ƒï¼š&lt;a href=\&#34;https://rustcc.cn/article?id=75dbd87c-df1c-4000-a243-46afc8513074\&#34;&gt;ç»†è¯´Rusté”™è¯¯å¤„ç†&lt;/a&gt; å’Œ &lt;a href=\&#34;https://kaisery.github.io/trpl-zh-cn/ch09-02-recoverable-errors-with-result.html\&#34;&gt;Result ä¸å¯æ¢å¤çš„é”™è¯¯&lt;/a&gt;.&lt;/p&gt;\n&lt;h1 id=\&#34;tl-dr\&#34;&gt;TL; DR&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;Box&amp;lt;dyn std::error::Error&amp;gt;&lt;/code&gt; é€šå¸¸ç”¨åœ¨ä¸å¯¹é”™è¯¯è¿›è¡Œæ¢å¤çš„æ—¶å€™ã€‚ï¼ˆä¸å®¹æ˜“æ£€æµ‹åˆ°é”™è¯¯ç±»å‹ï¼‰&lt;/li&gt;\n&lt;li&gt;è‡ªå®šä¹‰ä¸€ä¸ª&lt;code&gt;enum&lt;/code&gt;é€šå¸¸ç”¨åœ¨éœ€è¦å¯¹é”™è¯¯è¿›è¡Œæ¢å¤çš„æ—¶å€™ã€‚ï¼ˆå®¹æ˜“æ£€æµ‹ç±»å‹ï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;boxdyn-error-æ–¹å¼æ¥èšåˆerror\&#34;&gt;&lt;code&gt;Box&amp;lt;dyn Error&amp;gt;&lt;/code&gt; æ–¹å¼æ¥èšåˆError&lt;/h1&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;fn do_something() -&amp;gt; std::result::Result&amp;lt;(),Box&amp;lt;dyn std::error::Error&amp;gt;&amp;gt;{\n    let path = &amp;quot;./dat&amp;quot;;\n    let v = std::fs::read_to_string(path)?;\n    let x = std::str::from_utf8(v.as_bytes())?;\n    let u = x.parse::&amp;lt;u32&amp;gt;()?;\n    println!(&amp;quot;num:{:?}&amp;quot;,u);\n    Ok(())\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä¸‰è€…åˆ†åˆ«è¿”å›ä¸åŒçš„é”™è¯¯ç±»å‹ï¼Œä½†æ˜¯éƒ½å¯ä»¥ç”¨&lt;code&gt;Box&amp;lt;dyn std::error::Error&amp;gt;&lt;/code&gt;æ¥è£…ã€‚&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼š æ–¹ä¾¿ä¹¦å†™ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼š åœ¨ä¼ é€’åè¯¥Resultåï¼Œè¯¥trait object å¯¹åº”çš„å®é™…çš„é”™è¯¯ç±»å‹éš¾ä»¥ç¡®å®šï¼Œåº”è¯¥éœ€è¦ç”¨â€œ&lt;strong&gt;åå°„&lt;/strong&gt;â€( &lt;code&gt;Any&lt;/code&gt; trait)æ‰èƒ½å¤Ÿç¡®å®šã€‚è€Œä¸èƒ½ç›´æ¥matchã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;åˆ©ç”¨-enum-æ¥èšåˆerror\&#34;&gt;åˆ©ç”¨ &lt;code&gt;enum&lt;/code&gt; æ¥èšåˆError&lt;/h1&gt;\n&lt;blockquote&gt;\n&lt;p&gt;å†…å®¹æ¥è‡ª&lt;a href=\&#34;https://rustcc.cn/article?id=75dbd87c-df1c-4000-a243-46afc8513074\&#34;&gt;ç»†è¯´Rusté”™è¯¯å¤„ç†&lt;/a&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;è‡ªå®šä¹‰ä¸€ä¸ª&lt;code&gt;error&lt;/code&gt;éœ€è¦å®ç°å¦‚ä¸‹å‡ æ­¥ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;æ‰‹åŠ¨å®ç°impl &lt;code&gt;std::fmt::Display&lt;/code&gt;çš„trait,å¹¶&lt;strong&gt;å®ç°&lt;/strong&gt; &lt;code&gt;fmt(...)&lt;/code&gt;æ–¹æ³•ã€‚&lt;/li&gt;\n&lt;li&gt;æ‰‹åŠ¨å®ç°impl &lt;code&gt;std::fmt::Debug&lt;/code&gt;çš„&lt;code&gt;trait&lt;/code&gt;ï¼Œä¸€èˆ¬ç›´æ¥æ·»åŠ æ³¨è§£å³å¯ï¼š&lt;code&gt;#[derive(Debug)]&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;æ‰‹åŠ¨å®ç°impl &lt;code&gt;std::error::Error&lt;/code&gt;çš„&lt;code&gt;trait&lt;/code&gt;,å¹¶æ ¹æ®è‡ªèº«&lt;code&gt;error&lt;/code&gt;çº§åˆ«æ˜¯å¦&lt;strong&gt;è¦†ç›–&lt;/strong&gt;&lt;code&gt;std::error::Error&lt;/code&gt;ä¸­çš„&lt;code&gt;source()&lt;/code&gt;æ–¹æ³•ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;ä¸‹é¢çš„å†…å®¹ä¸­ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;CustomError&lt;/code&gt;ä¸ºæˆ‘ä»¬å®ç°çš„&lt;strong&gt;è‡ªå®šä¹‰Error&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;CustomError&lt;/code&gt;æœ‰ä¸‰ä¸ª&lt;strong&gt;å­ç±»å‹Error&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;CustomError&lt;/code&gt;åˆ†åˆ«å®ç°äº†ä¸‰ä¸ª&lt;strong&gt;å­ç±»å‹Error&lt;/strong&gt; &lt;code&gt;From&lt;/code&gt;çš„trait,å°†å…¶ç±»å‹åŒ…è£…ä¸º&lt;strong&gt;è‡ªå®šä¹‰Error&lt;/strong&gt;çš„å­ç±»å‹&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;å¥½äº†ï¼Œæœ‰äº†è‡ªå®šä¹‰çš„&lt;code&gt;CustomError&lt;/code&gt;ï¼Œé‚£æ€ä¹ˆä½¿ç”¨å‘¢? æˆ‘ä»¬çœ‹ä»£ç ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;use std::io::Error as IoError;\nuse std::str::Utf8Error;\nuse std::num::ParseIntError;\nuse std::fmt::{Display, Formatter};\n\n\nfn main() -&amp;gt; std::result::Result&amp;lt;(),CustomError&amp;gt;{\n    let path = &amp;quot;./dat&amp;quot;;\n    let v = read_file(path)?;\n    let x = to_utf8(v.as_bytes())?;\n    let u = to_u32(x)?;\n    println!(&amp;quot;num:{:?}&amp;quot;,u);\n    Ok(())\n}\n\n///è¯»å–æ–‡ä»¶å†…å®¹\nfn read_file(path: &amp;amp;str) -&amp;gt; std::result::Result&amp;lt;String, std::io::Error&amp;gt; {\n    std::fs::read_to_string(path)\n}\n\n/// è½¬æ¢ä¸ºutf8å†…å®¹\nfn to_utf8(v: &amp;amp;[u8]) -&amp;gt; std::result::Result&amp;lt;&amp;amp;str, std::str::Utf8Error&amp;gt; {\n    std::str::from_utf8(v)\n}\n\n/// è½¬åŒ–ä¸ºu32æ•°å­—\nfn to_u32(v: &amp;amp;str) -&amp;gt; std::result::Result&amp;lt;u32, std::num::ParseIntError&amp;gt; {\n    v.parse::&amp;lt;u32&amp;gt;()\n}\n\n\n#[derive(Debug)]\nenum CustomError {\n    ParseIntError(std::num::ParseIntError),\n    Utf8Error(std::str::Utf8Error),\n    IoError(std::io::Error),\n}\nimpl std::error::Error for CustomError{\n    fn source(&amp;amp;self) -&amp;gt; Option&amp;lt;&amp;amp;(dyn std::error::Error + &#39;static)&amp;gt; {\n        match &amp;amp;self {\n            CustomError::IoError(ref e) =&amp;gt; Some(e),\n            CustomError::Utf8Error(ref e) =&amp;gt; Some(e),\n            CustomError::ParseIntError(ref e) =&amp;gt; Some(e),\n        }\n    }\n}\n\nimpl Display for CustomError{\n    fn fmt(&amp;amp;self, f: &amp;amp;mut Formatter&amp;lt;&#39;_&amp;gt;) -&amp;gt; std::fmt::Result {\n        match &amp;amp;self {\n            CustomError::IoError(ref e) =&amp;gt; e.fmt(f),\n            CustomError::Utf8Error(ref e) =&amp;gt; e.fmt(f),\n            CustomError::ParseIntError(ref e) =&amp;gt; e.fmt(f),\n        }\n    }\n}\n\nimpl From&amp;lt;ParseIntError&amp;gt; for CustomError {\n    fn from(s: std::num::ParseIntError) -&amp;gt; Self {\n        CustomError::ParseIntError(s)\n    }\n}\n\nimpl From&amp;lt;IoError&amp;gt; for CustomError {\n    fn from(s: std::io::Error) -&amp;gt; Self {\n        CustomError::IoError(s)\n    }\n}\n\nimpl From&amp;lt;Utf8Error&amp;gt; for CustomError {\n    fn from(s: std::str::Utf8Error) -&amp;gt; Self {\n        CustomError::Utf8Error(s)\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;rust-cuo-wu-chu-li-zhong-duo-lei-xing-error-chu-li-fang-shi&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;æœ‰ä¸¤ç§æ–¹å¼æ¥èšåˆå¤šç§ç±»å‹çš„Erroræ¥è¿›è¡Œå‡½æ•°é—´çš„ä¼ æ’­ï¼šä¸€ç§æ˜¯ä½¿ç”¨&lt;code&gt;Box&amp;lt;dyn std::error::Error&amp;gt;&lt;/code&gt;æ¥ç”¨trait objectæ¥ä»£è¡¨æ‰€æœ‰ç±»å‹çš„é”™è¯¯ï¼›å¦ä¸€ç§æ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„&lt;code&gt;enum&lt;/code&gt;æ¥è£…æ‰€æœ‰çš„é”™è¯¯ã€‚&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;Rust é”™è¯¯å¤„ç†ä¸­å¤šç§ç±»å‹Errorä¼ æ’­çš„å¤„ç†æ–¹å¼&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;é”™è¯¯å¤„ç†&#34;,&#34;slug&#34;:&#34;OScMf4N1R&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/OScMf4N1R/&#34;},{&#34;name&#34;:&#34;trait object&#34;,&#34;slug&#34;:&#34;hOKrnhyJkT&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/hOKrnhyJkT/&#34;},{&#34;name&#34;:&#34;rust&#34;,&#34;slug&#34;:&#34;PUCwH47Rx&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/PUCwH47Rx/&#34;}],&#34;date&#34;:&#34;2020-12-01 15:27:56&#34;,&#34;dateFormat&#34;:&#34;2020-12-01&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/rust-cuo-wu-chu-li-zhong-duo-lei-xing-error-chu-li-fang-shi/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:216000,&#34;words&#34;:741,&#34;minutes&#34;:4},&#34;description&#34;:&#34;æœ‰ä¸¤ç§æ–¹å¼æ¥èšåˆå¤šç§ç±»å‹çš„Erroræ¥è¿›è¡Œå‡½æ•°é—´çš„ä¼ æ’­ï¼šä¸€ç§æ˜¯ä½¿ç”¨Box&amp;lt;dyn std::error::Error&amp;gt;æ¥ç”¨trait objectæ¥ä»£è¡¨æ‰€æœ‰ç±»å‹çš„é”™è¯¯ï¼›å¦ä¸€ç§æ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„enumæ¥è£…æ‰€æœ‰çš„é”™è¯¯ã€‚\n\nä¸»è¦å‚è€ƒï¼šç»†...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#tl-dr\&#34;&gt;TL; DR&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#boxdyn-error-%E6%96%B9%E5%BC%8F%E6%9D%A5%E8%81%9A%E5%90%88error\&#34;&gt;&lt;code&gt;Box&amp;lt;dyn Error&amp;gt;&lt;/code&gt; æ–¹å¼æ¥èšåˆError&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%A9%E7%94%A8-enum-%E6%9D%A5%E8%81%9A%E5%90%88error\&#34;&gt;åˆ©ç”¨ &lt;code&gt;enum&lt;/code&gt; æ¥èšåˆError&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;åŸºäº&lt;a href=\&#34;https://cfsamson.github.io/books-futures-explained/0_background_information.html#callback-based-approaches\&#34;&gt;Futures Explained in 200 Lines of Rust&lt;/a&gt;æ–‡ä¸­çš„å›è°ƒä»£ç ã€‚&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;h1 id=\&#34;åŸä½œè€…çš„ä¸€äº›åˆ†æ\&#34;&gt;åŸä½œè€…çš„ä¸€äº›åˆ†æ&lt;/h1&gt;\n&lt;p&gt;åŸºäºå›è°ƒæ–¹æ³•èƒŒåçš„æ•´ä¸ªæ€æƒ³æ˜¯ä¿å­˜ä¸€ä¸ªæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘ä¸€ç»„æˆ‘ä»¬å¸Œæœ›ç¨åè¿è¡Œçš„ä¸€ç³»åˆ—æŒ‡ä»¤ï¼Œä»¥åŠéœ€è¦çš„å„ç§çŠ¶æ€ã€‚åœ¨Rustï¼Œè¿™(&lt;strong&gt;æŒ‡é’ˆ&lt;/strong&gt;)å°†æ˜¯ä¸€ä¸ªé—­åŒ…ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†æ­¤ä¿¡æ¯ä¿å­˜åœ¨ä¸€ä¸ªHashMapä¸­ï¼Œä½†è¿™ä¸æ˜¯å”¯ä¸€çš„é€‰é¡¹ã€‚&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿ï¼š&lt;/strong&gt;\n&lt;ul&gt;\n&lt;li&gt;æ˜“äºåœ¨å¤§å¤šæ•°è¯­è¨€ä¸­å®ç°&lt;/li&gt;\n&lt;li&gt;æ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢&lt;/li&gt;\n&lt;li&gt;ç›¸å¯¹è¾ƒä½çš„å†…å­˜å¼€é”€(åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹)&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹ï¼š&lt;/strong&gt;\n&lt;ul&gt;\n&lt;li&gt;ç”±äºæ¯ä¸ªä»»åŠ¡éƒ½å¿…é¡»ä¿å­˜ä»¥åéœ€è¦çš„çŠ¶æ€ï¼Œå› æ­¤å†…å­˜ä½¿ç”¨å°†éšç€è®¡ç®—é“¾ä¸­çš„å›è°ƒæ¬¡æ•°çº¿æ€§å¢é•¿ã€‚&lt;/li&gt;\n&lt;li&gt;å¾ˆéš¾ç†è§£ã€‚è®¸å¤šäººå·²ç»çŸ¥é“è¿™æ˜¯â€œå›è°ƒåœ°ç‹±â€ã€‚&lt;/li&gt;\n&lt;li&gt;è¿™æ˜¯ä¸€ç§éå¸¸ä¸åŒçš„ç¼–å†™ç¨‹åºçš„æ–¹å¼ï¼Œå¹¶ä¸”éœ€è¦å¤§é‡é‡å†™æ‰èƒ½ä»â€œæ­£å¸¸â€çš„ç¨‹åºæµè½¬æ¢ä¸ºä½¿ç”¨â€œåŸºäºå›è°ƒâ€çš„ç¨‹åºæµã€‚&lt;/li&gt;\n&lt;li&gt;ç”±äºRustçš„æ‰€æœ‰æƒæ¨¡å‹ï¼Œä»»åŠ¡ä¹‹é—´çš„çŠ¶æ€å…±äº«åœ¨ä½¿ç”¨è¯¥æ–¹æ³•æ—¶æ˜¯ä¸€ä¸ªå›°éš¾çš„é—®é¢˜ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;ä»£ç \&#34;&gt;ä»£ç &lt;/h1&gt;\n&lt;p&gt;é€šè¿‡ä»£ç ï¼Œå­¦ä¹ åˆ°äº†ä¸€äº›æ–°ä¸œè¥¿ï¼Œä¸»è¦åŒ…æ‹¬ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;thread_local!&lt;/code&gt; ï¼šç”¨æ¥å¯¹æ¯ä¸€ä¸ªçº¿ç¨‹åˆå§‹åŒ–åŒä¸€ä¸ªå˜é‡çš„ä¸€ä¸ªæ–°çš„å‰¯æœ¬ã€‚&lt;/li&gt;\n&lt;li&gt;trait å¯¹è±¡ï¼š &lt;code&gt;Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt;&lt;/code&gt;,  &lt;code&gt;dyn Trait&lt;/code&gt;è¡¨ç¤ºä¸€ä¸ªç±»å‹ï¼Œå¼ºè°ƒæ˜¯åŠ¨æ€åˆ†å‘ï¼Œå¹¶ä¸”å¿…é¡»æ˜¯ä¸€ä¸ª&lt;code&gt;impl&lt;/code&gt;äº†&lt;code&gt;Trait&lt;/code&gt;çš„ç±»å‹ã€‚&lt;/li&gt;\n&lt;li&gt;ä¼ é€’é—­åŒ…å¯ä»¥ä½¿ç”¨&lt;code&gt;impl Trait&lt;/code&gt;ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªç±»å‹ï¼Œå¹¶ä¸”è¯¥ç±»å‹æ˜¯&lt;code&gt;impl&lt;/code&gt;äº†&lt;code&gt;Trait&lt;/code&gt;çš„ç±»å‹ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;thread::spawn&lt;/code&gt;ä¼šç›´æ¥æ–°å¼€ä¸€ä¸ªå­çº¿ç¨‹è¿è¡Œï¼Œä¸ä¼šé€ æˆä¸»çº¿ç¨‹é˜»å¡ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;std::sync::mpsc::Receiver.iter()&lt;/code&gt; è¿™æ˜¯ä¸€ä¸ªé˜»å¡çš„è¿­ä»£å™¨ï¼Œåªæœ‰å½“senderéƒ½è¢«dropçš„æ—¶å€™ï¼Œè¯¥è¿­ä»£å™¨çš„&lt;code&gt;.next()&lt;/code&gt; æ‰ä¼šå˜æˆ&lt;code&gt;None&lt;/code&gt;ï¼Œå¦åˆ™ä¼šä¸€ç›´ç­‰å¾…ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;blockquote&gt;\n&lt;p&gt;å›è°ƒæ˜¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸Šè¿è¡Œçš„ã€‚ è¿™ä¸ªä¾‹å­ä¸­,æˆ‘ä»¬åˆ›å»ºçš„å­çº¿ç¨‹åŸºæœ¬ä¸Šåªæ˜¯ç”¨ä½œè®¡æ—¶å™¨ï¼Œä½†å¯ä»¥è¡¨ç¤ºä»»ä½•ç±»å‹çš„æˆ‘ä»¬å°†ä¸å¾—ä¸ç­‰å¾…çš„èµ„æºã€‚&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;\nfn program_main() {\n    // ç¬¬ä¸€ä¸ªè¾“å‡º\n    println!(&amp;quot;So we start the program here!&amp;quot;);\n    // è¿è¡Œåˆ°è¿™å„¿çš„æ—¶å€™ï¼Œ 0ms\n    // 1ã€æŠŠé—­åŒ…é‡Œçš„ä»»åŠ¡æ”¾åœ¨callbacksä¸­ï¼Œnext_id(æ­¤æ—¶ä¸º1)ä½œä¸ºkeyï¼Œé—­åŒ…ä½œä¸ºvalï¼Œ next_id é€’å¢ã€‚\n    // 2ã€ä¼šæœ‰ä¸€ä¸ªå­çº¿ç¨‹åœ¨set_timeouté‡Œé¢è¢«åˆ›å»ºï¼Œåªè´Ÿè´£å»¶æ—¶ã€‚è¿è¡Œæ—¶å€™ä¸ä¼šè¢«è¯¥è´Ÿè´£å»¶æ—¶å­çº¿ç¨‹é˜»å¡\n    set_timeout(200, || {\n        // ç¬¬äº”ä¸ªè¾“å‡º\n        println!(&amp;quot;We create tasks with a callback that runs once the task finished!&amp;quot;);\n    });\n    // è¿è¡Œåˆ°è¿™å„¿çš„æ—¶å€™ï¼Œ ä»ç„¶æ˜¯0ms\n    // 1ã€æŠŠé—­åŒ…é‡Œçš„ä»»åŠ¡æ”¾åœ¨callbacksä¸­ï¼Œnext_id(æ­¤æ—¶ä¸º2)ä½œä¸ºkeyï¼Œé—­åŒ…ä½œä¸ºvalï¼Œ next_id é€’å¢ã€‚\n    // 2ã€ä¼šæœ‰ä¸€ä¸ªå­çº¿ç¨‹åœ¨set_timeouté‡Œé¢è¢«åˆ›å»ºï¼Œåªè´Ÿè´£å»¶æ—¶ã€‚è¿è¡Œæ—¶å€™ä¸ä¼šè¢«è¯¥è´Ÿè´£å»¶æ—¶å­çº¿ç¨‹é˜»å¡\n    set_timeout(100, || {\n        // ç¬¬ä¸‰ä¸ªè¾“å‡º\n        println!(&amp;quot;We can even chain sub-tasks...&amp;quot;);\n        set_timeout(50, || {\n            // ç¬¬å››ä¸ªè¾“å‡º\n            println!(&amp;quot;...like this!&amp;quot;);\n        })\n    });\n    // è¿è¡Œåˆ°è¿™å„¿çš„æ—¶å€™ï¼Œ ä»ç„¶æ˜¯0ms\n    // ç¬¬äºŒä¸ªè¾“å‡º\n    println!(&amp;quot;While our tasks are executing we can do other stuff instead of waiting.&amp;quot;);\n}\n\nfn main() {\n    RT.with(|rt| rt.run(program_main));\n}\n\nuse std::sync::mpsc::{channel, Receiver, Sender};\nuse std::{cell::RefCell, collections::HashMap, thread};\n\n\n// threadlocal: å˜é‡æ˜¯åŒä¸€ä¸ªï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½ä½¿ç”¨åŒä¸€ä¸ªåˆå§‹å€¼ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨åŒä¸€ä¸ªå˜é‡çš„ä¸€ä¸ªæ–°çš„å‰¯æœ¬\n// æ¯ä¸ªçº¿ç¨‹éƒ½å®ä¾‹åŒ–äº†ä¸€ä¸ªRuntimeï¼Œ å®é™…ä¸ŠRTæ˜¯ä¸€ä¸ªRT: std::thread::LocalKey&amp;lt;Runtime&amp;gt;\n// è¿™å„¿å¥½åƒåªç”¨åˆ°äº†ä¸€ä¸ªå‰¯æœ¬\nthread_local! {\n    static RT: Runtime = Runtime::new();\n}\n\nstruct Runtime {\n    // callbacks ä¸­çš„Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt; æ˜¯ä¸€ä¸ª trait å¯¹è±¡ã€‚ \n    // æ¯ä¸€ä¸ªé—­åŒ…å®ä¾‹æœ‰å…¶è‡ªå·±ç‹¬æœ‰çš„åŒ¿åç±»å‹, é—­åŒ…æœ‰trait boundï¼Œæ¯”å¦‚ Fn(u32) -&amp;gt; u32ã€‚ \n    // callbacks ç”¨æ¥å­˜ä¸‹ä¸€ä¸ªè¿è¡Œçš„ç¨‹åºå—ï¼ˆè¿™é‡Œç”¨é—­åŒ…æ¥è¡¨ç¤ºï¼‰ã€‚\n    callbacks: RefCell&amp;lt;HashMap&amp;lt;usize, Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt;&amp;gt;&amp;gt;,\n    // å‚¨å­˜ä¸‹ä¸€ä¸ªé—­åŒ…çš„id\n    next_id: RefCell&amp;lt;usize&amp;gt;,\n    // æ¯ä¸€ä¸ªç­‰å¾…å­çº¿ç¨‹æ‹¥æœ‰ä¸€ä¸ªï¼Œåœ¨å»¶æ—¶ç»“æŸåï¼Œå‘é€éœ€è¦è¿è¡Œçš„id\n    evt_sender: Sender&amp;lt;usize&amp;gt;,\n    // æ¥å—ä¸‹ä¸€ä¸ªè¯¥è¿è¡Œçš„é—­åŒ…çš„id\n    evt_reciever: Receiver&amp;lt;usize&amp;gt;,\n}\n\n// cb æ˜¯ä¼ é€’çš„æ˜¯ä¸€ä¸ªé—­åŒ…,The other use of the impl keyword is in impl Trait syntax, which can be seen as a shorthand for &amp;quot;a concrete type that implements this trait&amp;quot;. \n// Its primary use is working with closures, which have type definitions generated at compile time that can&#39;t be simply typed out.\n// ä¼ é€’é—­åŒ…æ—¶å€™ç”¨impl Traitã€‚è¡¨ç¤ºä¸€ä¸ªã€ç±»å‹ã€‘ï¼Œè¿™ä¸ªç±»å‹implements äº†è¿™ä¸ªtrait\n// https://kaisery.github.io/trpl-zh-cn/ch10-02-traits.html\nfn set_timeout(ms: u64, cb: impl FnOnce() + &#39;static) {\n    // with æ–¹æ³•æ˜¯ åœ¨ std::thread::local::LocalKey ä¸­æœ‰çš„ï¼Œä¹Ÿå°±æ˜¯ RT æœ‰çš„ ã€‚\n    // è·å–å¯¹è¿™ä¸ªTLSé”®ä¸­çš„å€¼çš„å¼•ç”¨ã€‚å¦‚æœè¿™ä¸ªçº¿ç¨‹è¿˜æ²¡æœ‰å¼•ç”¨è¿™ä¸ªé”®ï¼Œè¿™å°†å»¶è¿Ÿåˆå§‹åŒ–è¿™ä¸ªå€¼ã€‚\n    // ç›¸å½“äºç”¨.with()å°±æ˜¯åœ¨ä½¿ç”¨è¯¥å˜é‡çš„å‡½æ•°ã€‚\n    RT.with(|rt| {\n        let id = *rt.next_id.borrow();\n        // next_idé€’å¢\n        *rt.next_id.borrow_mut() += 1;\n        // callbackså­˜ (id: usize, Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt;)\n        // ä¸ºä»€ä¹ˆéœ€è¦ Box::new(cb) è¿™æ ·å­çš„å‘€, å› ä¸ºè¾“å…¥çš„ç±»å‹æœªçŸ¥\n        // cb åœ¨è¾“å…¥å‚æ•°ä¸­ç”¨çš„impl FnOnce() + &#39;static æ¥é™å®šã€‚\n        rt.callbacks.borrow_mut().insert(id, Box::new(cb));\n        // The sending-half of Rust&#39;s asynchronous channel type. \n        // This half can only be owned by one thread, but it can be cloned to send to other threads.\n        // ä¸€ä¸ªsenderåªèƒ½å¤Ÿç”¨åœ¨ä¸€ä¸ªçº¿ç¨‹é‡Œé¢ï¼Œä½†æ˜¯å¯ä»¥å…‹éš†åˆ°å…¶ä»–çº¿ç¨‹ä¸­ï¼Œæ­¤æ—¶receiverè¿˜æ˜¯åªæœ‰ä¸€ä¸ª\n        let evt_sender = rt.evt_sender.clone();\n        // thread::spawnä¼šç›´æ¥æ–°å¼€ä¸€ä¸ªå­çº¿ç¨‹è¿è¡Œï¼Œä¸ä¼šé€ æˆä¸»çº¿ç¨‹é˜»å¡ã€‚åŠŸèƒ½æ˜¯ä¼‘çœ åå†æŠŠidè¾“å‡ºå‡ºå»\n        thread::spawn(move || {\n            thread::sleep(std::time::Duration::from_millis(ms));\n            // åœ¨å»¶æ—¶ç»“æŸåï¼Œå‘é€å½“å‰å»¶æ—¶ç»“æŸçš„ä»»åŠ¡id\n            evt_sender.send(id).unwrap();\n        });\n    });\n}\n\n\nimpl Runtime {\n    fn new() -&amp;gt; Self {\n        // è¿™æ˜¯ä¸€ä¸ªasynchronous channelï¼Œ æ¯ä¸ªçº¿ç¨‹é‡Œé¢éƒ½æœ‰ä¸€ä¸ªsenderå’Œreceiver\n        let (evt_sender, evt_reciever) = channel();\n        Runtime {\n            callbacks: RefCell::new(HashMap::new()),\n            next_id: RefCell::new(1),\n            evt_sender,\n            evt_reciever,\n        }\n    }\n\n    // è¿™å„¿æ˜¯åœ¨è¿è¡Œä¸€ä¸ªå‡½æ•°.\n    fn run(&amp;amp;self, program: fn()) {\n        // ç›´æ¥è¿è¡Œï¼Œ \n        program();\n        // 0ms è¿è¡Œåˆ°è¿™å„¿\n        // è¿è¡Œç»“æŸåï¼Œå¼€å§‹é€ä¸ªè®¿é—®Runtime é‡Œé¢çš„ä¼‘çœ å­çº¿ç¨‹è¿”å›çš„ å¯¹åº”idçš„å€¼ã€‚\n        // This iterator will block whenever next is called, waiting for a new message, and None will be returned when the corresponding channel has hung up.\n        // è¿™æ˜¯ä¸€ä¸ªé˜»å¡çš„æ–¹æ³•ï¼Œåªæœ‰å½“senderéƒ½è¢«dropçš„æ—¶å€™ï¼Œè¯¥è¿­ä»£å™¨çš„.next() æ‰ä¼šå˜æˆNone\n        for evt_id in &amp;amp;self.evt_reciever {\n            // è¿™å„¿ç›´æ¥ä»HashMapé‡Œremoveå‡ºå¯¹åº”ç¼–å·çš„é—­åŒ…ã€‚\n            let cb = self.callbacks.borrow_mut().remove(&amp;amp;evt_id).unwrap();\n            cb();\n            // æ˜¯ä¸æ˜¯ä¹Ÿä¸éœ€è¦è¿™å¥è¯ï¼Ÿ\n            // ã€ä¸è¡Œï¼ã€‘: å› ä¸ºåœ¨Runtimeé‡Œé¢ä¸€ä¸ªsenderï¼Œä¸ä¼šè¢«dropæ‰ï¼Œå°±ä¼šé™·å…¥æ— é™ç­‰å¾…äº†\n            if self.callbacks.borrow().is_empty() {\n                break;\n            }\n        }\n    }\n}\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;æ€»ç»“\&#34;&gt;æ€»ç»“&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;å¦‚æœç”¨åŸºäºå›è°ƒçš„æ–¹æ³•æ¥è¯´Rustå¼‚æ­¥ç¼–ç¨‹ä¸­çš„å”±æ­Œè·³èˆä¾‹å­ï¼Œ ä¹Ÿå°±æ˜¯ï¼Œâ€œè®¡æ—¶å™¨â€ä»£è¡¨çš„â€œç­‰å¾…èµ„æºâ€ï¼Œç­‰ä»·äº â€œå”±æ­Œâ€å‰ç­‰å¾…&amp;quot;å­¦æ­Œ&amp;quot;ã€‚æ‰€ä»¥ï¼Œåœ¨å›è°ƒé€»è¾‘ä¸­ &lt;code&gt;sing_song()&lt;/code&gt;ä½œä¸ºé—­åŒ…ï¼Œ &lt;code&gt;learn_song()&lt;/code&gt; ä½œä¸ºå­çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹è¿è¡Œ&lt;code&gt;dance()&lt;/code&gt; ã€‚å­çº¿ç¨‹ç»“æŸåå†è¿è¡Œè¿™ä¸ªé—­åŒ…ã€‚è¿è¡Œé¡ºåºæ˜¯ &lt;code&gt;learn_song()&lt;/code&gt; ï¼ˆå­çº¿ç¨‹ï¼‰å’Œ &lt;code&gt;dance()&lt;/code&gt;  ï¼ˆä¸»çº¿ç¨‹ï¼‰åŒæ—¶è¿è¡Œï¼Œåœ¨ä¸¤ä¸ªä»»åŠ¡å‡å®Œæˆåï¼Œ å†å›è°ƒ&lt;code&gt;sing_song()&lt;/code&gt;è¿™ä¸ªé—­åŒ…ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å­çº¿ç¨‹&lt;/strong&gt;å¯¹åº” &lt;strong&gt;â€œç­‰å¾…èµ„æºâ€&lt;/strong&gt; ï¼› &lt;strong&gt;é—­åŒ…&lt;/strong&gt;å¯¹åº”â€œ&lt;strong&gt;æ¥æ”¶åˆ°ç­‰å¾…èµ„æºåçš„æ“ä½œâ€&lt;/strong&gt;ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;async fn learn_and_sing() {\n    // åœ¨å”±æ­Œä¹‹å‰ç­‰å¾…å­¦æ­Œå®Œæˆ\n    // è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ `.await` è€Œä¸æ˜¯ `block_on` æ¥é˜²æ­¢é˜»å¡çº¿ç¨‹ï¼Œè¿™æ ·å°±å¯ä»¥åŒæ—¶æ‰§è¡Œ `dance` äº†ã€‚\n    let song = learn_song().await;\n    sing_song(song).await;\n}\n async fn async_main() {\n    let f1 = learn_and_sing();\n    let f2 = dance();\n     // `join!` ç±»ä¼¼äº `.await` ï¼Œä½†æ˜¯å¯ä»¥ç­‰å¾…å¤šä¸ª future å¹¶å‘å®Œæˆ\n     // å¦‚æœå­¦æ­Œçš„æ—¶å€™æœ‰äº†çŸ­æš‚çš„é˜»å¡ï¼Œè·³èˆå°†ä¼šæ¥ç®¡å½“å‰çš„çº¿ç¨‹ï¼Œå¦‚æœè·³èˆå˜æˆäº†é˜»å¡\n     // å­¦æ­Œå°†ä¼šè¿”å›æ¥æ¥ç®¡çº¿ç¨‹ã€‚å¦‚æœä¸¤ä¸ªfutureséƒ½æ˜¯é˜»å¡çš„ï¼Œ\n     // è¿™ä¸ªâ€˜async_main&#39;å‡½æ•°å°±ä¼šå˜æˆé˜»å¡çŠ¶æ€ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæ‰§è¡Œå™¨\n    futures::join!(f1, f2)\n}\n fn main() {\n    block_on(async_main());\n}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;rust-ji-yu-hui-diao-de-yi-bu-fang-fa-fen-xi_&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;åŸºäº&lt;a href=\&#34;https://cfsamson.github.io/books-futures-explained/0_background_information.html#callback-based-approaches\&#34;&gt;Futures Explained in 200 Lines of Rust&lt;/a&gt;æ–‡ä¸­çš„å›è°ƒä»£ç ã€‚&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;Rust åŸºäºå›è°ƒçš„å¼‚æ­¥æ–¹æ³•åˆ†æ&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;å›è°ƒ&#34;,&#34;slug&#34;:&#34;dccFuZ2yD&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/dccFuZ2yD/&#34;},{&#34;name&#34;:&#34;rust&#34;,&#34;slug&#34;:&#34;PUCwH47Rx&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/PUCwH47Rx/&#34;},{&#34;name&#34;:&#34;å¼‚æ­¥ç¼–ç¨‹&#34;,&#34;slug&#34;:&#34;hDYBWTXHUV&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/hDYBWTXHUV/&#34;}],&#34;date&#34;:&#34;2020-11-30 16:57:43&#34;,&#34;dateFormat&#34;:&#34;2020-11-30&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/rust-ji-yu-hui-diao-de-yi-bu-fang-fa-fen-xi_/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;8 min read&#34;,&#34;time&#34;:474000,&#34;words&#34;:1926,&#34;minutes&#34;:8},&#34;description&#34;:&#34;åŸºäºFutures Explained in 200 Lines of Rustæ–‡ä¸­çš„å›è°ƒä»£ç ã€‚\n\nåŸä½œè€…çš„ä¸€äº›åˆ†æ\nåŸºäºå›è°ƒæ–¹æ³•èƒŒåçš„æ•´ä¸ªæ€æƒ³æ˜¯ä¿å­˜ä¸€ä¸ªæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘ä¸€ç»„æˆ‘ä»¬å¸Œæœ›ç¨åè¿è¡Œçš„ä¸€ç³»åˆ—æŒ‡ä»¤ï¼Œä»¥åŠéœ€è¦çš„å„ç§çŠ¶æ€ã€‚åœ¨Rustï¼Œè¿™(...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8E%9F%E4%BD%9C%E8%80%85%E7%9A%84%E4%B8%80%E4%BA%9B%E5%88%86%E6%9E%90\&#34;&gt;åŸä½œè€…çš„ä¸€äº›åˆ†æ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BB%A3%E7%A0%81\&#34;&gt;ä»£ç &lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%80%BB%E7%BB%93\&#34;&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;å¯¹äºconst æ³›å‹ï¼Œç¬”è€…ä¹Ÿäº†è§£ç”šå°‘ã€‚å€Ÿå†™è¯¥æ–‡ç« çš„æœºä¼šï¼Œå­¦ä¹ ä¸€ä¸‹Rustçš„const æ³›å‹(Const Generics)&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;h2 id=\&#34;const_unit_poc-åˆ©ç”¨const-genericså®ç°çš„ç‰©ç†å•ä½åº“\&#34;&gt;&lt;code&gt;const_unit_poc&lt;/code&gt; ï¼šåˆ©ç”¨const genericså®ç°çš„ç‰©ç†å•ä½åº“&lt;/h2&gt;\n&lt;p&gt;&lt;code&gt;const_unit_poc&lt;/code&gt;  æ˜¯å‡ å¤©å‰æ¨å‡ºçš„ï¼Œç‡å…ˆä½¿ç”¨const æ³›å‹çš„åº“ã€‚è¯¥åº“çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;#![feature(const_generics, const_evaluatable_checked)]\nuse const_unit_poc::values::{m, kg, s, N};\n\nlet distance = 1.0 * m;\nlet mass = 18.0 * kg;\nlet force = distance * mass / (1.8 * s * 2.0 * s);\nassert_eq!(force, 5.0 * N);\n\nlet mut mutable_distance = 3.2 * m;\nmutable_distance -= 0.2 * m;\nmutable_distance += 2.0 * m;\n\nassert_eq!(mutable_distance, 5.0 * m);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ä»£ç åŠå…¶ç®€ä¾¿ï¼æ˜“æ‡‚ï¼éå¸¸ç¥å¥‡ï¼æ‰€ä»¥å°±æ ¹æ®è¯¥åº“çš„æºä»£ç çœ‹çœ‹const æ³›å‹è¯¥å¦‚ä½•ä½¿ç”¨ã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;const_unit_poc-æºç åˆ†æ\&#34;&gt;&lt;code&gt;const_unit_poc&lt;/code&gt; æºç åˆ†æ&lt;/h2&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs\&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;#![feature(const_generics, const_evaluatable_checked, doc_cfg)]\n#![allow(incomplete_features)]\n#![cfg_attr(feature = &amp;quot;non_ascii&amp;quot;, feature(non_ascii_idents))]\n\nuse std::ops;\n\npub mod units;\npub mod values;\n\n#[derive(Copy, Clone, Debug, PartialEq, Eq)]\n#[allow(non_snake_case)]\npub struct SiUnit {\n    m: i8,\n    kg: i8,\n    s: i8,\n    A: i8,\n    K: i8,\n    mol: i8,\n    cd: i8,\n}\n\n// åé¢è¿˜æœ‰å†…å®¹\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿™é‡Œå¼•å…¥äº†&lt;code&gt;units&lt;/code&gt;, &lt;code&gt;values&lt;/code&gt;ä¸¤ä¸ªmodï¼Œå¹¶ä¸”å£°æ˜äº†&lt;code&gt;SiUnit&lt;/code&gt; è¿™ä¸ªç»“æ„ä½“ï¼Œé‡Œé¢çš„æˆå‘˜æ˜¯SIçš„7ä¸ªæ ‡å‡†å•ä½ï¼Œ ç±»å‹ä¸ºi8ã€‚&lt;/p&gt;\n&lt;p&gt;çœ‹åˆ°è¿™å„¿ï¼Œç¬”è€…æ¨æµ‹åº”è¯¥æ˜¯ä½¿ç”¨ &lt;code&gt;SiUnit&lt;/code&gt; è¿™ä¸ªç»“æ„ä½“æ¥å®ä¾‹åŒ–å„ç§å¸¸ç”¨çš„å•ä½ï¼ˆå¦‚&lt;span class=\&#34;katex\&#34;&gt;&lt;span class=\&#34;katex-mathml\&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=\&#34;application/x-tex\&#34;&gt;N&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=\&#34;katex-html\&#34; aria-hidden=\&#34;true\&#34;&gt;&lt;span class=\&#34;base\&#34;&gt;&lt;span class=\&#34;strut\&#34; style=\&#34;height:0.68333em;vertical-align:0em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mord mathdefault\&#34; style=\&#34;margin-right:0.10903em;\&#34;&gt;N&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼‰ï¼Œå…¶ä¸­æˆå‘˜çš„å€¼è¡¨ç¤ºè¯¥å•ä½è¡¨ç¤ºæˆåŸºæœ¬å•ä½åçš„æŒ‡æ•°çš„å€¼ï¼ˆå¦‚&lt;span class=\&#34;katex\&#34;&gt;&lt;span class=\&#34;katex-mathml\&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mrow&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=\&#34;application/x-tex\&#34;&gt;N=m*s^{-2}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=\&#34;katex-html\&#34; aria-hidden=\&#34;true\&#34;&gt;&lt;span class=\&#34;base\&#34;&gt;&lt;span class=\&#34;strut\&#34; style=\&#34;height:0.68333em;vertical-align:0em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mord mathdefault\&#34; style=\&#34;margin-right:0.10903em;\&#34;&gt;N&lt;/span&gt;&lt;span class=\&#34;mspace\&#34; style=\&#34;margin-right:0.2777777777777778em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mrel\&#34;&gt;=&lt;/span&gt;&lt;span class=\&#34;mspace\&#34; style=\&#34;margin-right:0.2777777777777778em;\&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=\&#34;base\&#34;&gt;&lt;span class=\&#34;strut\&#34; style=\&#34;height:0.46528em;vertical-align:0em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mord mathdefault\&#34;&gt;m&lt;/span&gt;&lt;span class=\&#34;mspace\&#34; style=\&#34;margin-right:0.2222222222222222em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mbin\&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=\&#34;mspace\&#34; style=\&#34;margin-right:0.2222222222222222em;\&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=\&#34;base\&#34;&gt;&lt;span class=\&#34;strut\&#34; style=\&#34;height:0.8141079999999999em;vertical-align:0em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mord\&#34;&gt;&lt;span class=\&#34;mord mathdefault\&#34;&gt;s&lt;/span&gt;&lt;span class=\&#34;msupsub\&#34;&gt;&lt;span class=\&#34;vlist-t\&#34;&gt;&lt;span class=\&#34;vlist-r\&#34;&gt;&lt;span class=\&#34;vlist\&#34; style=\&#34;height:0.8141079999999999em;\&#34;&gt;&lt;span style=\&#34;top:-3.063em;margin-right:0.05em;\&#34;&gt;&lt;span class=\&#34;pstrut\&#34; style=\&#34;height:2.7em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;sizing reset-size6 size3 mtight\&#34;&gt;&lt;span class=\&#34;mord mtight\&#34;&gt;&lt;span class=\&#34;mord mtight\&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=\&#34;mord mtight\&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ åˆ™&lt;code&gt;N.m == 1; N.s == -2&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;\n&lt;p&gt;å†çœ‹ä¸€ä¸‹å¼•å…¥çš„æ¨¡å—&lt;code&gt;units&lt;/code&gt;çš„å†…å®¹&lt;/p&gt;\n&lt;h3 id=\&#34;unitsçš„å®ç°\&#34;&gt;unitsçš„å®ç°&lt;/h3&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/units.rs\&#34;&gt;&lt;code&gt;./src/units.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;#![allow(non_upper_case_globals)]\nuse super::SiUnit;\nconst NONE: SiUnit = SiUnit { m: 0, kg: 0, s: 0, A: 0, K: 0, mol: 0, cd: 0 };\n/// meter\npub const m: SiUnit = SiUnit { m: 1, ..NONE };\n/// ä¸­é—´å†…å®¹çœç•¥\n/// lux\npub const lx: SiUnit = SiUnit { m: -2, cd: 1, ..NONE };\n/// square meter\npub const sq_m: SiUnit = SiUnit { m: 2, ..NONE };\n/// cubic meter\npub const cu_m: SiUnit = SiUnit { m: 3, ..NONE };\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;çš„ç¡®å’ŒçŒœæƒ³ä¸€è‡´ï¼æ³¨æ„ç»“æ„ä½“å®ä¾‹åŒ–æ—¶å€™è¿™å„¿ä½¿ç”¨äº†&lt;code&gt;..NONE&lt;/code&gt;ï¼Œè¿™æ˜¯ç”¨å·²ç»åˆ›å»ºçš„å®ä¾‹Noneä¸Š&lt;strong&gt;æ›´æ–°éƒ¨åˆ†å‚æ•°&lt;/strong&gt;ï¼Œåˆ›å»ºæ–°çš„å®ä¾‹ï¼Œè§&lt;a href=\&#34;https://kaisery.github.io/trpl-zh-cn/ch05-01-defining-structs.html#%E4%BD%BF%E7%94%A8%E7%BB%93%E6%9E%84%E4%BD%93%E6%9B%B4%E6%96%B0%E8%AF%AD%E6%B3%95%E4%BB%8E%E5%85%B6%E4%BB%96%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B\&#34;&gt;ä½¿ç”¨ç»“æ„ä½“æ›´æ–°è¯­æ³•ä»å…¶ä»–å®ä¾‹åˆ›å»ºå®ä¾‹&lt;/a&gt;ã€‚è¿™å„¿ä½¿ç”¨äº†constä½¿å¾—å„ä¸ªå•ä½å…¨å±€å¯è§ä¸”ä¸å¯å˜ã€‚&lt;/p&gt;\n&lt;p&gt;ç°åœ¨å·²ç»æœ‰äº†å•ä½ï¼Œä½†æ˜¯æˆ‘ä»¬æ³¨æ„åˆ°ä»£ç ä¸­&lt;code&gt;assert_eq!(mutable_distance, 5.0 * m);&lt;/code&gt;ä¸ä»…ä»…è¦æ£€æµ‹å•ä½çš„å€¼ï¼Œè¿˜è¦æ£€æµ‹ç³»æ•°çš„å€¼ï¼Œç»“æ„ä½“ä¸æ•°å­—ç›¸ä¹˜ååˆè¯¥å¦‚ä½•è¡¨ç¤ºå‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜åº”è¯¥èƒ½å¤Ÿä»å¦ä¸€ä¸ªæ¨¡å—å¾—åˆ°ç­”æ¡ˆå§ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;å¯¹å•ä½ç³»æ•°çš„åŒ…è£…\&#34;&gt;å¯¹å•ä½ç³»æ•°çš„åŒ…è£…&lt;/h3&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/values.rs\&#34;&gt;&lt;code&gt;./src/values.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;#![allow(non_upper_case_globals)]\nuse crate::{units, Quantity};\n// base\n/// 1 meter\npub const m: Quantity&amp;lt;{ units::m }&amp;gt; = Quantity { raw_value: 1.0 };\n/// 1 kilogram\npub const kg: Quantity&amp;lt;{ units::kg }&amp;gt; = Quantity { raw_value: 1.0 };\n/// 1 second\npub const s: Quantity&amp;lt;{ units::s }&amp;gt; = Quantity { raw_value: 1.0 };\n/// åé¢è¿˜æœ‰\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼š&lt;code&gt;use crate::{units, Quantity}&lt;/code&gt;, ä»£è¡¨çš„æ˜¯å¯¼å…¥çš„å½“å‰&lt;code&gt;crate&lt;/code&gt;ä¸­çš„&lt;code&gt;units&lt;/code&gt;å’Œ&lt;code&gt;Quantity&lt;/code&gt;ã€‚&lt;br&gt;\n&lt;strong&gt;const æ³›å‹&lt;/strong&gt;: ä»è¿™å„¿çš„å¯ä»¥å¤§æ¦‚å¯ä»¥çœ‹å‡ºï¼Œ&lt;code&gt;Quantity&lt;/code&gt;çš„æ³›å‹å‚æ•°æ˜¯ä¸€ä¸ªconstå¸¸é‡ï¼ŒåŒ…è£…æ¯ä¸€ä¸ª&lt;code&gt;units.rs&lt;/code&gt;ä¸­çš„constå¸¸é‡å€¼ã€‚è¿™å°±æ˜¯const genericså§! åé¢çš„å®ä¾‹åŒ–æ ¹æ®ç±»å‹æ¨å¯¼åº”è¯¥åˆå¯ä»¥å†™åšï¼š&lt;code&gt;Quantity&amp;lt;{ units::m }&amp;gt; { raw_value: 1.0 }&lt;/code&gt;ã€‚ æ‰€ä»¥æ˜¯ç”¨&lt;code&gt;raw_value&lt;/code&gt;æ¥è¡¨ç¤ºæ¯ä¸€ä¸ªå•ä½çš„ç³»æ•°ã€‚&lt;/p&gt;\n&lt;p&gt;æ‰€ä»¥å†æ¥çœ‹çœ‹&lt;code&gt;Quantity&lt;/code&gt;çš„å®šä¹‰å§ã€‚&lt;/p&gt;\n&lt;p&gt;###ç»“æ„ä½“ &lt;code&gt;Quantity&lt;/code&gt;çš„å®šä¹‰&lt;/p&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs\&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;#[derive(Copy, Clone, Debug, PartialEq, PartialOrd)]\n#[repr(transparent)]\npub struct Quantity&amp;lt;const U: SiUnit&amp;gt; {\n    pub raw_value: f64,\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ç®€å•å¹²è„†çš„ä½¿ç”¨const ç±»å‹ä½œä¸ºæ³›å‹å‚æ•°ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;åŠ å‡è¿ç®—\&#34;&gt;åŠ å‡è¿ç®—&lt;/h3&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs\&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;impl&amp;lt;const U: SiUnit&amp;gt; ops::Add for Quantity&amp;lt;U&amp;gt; {\n    type Output = Self;\n\n    fn add(self, rhs: Self) -&amp;gt; Self {\n        Self { raw_value: self.raw_value + rhs.raw_value }\n    }\n}\n\nimpl&amp;lt;const U: SiUnit&amp;gt; ops::AddAssign for Quantity&amp;lt;U&amp;gt; {\n    fn add_assign(&amp;amp;mut self, rhs: Self) {\n        self.raw_value += rhs.raw_value;\n    }\n}\n\nimpl&amp;lt;const U: SiUnit&amp;gt; ops::Sub for Quantity&amp;lt;U&amp;gt; {\n    type Output = Self;\n\n    fn sub(self, rhs: Self) -&amp;gt; Self {\n        Self { raw_value: self.raw_value - rhs.raw_value }\n    }\n}\n\nimpl&amp;lt;const U: SiUnit&amp;gt; ops::SubAssign for Quantity&amp;lt;U&amp;gt; {\n    fn sub_assign(&amp;amp;mut self, rhs: Self) {\n        self.raw_value -= rhs.raw_value;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ç”±äºåŠ å‡è¿ç®—å¹¶ä¸ä¼šå˜å•ä½ï¼Œæ‰€ä»¥å°±æ˜¯å¯¹ç³»æ•°çš„åŠ å‡ï¼Œéå¸¸ç›´æ¥ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;ä¹˜é™¤è¿ç®—\&#34;&gt;ä¹˜é™¤è¿ç®—&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;ä¸€ä¸ªæ•°å­—ä¸ä¸€ä¸ªQuantityç›¸ä¹˜ï¼Œå•ä½ä¸å˜ï¼š&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs\&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;impl&amp;lt;const U: SiUnit&amp;gt; ops::Mul&amp;lt;f64&amp;gt; for Quantity&amp;lt;U&amp;gt; {\n    type Output = Quantity&amp;lt;U&amp;gt;;\n\n    fn mul(self, rhs: f64) -&amp;gt; Self::Output {\n        Quantity { raw_value: self.raw_value * rhs }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;ä¸¤ä¸ªå¸¦å•ä½çš„é‡ç›¸ä¹˜ï¼Œå•ä½å‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;Quantity&amp;lt;U&amp;gt;&lt;/code&gt;çš„æ³›å‹å‚æ•°å‘ç”Ÿäº†å˜åŒ–ï¼Œæ­¤æ—¶éœ€è¦é‡æ–°å®ä¾‹åŒ–ä¸€ä¸ª&lt;code&gt;Quantity&amp;lt;U&amp;gt;&lt;/code&gt;ç»“æ„ä½“ï¼š&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs\&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;// Quantityç›¸ä¹˜è½¬æ¢ä¸ºunitç›¸ä¹˜ï¼ŒUL.unit_mul(UR)\nimpl&amp;lt;const UL: SiUnit, const UR: SiUnit&amp;gt; ops::Mul&amp;lt;Quantity&amp;lt;UR&amp;gt;&amp;gt; for Quantity&amp;lt;UL&amp;gt;\nwhere\n    Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;: ,\n{\n    type Output = Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;;\n\n    fn mul(self, rhs: Quantity&amp;lt;UR&amp;gt;) -&amp;gt; Self::Output {\n        Quantity { raw_value: self.raw_value * rhs.raw_value }\n    }\n}\n// unitç›¸ä¹˜\nimpl SiUnit {\n    const fn unit_mul(self, rhs: Self) -&amp;gt; Self {\n        Self {\n            m: self.m + rhs.m,\n            kg: self.kg + rhs.kg,\n            s: self.s + rhs.s,\n            A: self.A + rhs.A,\n            K: self.K + rhs.K,\n            mol: self.mol + rhs.mol,\n            cd: self.cd + rhs.cd,\n        }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;è¿™å„¿å¯¹æ³›å‹çš„çº¦æŸå¾ˆç¥å¥‡ï¼Œç«Ÿç„¶æ˜¯è¿™æ ·å†™&lt;code&gt;Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;:&lt;/code&gt; ï¼Œå¦‚æœå»æ‰è¿™ä¸ªwhereï¼Œåˆ™ä¼šæŠ¥é”™unconstrained generic constantã€‚è™½ç„¶ç°åœ¨è¿˜ä¸æ‡‚æ˜¯ä»€ä¹ˆæ„æ€....&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code&gt;error: unconstrained generic constant\n   --&amp;gt; src\\lib.rs:156:5\n    |\n156 |     type Output = Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;;     \n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^     \n    |\nhelp: consider adding a `where` bound for this expression  \n   --&amp;gt; src\\lib.rs:156:28\n    |\n156 |     type Output = Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;;     \n    |                            ^^^^^^^^^^^^^^^^^^^     \n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;å¦å¤–ä¸€ç‚¹ï¼Œæ³›å‹ä¸­çš„constæ˜¯è°ƒç”¨ä¸€ä¸ªconst fnå¾—åˆ°çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æ‰“å¤§æ‹¬å·ï¼Œå¦‚ï¼š&lt;code&gt;Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;&lt;/code&gt; ï¼Œå¦åˆ™ä¹Ÿä¼šå‡ºé”™ã€‚è¿™åœ¨æœ€è¿‘çš„&lt;a href=\&#34;https://github.com/rust-lang/rust/pull/79135\&#34;&gt;Stabilization report&lt;/a&gt;é‡Œé¢ä¹Ÿæœ‰æåˆ°ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;Const arguments&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Const parameters are instantiated using const arguments. Any concrete const expression or const parameter as a standalone argument can be used. When applying an expression as const parameter, &lt;strong&gt;most expressions must be contained within a block&lt;/strong&gt;, with two exceptions:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;literals and single-segment path expressions&lt;/li&gt;\n&lt;li&gt;array lengths&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;This syntactic restriction is necessary to avoid ambiguity, or requiring infinite lookahead when parsing an expression as a generic argument.&lt;/p&gt;\n&lt;p&gt;In the cases where a generic argument could be resolved as either a type or const argument, we always interpret it as a type. This causes the following test to fail:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;type N = u32;\nstruct Foo&amp;lt;const N: usize&amp;gt;;\nfn foo&amp;lt;const N: usize&amp;gt;() -&amp;gt; Foo&amp;lt;N&amp;gt; { todo!() } // ERR\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;To circumvent this, the user may wrap the const parameter with braces, at which point it is unambiguously accepted.&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;type N = u32;\nstruct Foo&amp;lt;const N: usize&amp;gt;;\nfn bar&amp;lt;const N: usize&amp;gt;() -&amp;gt; Foo&amp;lt;{ N }&amp;gt; { todo!() } // ok\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;ç®€å•æ¥è¯´ï¼Œconst æ³›å‹ä¸€èˆ¬éƒ½éœ€è¦æ‰“å¤§æ‹¬å·(ä¸¤ç§æƒ…å†µé™¤å¤–)ï¼Œæ‰“å¤§æ‹¬å·æ˜¯ä¸ºäº†é˜²æ­¢æ­§ä¹‰ã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;æ€»ç»“\&#34;&gt;æ€»ç»“&lt;/h2&gt;\n&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯äº†è§£äº†const æ³›å‹åœ¨åšå•¥ï¼Œä»¥åŠå¦‚ä½•åšçš„ã€‚&lt;/p&gt;\n&lt;p&gt;é€šè¿‡è¿™ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘æ„Ÿè§‰const æ³›å‹æ˜¯ç”¨åœ¨å½“æ³›å‹éœ€è¦æœ‰å–å€¼çš„æ—¶å€™ï¼ˆæ¯”å¦‚è¿™é‡Œçš„unitå°±éœ€è¦å–å€¼ï¼Œè€Œä¸èƒ½æ¯ä¸€ä¸ªå•ä½ä¸€ä¸ªç±»å‹...ï¼‰ã€‚&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;rust-const-fan-xing-const-genericsde-shi-yong-fang-fa-jie-xi-const_unit_poc_&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;å¯¹äºconst æ³›å‹ï¼Œç¬”è€…ä¹Ÿäº†è§£ç”šå°‘ã€‚å€Ÿå†™è¯¥æ–‡ç« çš„æœºä¼šï¼Œå­¦ä¹ ä¸€ä¸‹Rustçš„const æ³›å‹(Const Generics)&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;Rust const æ³›å‹ (Const Generics)çš„ä½¿ç”¨æ–¹æ³•ï¼šè§£æconst_unit_poc&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;const&#34;,&#34;slug&#34;:&#34;Op9tNmAIW&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/Op9tNmAIW/&#34;},{&#34;name&#34;:&#34;æ³›å‹&#34;,&#34;slug&#34;:&#34;BCk2FVrJcy&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/BCk2FVrJcy/&#34;},{&#34;name&#34;:&#34;rust&#34;,&#34;slug&#34;:&#34;PUCwH47Rx&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/PUCwH47Rx/&#34;}],&#34;date&#34;:&#34;2020-11-23 20:15:59&#34;,&#34;dateFormat&#34;:&#34;2020-11-23&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/rust-const-fan-xing-const-genericsde-shi-yong-fang-fa-jie-xi-const_unit_poc_/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;8 min read&#34;,&#34;time&#34;:460000,&#34;words&#34;:1592,&#34;minutes&#34;:8},&#34;description&#34;:&#34;å¯¹äºconst æ³›å‹ï¼Œç¬”è€…ä¹Ÿäº†è§£ç”šå°‘ã€‚å€Ÿå†™è¯¥æ–‡ç« çš„æœºä¼šï¼Œå­¦ä¹ ä¸€ä¸‹Rustçš„const æ³›å‹(Const Generics)\n\nconst_unit_poc ï¼šåˆ©ç”¨const genericså®ç°çš„ç‰©ç†å•ä½åº“\nconst_unit_poc  ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#const_unit_poc-%E5%88%A9%E7%94%A8const-generics%E5%AE%9E%E7%8E%B0%E7%9A%84%E7%89%A9%E7%90%86%E5%8D%95%E4%BD%8D%E5%BA%93\&#34;&gt;&lt;code&gt;const_unit_poc&lt;/code&gt; ï¼šåˆ©ç”¨const genericså®ç°çš„ç‰©ç†å•ä½åº“&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#const_unit_poc-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90\&#34;&gt;&lt;code&gt;const_unit_poc&lt;/code&gt; æºç åˆ†æ&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#units%E7%9A%84%E5%AE%9E%E7%8E%B0\&#34;&gt;unitsçš„å®ç°&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AF%B9%E5%8D%95%E4%BD%8D%E7%B3%BB%E6%95%B0%E7%9A%84%E5%8C%85%E8%A3%85\&#34;&gt;å¯¹å•ä½ç³»æ•°çš„åŒ…è£…&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8A%A0%E5%87%8F%E8%BF%90%E7%AE%97\&#34;&gt;åŠ å‡è¿ç®—&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B9%98%E9%99%A4%E8%BF%90%E7%AE%97\&#34;&gt;ä¹˜é™¤è¿ç®—&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%80%BB%E7%BB%93\&#34;&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;å‰ä¸€æ®µæ—¶é—´çœ‹äº†ä¸€äº›å…³äºRustçš„å¼‚æ­¥ç¼–ç¨‹ç›¸å…³çš„çŸ¥è¯†ï¼Œå—ç›ŠåŒªæµ…ï¼Œæ•…åšæ­¤è®°å½•ã€‚&lt;br&gt;\nRustå¼‚æ­¥ç¼–ç¨‹æ˜¯Rustè¯­è¨€ä¸­ååˆ†é‡è¦ç‰¹æ€§ã€‚ç°åœ¨Rustä¸­çš„å¼‚æ­¥ç¼–ç¨‹é‡‡ç”¨&lt;code&gt;async/.await&lt;/code&gt;è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;h1 id=\&#34;1-ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ç¼–ç¨‹\&#34;&gt;1. ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ç¼–ç¨‹ï¼Ÿ&lt;/h1&gt;\n&lt;p&gt;åˆšå¼€å§‹ä¸€ç›´æœ‰ä¸€ä¸ªç–‘é—®ï¼š&lt;strong&gt;æ—¢ç„¶å·²ç»æœ‰äº†å¤šçº¿ç¨‹æŠ€æœ¯ï¼Œå¤šç”¨æˆ·è®¿é—®ç›´æ¥ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å¼‚æ­¥å‘¢ï¼Ÿ&lt;/strong&gt; åæ¥ç»ˆäºæ˜ç™½ï¼Œå¼‚æ­¥æ˜¯ç”¨åœ¨å¤šç”¨æˆ·&lt;strong&gt;åŒæ—¶å¤„ç†åŒä¸€èµ„æº&lt;/strong&gt;æ—¶å€™å‘æŒ¥ä½œç”¨çš„ã€‚&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;ç°åœ¨ç”¨100ä¸ªç”¨æˆ·åŒæ—¶ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶æ¥ä¸¾ä¾‹ï¼š\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;åŒæ­¥&lt;/strong&gt;(ä¸€èˆ¬ä¹Ÿæ˜¯&lt;strong&gt;é˜»å¡&lt;/strong&gt;)ï¼š ç¨‹åºéœ€è¦å®ç°&lt;strong&gt;è¯»å†™é”(&lt;code&gt;std::sync::RwLock&lt;/code&gt;)&lt;strong&gt;æˆ–&lt;/strong&gt;äº’æ–¥é”(&lt;code&gt;std::sync::Mutex&lt;/code&gt;)&lt;/strong&gt;ï¼Œç¨‹åºä¼šåŒæ—¶äº§ç”Ÿ100ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‹¥æœ‰å†™é”ï¼Œå…¶ä»–çš„99ä¸ªçº¿ç¨‹å‡&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;å¤„äº&lt;strong&gt;ç­‰å¾…çŠ¶æ€&lt;/strong&gt;ï¼Œçº¿ç¨‹ä¸ä¼šsleepï¼Œä¼šå¾ªç¯è·å–é”(è‡ªæ—‹é”Spinlock)ã€‚\n&lt;ul&gt;\n&lt;li&gt;é˜»å¡çš„çº¿ç¨‹è¿˜æ¥å‚ä¸æ“ä½œç³»ç»Ÿçš„æŠ¢å å¼è°ƒåº¦ï¼Œå¾ˆä¸ç§‘å­¦ï¼ä¸ºä»€ä¹ˆä¸å…ˆæ’å¥½é˜Ÿï¼Œç”¨ä¸€ä¸ªçº¿ç¨‹å‘¢ï¼ˆè¿™ä¹Ÿæ˜¯åç¨‹å¹²çš„äº‹ï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;æˆ–è€…æœ‰èµ·å§‹çš„&lt;strong&gt;åŠ é”å¼€é”€&lt;/strong&gt;(é€šå¸¸æ˜¯å¯¹äº’æ–¥é”ï¼šâ‘ çº¿ç¨‹ä¼šä»sleepï¼ˆåŠ é”ï¼‰â€”â€”&amp;gt;runningï¼ˆè§£é”ï¼‰ï¼Œè¿‡ç¨‹ä¸­æœ‰ä¸Šä¸‹æ–‡çš„åˆ‡æ¢ï¼Œcpuçš„æŠ¢å ï¼Œä¿¡å·çš„å‘é€ç­‰å¼€é”€ï¼›â‘¡äº’æ–¥é”åœ¨sleepæ—¶ä¼šé™·å…¥åˆ°å†…æ ¸æ€ï¼Œéœ€è¦æ˜‚è´µçš„ç³»ç»Ÿè°ƒç”¨ï¼›çº¿ç¨‹å‘æ“ä½œç³»ç»Ÿè¯·æ±‚è¢«æŒ‚èµ·æ˜¯é€šè¿‡ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œåœ¨linuxä¸Šçš„å®ç°å°±æ˜¯futex)ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;å¼‚æ­¥&lt;/strong&gt;(ä¸€èˆ¬ä¹Ÿæ˜¯&lt;strong&gt;éé˜»å¡&lt;/strong&gt;)ï¼š å°†100ä¸ªçº¿ç¨‹æ ¹æ®ä¸€å®šçš„å…ˆåæ¬¡åº&lt;strong&gt;åˆå¹¶æˆä¸€ä¸ªçº¿ç¨‹&lt;/strong&gt;(ä¹Ÿå¯èƒ½æ˜¯å¤šä¸ªçº¿ç¨‹ï¼Ÿ)ï¼Œ å°±å¯ä»¥é¿å…é”çš„äº§ç”Ÿï¼Œä»è€Œå‡å°‘æ“ä½œç³»ç»Ÿå¯¹çº¿ç¨‹è°ƒç”¨çš„å¼€é”€ã€‚ä½†æ˜¯ï¼Œå½“çº¿ç¨‹ä¹‹é—´å¯¹èµ„æºçš„ä¾èµ–å…³ç³»æ¯”è¾ƒå¤æ‚çš„æ—¶å€™ï¼Œç¨‹åºçš„ç¼–å†™å°±ä¼š&lt;strong&gt;ååˆ†å¤æ‚&lt;/strong&gt;ã€‚&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;åç¨‹&lt;/strong&gt;(coroutine)ï¼š å®ç°å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§æ–¹å¼ï¼Œæ˜¯åœ¨çº¿ç¨‹ä¹‹ä¸‹çš„ä¸€ä¸ªå•ä½ã€‚åç¨‹æ˜¯è¯­è¨€å±‚é¢æ§åˆ¶æ•°æ®æµçš„ä¸€ç§â€œè°ƒåº¦â€ï¼ˆå¤„ç†å…¬å…±èµ„æºçš„æ—¶å€™ï¼Œç›¸å½“äº&lt;strong&gt;ç”¨æˆ·æ€çš„é”&lt;/strong&gt;ï¼‰ï¼Œ çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿå±‚é¢çš„â€œè°ƒåº¦â€ï¼ˆå¤„ç†å…¬å…±èµ„æºï¼Œä½¿ç”¨&lt;strong&gt;æ“ä½œç³»ç»Ÿæˆ–è€…ç¡¬ä»¶çš„é”(å³Mutexæˆ–è€…Spinlock)&lt;/strong&gt;ï¼‰ã€‚åç¨‹çš„è°ƒåº¦æ˜¯ç¼–è¯‘å™¨é€šè¿‡ç»„ç»‡è¿ç®—é¡ºåºå®ç°çš„ï¼ˆé€šè¿‡ç”Ÿæˆå™¨ï¼ˆç­‰åŒäºä¸€ä¸ªçŠ¶æ€æœºï¼‰å®ç°ï¼‰ï¼Œçº¿ç¨‹æ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿæ¥è¿›è¡ŒæŠ¢å å¼è°ƒåº¦çš„ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;https://zh.wikipedia.org/wiki/%E5%8D%8F%E7%A8%8B\&#34;&gt;åç¨‹wiki&lt;/a&gt;ï¼šåç¨‹éå¸¸ç±»ä¼¼äºçº¿ç¨‹ã€‚ä½†æ˜¯åç¨‹æ˜¯åä½œå¼å¤šä»»åŠ¡çš„ï¼Œè€Œçº¿ç¨‹å…¸å‹æ˜¯æŠ¢å å¼å¤šä»»åŠ¡çš„ã€‚è¿™æ„å‘³ç€åç¨‹æä¾›å¹¶å‘æ€§è€Œéå¹¶è¡Œæ€§ã€‚åç¨‹è¶…è¿‡çº¿ç¨‹çš„å¥½å¤„æ˜¯å®ƒä»¬å¯ä»¥ç”¨äºç¡¬æ€§å®æ—¶çš„è¯­å¢ƒï¼ˆåœ¨åç¨‹ä¹‹é—´çš„åˆ‡æ¢ä¸éœ€è¦æ¶‰åŠä»»ä½•ç³»ç»Ÿè°ƒç”¨æˆ–ä»»ä½•é˜»å¡è°ƒç”¨ï¼‰ï¼Œè¿™é‡Œä¸éœ€è¦ç”¨æ¥å®ˆå«å…³é”®åŒºå—çš„åŒæ­¥æ€§åŸè¯­ï¼ˆprimitiveï¼‰æ¯”å¦‚äº’æ–¥é”ã€ä¿¡å·é‡ç­‰ï¼Œå¹¶ä¸”ä¸éœ€è¦æ¥è‡ªæ“ä½œç³»ç»Ÿçš„æ”¯æŒã€‚&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;https://www.zhihu.com/question/332113890/answer/1052024052\&#34;&gt;äº’æ–¥é”ï¼ˆmutexï¼‰çš„åº•å±‚åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;https://www.zhihu.com/question/50185085/answer/1342613525\&#34;&gt;å‡ºäºä»€ä¹ˆæ ·çš„åŸå› ï¼Œè¯ç”Ÿäº†ã€Œåç¨‹ã€è¿™ä¸€æ¦‚å¿µï¼Ÿ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;æ‰€ä»¥ï¼Œå¼‚æ­¥ç¼–ç¨‹æ˜¯å¯ä»¥ç›´æ¥ç”¨å¤æ‚çš„ä»£ç ç»“æ„ç›´æ¥å†™å‡ºæ¥çš„ã€‚æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­å°±æ˜¯åœ¨ä¸€ä¸ªçº¿ç¨‹é‡Œé¢å»ä¾æ¬¡è¯»å†™100æ¬¡ã€‚è€ŒRustçš„&lt;code&gt;async/.await&lt;/code&gt;è§£å†³æ–¹æ¡ˆåšçš„å·¥ä½œæ˜¯ &lt;strong&gt;â€œå°†å¤æ‚çš„å¼‚æ­¥ä»£ç  ===&amp;gt; åˆ©ç”¨è¯­æ³•ç³– ===&amp;gt; è½¬åŒ–ä¸ºç±»ä¼¼äºåŒæ­¥çš„ä»£ç (æ›´å®¹æ˜“coding)â€&lt;/strong&gt;  å³ &lt;strong&gt;â€œç”¨åŒæ­¥çš„è¯­ä¹‰è§£å†³å¼‚æ­¥é—®é¢˜â€&lt;/strong&gt; ã€‚&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;rust-yi-bu&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;å‰ä¸€æ®µæ—¶é—´çœ‹äº†ä¸€äº›å…³äºRustçš„å¼‚æ­¥ç¼–ç¨‹ç›¸å…³çš„çŸ¥è¯†ï¼Œå—ç›ŠåŒªæµ…ï¼Œæ•…åšæ­¤è®°å½•ã€‚&lt;br&gt;\nRustå¼‚æ­¥ç¼–ç¨‹æ˜¯Rustè¯­è¨€ä¸­ååˆ†é‡è¦ç‰¹æ€§ã€‚ç°åœ¨Rustä¸­çš„å¼‚æ­¥ç¼–ç¨‹é‡‡ç”¨&lt;code&gt;async/.await&lt;/code&gt;è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34; Rust å¼‚æ­¥å¹¶å‘ï¼ˆä¸€ï¼‰&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;rust&#34;,&#34;slug&#34;:&#34;PUCwH47Rx&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/PUCwH47Rx/&#34;},{&#34;name&#34;:&#34;å¼‚æ­¥ç¼–ç¨‹&#34;,&#34;slug&#34;:&#34;hDYBWTXHUV&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/hDYBWTXHUV/&#34;}],&#34;date&#34;:&#34;2020-11-22 23:07:53&#34;,&#34;dateFormat&#34;:&#34;2020-11-22&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/rust-yi-bu/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:187000,&#34;words&#34;:907,&#34;minutes&#34;:4},&#34;description&#34;:&#34;å‰ä¸€æ®µæ—¶é—´çœ‹äº†ä¸€äº›å…³äºRustçš„å¼‚æ­¥ç¼–ç¨‹ç›¸å…³çš„çŸ¥è¯†ï¼Œå—ç›ŠåŒªæµ…ï¼Œæ•…åšæ­¤è®°å½•ã€‚\nRustå¼‚æ­¥ç¼–ç¨‹æ˜¯Rustè¯­è¨€ä¸­ååˆ†é‡è¦ç‰¹æ€§ã€‚ç°åœ¨Rustä¸­çš„å¼‚æ­¥ç¼–ç¨‹é‡‡ç”¨async/.awaitè§£å†³æ–¹æ¡ˆã€‚\n\n1. ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ç¼–ç¨‹ï¼Ÿ\nåˆšå¼€å§‹ä¸€ç›´æœ‰ä¸€ä¸ªç–‘é—®ï¼šæ—¢...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#1-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B\&#34;&gt;1. ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ç¼–ç¨‹ï¼Ÿ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;blockquote&gt;\n&lt;p&gt;æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;å…³äºæœ¬ç«™\&#34;&gt;ğŸ  å…³äºæœ¬ç«™&lt;/h2&gt;\n&lt;p&gt;ä¸€ä¸ªè‡ªè¯´è‡ªè¯çš„åœ°æ–¹ã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;åšä¸»æ˜¯è°\&#34;&gt;ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°&lt;/h2&gt;\n&lt;p&gt;ä¸€åªåœ¨æ¯•ä¸šè¾¹ç¼˜æŒ£æ‰çš„ç§ƒå¤´æ€ªã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;å…´è¶£çˆ±å¥½\&#34;&gt;â›¹ å…´è¶£çˆ±å¥½&lt;/h2&gt;\n&lt;p&gt;coding~&lt;br&gt;\nä»¥åŠä¸€åˆ‡æœ‰è¶£çš„äº‹æƒ…ä»¬~&lt;/p&gt;\n&lt;h2 id=\&#34;è”ç³»æˆ‘å‘€\&#34;&gt;ğŸ“¬ è”ç³»æˆ‘å‘€&lt;/h2&gt;\n&lt;p&gt;thubzy15@foxmail.com&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;about&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;å…³äº&#34;,&#34;tags&#34;:[],&#34;date&#34;:&#34;2020-11-22 17:21:05&#34;,&#34;dateFormat&#34;:&#34;2020-11-22&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/about/&#34;,&#34;hideInList&#34;:true,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:14000,&#34;words&#34;:67,&#34;minutes&#34;:1},&#34;description&#34;:&#34;\næ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤\n\nğŸ  å…³äºæœ¬ç«™\nä¸€ä¸ªè‡ªè¯´è‡ªè¯çš„åœ°æ–¹ã€‚\nğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°\nä¸€åªåœ¨æ¯•ä¸šè¾¹ç¼˜æŒ£æ‰çš„ç§ƒå¤´æ€ªã€‚\nâ›¹ å…´è¶£çˆ±å¥½\ncoding~\nä»¥åŠä¸€åˆ‡æœ‰è¶£çš„äº‹æƒ…ä»¬~\nğŸ“¬ è”ç³»æˆ‘å‘€\nthubzy15@foxmail.c...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99\&#34;&gt;ğŸ  å…³äºæœ¬ç«™&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8D%9A%E4%B8%BB%E6%98%AF%E8%B0%81\&#34;&gt;ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD\&#34;&gt;â›¹ å…´è¶£çˆ±å¥½&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%81%94%E7%B3%BB%E6%88%91%E5%91%80\&#34;&gt;ğŸ“¬ è”ç³»æˆ‘å‘€&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;ä»&lt;strong&gt;ä»Šå¤©&lt;/strong&gt;å¼€å§‹è®°å½•å­¦ä¹ å’Œç”Ÿæ´»ã€‚&lt;/p&gt;\n&lt;p&gt;æˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªæ‡’æƒ°çš„å°åšä¸»å•¦~ğŸ˜‹&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;2020112-yi-shi&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;2020.11.22 ä¼Šå§‹&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;éšä¾¿å†™å†™&#34;,&#34;slug&#34;:&#34;xMGkC-iLRF&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/xMGkC-iLRF/&#34;}],&#34;date&#34;:&#34;2020-11-22 16:45:04&#34;,&#34;dateFormat&#34;:&#34;2020-11-22&#34;,&#34;feature&#34;:&#34;https://Busy-Bob.github.io/post-images/2020112-yi-shi.jpg&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/2020112-yi-shi/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:4000,&#34;words&#34;:24,&#34;minutes&#34;:1},&#34;description&#34;:&#34;ä»ä»Šå¤©å¼€å§‹è®°å½•å­¦ä¹ å’Œç”Ÿæ´»ã€‚\næˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªæ‡’æƒ°çš„å°åšä¸»å•¦~ğŸ˜‹\n&#34;,&#34;toc&#34;:&#34;&#34;}]";
  // var json = escape.substr(1, escape.length - 2);
  // var datas = json.split(',');
  // for (let i=0; i < datas.length; i++) {
  //   let item = datas[i];
  //   let attrs = item.split('34;:&#34')
  //   debugger
  //   console.log(datas[i])
  // }
  let escapeMap = new Map();
  escapeMap.set('&#34;', '"');
  escapeMap.set('&gt;', '>');
  escapeMap.set('&#39;', "'");
  escapeMap.set('&lt;', '<');
  escapeMap.set('&quot;', '"');
  escapeMap.set('&amp;', '&');
</script> -->

<script src="/media/js/mouse/love.js"></script>


<script src=" /media/js/cool.js"></script>

</html>