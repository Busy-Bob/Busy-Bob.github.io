<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="Âã∫Êµ∑ÁöÑ‰∏™‰∫∫ÂçöÂÆ¢">
<meta name="description" content="Â∞ΩÂ∫îÂ∞Ω‰πã‰∫ãÔºåÂÅöËÆ©Ëá™Â∑±ÂºÄÂøÉÁöÑ‰∫ã„ÄÇ">
<meta name="theme-color" content="#000">
<title>Âã∫Êµ∑ÁöÑÂçöÂÆ¢</title>
<link rel="shortcut icon" href="/favicon.ico?v=1606737478065">
<link rel="stylesheet" href="/styles/main.css">
<link rel="stylesheet" href="/media/css/pisces.css">

<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/zenburn.css"
  rel="stylesheet">

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>

<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>



</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="pisces">
  <header class="header  ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>Âã∫Êµ∑ÁöÑÂçöÂÆ¢</span>
            </a>  
          
        </div>
        
          <p class="subtitle">Â∞ΩÂ∫îÂ∞Ω‰πã‰∫ãÔºåÂÅöËÆ©Ëá™Â∑±ÂºÄÂøÉÁöÑ‰∫ã„ÄÇ</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> È¶ñÈ°µ
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> ÊñáÁ´†
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item nav-item-active">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> Ê†áÁ≠æ
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/post/about/" target="_self">
                  <i class="fa fa-user"></i> ÂÖ≥‰∫é
                </a>
              
            </li>
          
          
            
              <li class="nav-item ">
                <a href="/friends/" target="_self">
                  
                    <i class="fa fa-address-book"></i> ÂèãÊÉÖÈìæÊé•
                  
                </a>
              </li>
            
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout  pisces">
      <div class="section-layout-wrapper">
        <div id="sidebarMeta" class="sidebar">
    
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">Âã∫Êµ∑</p>
    
    <div class="site-description right-motion">
      
        <p id="binft">Ê≤âËø∑‰∫éÁü•ËØÜÊú¨Ë∫´</p>
      
    </div>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">4</span>
        <span class="site-item-stat-name">ÊñáÁ´†</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">6</span>
        <span class="site-item-stat-name">ÂàÜÁ±ª</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">6</span>
        <span class="site-item-stat-name">Ê†áÁ≠æ</span>
      </a>
    </div>
  </div>
  
    
      <div class="sidebar-item">
        <span class="site-item-rss">
            <i class="fa fa-rss"></i>
            <a href="https://Busy-Bob.github.io/atom.xml" target="_blank">RSS</a>
        </span>
      </div>
    
  
  
    <div class="sidebar-item sidebar-item-social">
      <div class="social-item">
        
          
            <a href="https://github.com/Busy-Bob">
              <i class="fa fa-github-alt" title="github"></i>
            </a>
          
        
        
      </div>
    </div>
  


</div>
</div>
<script>
  let sidebarMeta = document.querySelector('#sidebarMeta');
  let scheme = 'pisces';
  let sidebarWrapper = document.querySelector('.sidebar-wrapper');
  if (sidebarMeta && (scheme === 'pisces' || scheme === 'gemini')) {
    document.addEventListener('scroll', function(e) {
      if (document.scrollingElement.scrollTop > parseInt(sidebarMeta.style.marginTop) + 10) {
        sidebarWrapper.classList.add('home-sidebar-fixed')
      } else {
        sidebarWrapper.classList.remove('home-sidebar-fixed')
      }
    });
  }
  </script>
        <div class="section-box box-shadow-wrapper">
          <section class="section tags-section bg-color posts-expand">
            <div class="tags-box">
  <div class="tag-cloud-title">
    ÁõÆÂâçÂÖ±ËÆ° 6 ‰∏™Ê†áÁ≠æ
  </div>
  <div class="tag-cloud-list" id="tags">
    
      
      
        
          
            
      
        
          
        
          
        
          
        
      
        
          
        
          
        
      
        
      
        
          
        
      
      <a class="cloud-tag" href="https://Busy-Bob.github.io/tag/dccFuZ2yD/" rel="1">ÂõûË∞É</a>
    
      
      
        
          
        
          
            
      
        
          
        
          
        
          
            
      
        
          
            
      
        
      
        
          
        
      
      <a class="cloud-tag" href="https://Busy-Bob.github.io/tag/PUCwH47Rx/" rel="3">rust</a>
    
      
      
        
          
        
          
        
          
            
      
        
          
        
          
        
          
        
      
        
          
        
          
            
      
        
      
        
          
        
      
      <a class="cloud-tag" href="https://Busy-Bob.github.io/tag/hDYBWTXHUV/" rel="2">ÂºÇÊ≠•ÁºñÁ®ã</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
            
      
        
          
        
          
        
      
        
      
        
          
        
      
      <a class="cloud-tag" href="https://Busy-Bob.github.io/tag/Op9tNmAIW/" rel="1">const</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
        
          
            
      
        
          
        
          
        
      
        
      
        
          
        
      
      <a class="cloud-tag" href="https://Busy-Bob.github.io/tag/BCk2FVrJcy/" rel="1">Ê≥õÂûã</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
        
          
        
          
        
      
        
          
        
          
        
      
        
      
        
          
            
      
      <a class="cloud-tag" href="https://Busy-Bob.github.io/tag/xMGkC-iLRF/" rel="1">Èöè‰æøÂÜôÂÜô</a>
    
  </div>
</div>
<script>

  let fontStart = 12, fontEnd = 30, colorStart = '#666', colorEnd = '#000';
  let tags = document.querySelector('#tags').children;
  let counts = [];
  for(let i = 0; i < tags.length; i++) {
    counts.push(tags[i].rel);
  }
  let lowest = Math.min.apply(null,counts), highest = Math.max.apply(null,counts);;
  let range = highest - lowest;
  if (range === 0) {
    range = 1;
  }
  let fontIncr, colorIncr;
  fontIncr = (fontEnd - fontStart) / range;
  
  let sColorArr = toRGB(colorStart), eColorArr = toRGB(colorEnd);

  for(let i = 0; i < tags.length; i++) {
    let disCount = tags[i].rel - lowest;
    let fontSize = fontStart + disCount * fontIncr;
    let style = 'font-size: ' + fontSize + 'px;';
    let arr = [];
    for(let c = 0; c < sColorArr.length; c++) {
      if (disCount === 0) {
        disCount = 1;
      }
      let val = (sColorArr[c] - eColorArr[c]) / range * disCount;
      if (val >= 100) {
        val = eColorArr[c];
      } else if (val <= 0) {
        val = sColorArr[c];
      }
      arr[c] = Math.floor(val);
    }
    style += 'color: ' + toHex(arr);
    tags[i].style = style;
  }

  function toRGB(code) {
    if (code.length === 4) {
      code = code.replace(/(\w)(\w)(\w)/gi, "\$1\$1\$2\$2\$3\$3");
    }
    var hex = /(\w{2})(\w{2})(\w{2})/.exec(code);
    return [parseInt(hex[1], 16), parseInt(hex[2], 16), parseInt(hex[3], 16)];
  }

  function toHex(ary) {
    return "#" + ((1 << 24) + (ary[0] << 16) + (ary[1] << 8) + ary[2]).toString(16).slice(1);
  }

</script>
          </section>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | ¬© 2019-2020 Theme By <a href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a>
    </div>
    <div class="poweredby">
      
    </div>
  </footer>
  
  
  <div class="pisces back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
  back2TopText = document.querySelector('#back_to_top_text'),
  drawerBox = document.querySelector('#drawer_box'),
  rightSideBar = document.querySelector('.sidebar'),
  viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {
   
    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function(e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });
  
  window.addEventListener('scroll', function(e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });

  
  let hasCacu = false;
  window.onresize = function() {
    if (window.width > 991) {
      calcuHeight();
    } else {
      hasCacu = false;
    }
  }

  function calcuHeight() {
    // Âä®ÊÄÅË∞ÉÊï¥Á´ôÁÇπÊ¶ÇËßàÈ´òÂ∫¶
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();
  
  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function() {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, transitionDir,{ });
          }
        })
        window.Velocity(viewport, openProp,{
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp ,{
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // ÈìæÊé•Ë∑≥ËΩ¨
  let newWindow = 'false'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target","_blank");
      }
    })
  }
  // ‰ª£Á†ÅÈ´ò‰∫Æ
  hljs.initHighlightingOnLoad();

</script>
  </div>
</body>
<input hidden id="copy" />
<script>
  //ÊãøÊù•‰∏ª‰πâ(ÁúüÈ¶ô)^_^ÔºåClipboard ÂÆûÁé∞ÊëòËá™ÊéòÈáë https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // Âà§Êñ≠ÊòØ‰∏çÊòØiosÁ´Ø
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //ÂàõÂª∫ÊñáÊú¨ÂÖÉÁ¥†
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //ÈÄâÊã©ÂÜÖÂÆπ
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("Â§çÂà∂ÈîôËØØÔºÅËØ∑ÊâãÂä®Â§çÂà∂ÔºÅ")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === 'Â§çÂà∂ÊàêÂäü') {
        console.log('Â§çÂà∂Êìç‰ΩúÈ¢ëÁéáËøáÈ´ò');
        return;
      }
      e.srcElement.textContent = 'Â§çÂà∂ÊàêÂäü';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === 'Â§çÂà∂ÊàêÂäü') {
            elem.textContent = 'Â§çÂà∂‰ª£Á†Å'
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = 'Â§çÂà∂‰ª£Á†Å';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })
</script>
<script src="/media/js/motion.js"></script>

<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 500
  });
</script>

<!-- <div class="search-mask" id="search_mask">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input type="text" placeholder="ÊêúÁ¥¢">
      </div>
      <i class="fa fa-times-circle"></i>
    </div>
    <div class="result">
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/rust-ji-yu-hui-diao-de-yi-bu-fang-fa-fen-xi_/"" data-c="
          &lt;p&gt;Âü∫‰∫é&lt;a href=&#34;https://cfsamson.github.io/books-futures-explained/0_background_information.html#callback-based-approaches&#34;&gt;Futures Explained in 200 Lines of Rust&lt;/a&gt;Êñá‰∏≠ÁöÑÂõûË∞É‰ª£Á†Å„ÄÇ&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h1 id=&#34;Âéü‰ΩúËÄÖÁöÑ‰∏Ä‰∫õÂàÜÊûê&#34;&gt;Âéü‰ΩúËÄÖÁöÑ‰∏Ä‰∫õÂàÜÊûê&lt;/h1&gt;
&lt;p&gt;Âü∫‰∫éÂõûË∞ÉÊñπÊ≥ïËÉåÂêéÁöÑÊï¥‰∏™ÊÄùÊÉ≥ÊòØ‰øùÂ≠ò‰∏Ä‰∏™ÊåáÈíàÔºåËØ•ÊåáÈíàÊåáÂêë‰∏ÄÁªÑÊàë‰ª¨Â∏åÊúõÁ®çÂêéËøêË°åÁöÑ‰∏ÄÁ≥ªÂàóÊåá‰ª§Ôºå‰ª•ÂèäÈúÄË¶ÅÁöÑÂêÑÁßçÁä∂ÊÄÅ„ÄÇÂú®RustÔºåËøô(&lt;strong&gt;ÊåáÈíà&lt;/strong&gt;)Â∞ÜÊòØ‰∏Ä‰∏™Èó≠ÂåÖ„ÄÇÂú®‰∏ãÈù¢ÁöÑÁ§∫‰æã‰∏≠ÔºåÊàë‰ª¨Â∞ÜÊ≠§‰ø°ÊÅØ‰øùÂ≠òÂú®‰∏Ä‰∏™HashMap‰∏≠Ôºå‰ΩÜËøô‰∏çÊòØÂîØ‰∏ÄÁöÑÈÄâÈ°π„ÄÇ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;‰ºòÂäøÔºö&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;Êòì‰∫éÂú®Â§ßÂ§öÊï∞ËØ≠Ë®Ä‰∏≠ÂÆûÁé∞&lt;/li&gt;
&lt;li&gt;Ê≤°Êúâ‰∏ä‰∏ãÊñáÂàáÊç¢&lt;/li&gt;
&lt;li&gt;Áõ∏ÂØπËæÉ‰ΩéÁöÑÂÜÖÂ≠òÂºÄÈîÄ(Âú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ã)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Áº∫ÁÇπÔºö&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;Áî±‰∫éÊØè‰∏™‰ªªÂä°ÈÉΩÂøÖÈ°ª‰øùÂ≠ò‰ª•ÂêéÈúÄË¶ÅÁöÑÁä∂ÊÄÅÔºåÂõ†Ê≠§ÂÜÖÂ≠ò‰ΩøÁî®Â∞ÜÈöèÁùÄËÆ°ÁÆóÈìæ‰∏≠ÁöÑÂõûË∞ÉÊ¨°Êï∞Á∫øÊÄßÂ¢ûÈïø„ÄÇ&lt;/li&gt;
&lt;li&gt;ÂæàÈöæÁêÜËß£„ÄÇËÆ∏Â§ö‰∫∫Â∑≤ÁªèÁü•ÈÅìËøôÊòØ‚ÄúÂõûË∞ÉÂú∞Áã±‚Äù„ÄÇ&lt;/li&gt;
&lt;li&gt;ËøôÊòØ‰∏ÄÁßçÈùûÂ∏∏‰∏çÂêåÁöÑÁºñÂÜôÁ®ãÂ∫èÁöÑÊñπÂºèÔºåÂπ∂‰∏îÈúÄË¶ÅÂ§ßÈáèÈáçÂÜôÊâçËÉΩ‰ªé‚ÄúÊ≠£Â∏∏‚ÄùÁöÑÁ®ãÂ∫èÊµÅËΩ¨Êç¢‰∏∫‰ΩøÁî®‚ÄúÂü∫‰∫éÂõûË∞É‚ÄùÁöÑÁ®ãÂ∫èÊµÅ„ÄÇ&lt;/li&gt;
&lt;li&gt;Áî±‰∫éRustÁöÑÊâÄÊúâÊùÉÊ®°ÂûãÔºå‰ªªÂä°‰πãÈó¥ÁöÑÁä∂ÊÄÅÂÖ±‰∫´Âú®‰ΩøÁî®ËØ•ÊñπÊ≥ïÊó∂ÊòØ‰∏Ä‰∏™Âõ∞ÈöæÁöÑÈóÆÈ¢ò„ÄÇ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;‰ª£Á†Å&#34;&gt;‰ª£Á†Å&lt;/h1&gt;
&lt;p&gt;ÈÄöËøá‰ª£Á†ÅÔºåÂ≠¶‰π†Âà∞‰∫Ü‰∏Ä‰∫õÊñ∞‰∏úË•øÔºå‰∏ªË¶ÅÂåÖÊã¨Ôºö&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;thread_local!&lt;/code&gt; ÔºöÁî®Êù•ÂØπÊØè‰∏Ä‰∏™Á∫øÁ®ãÂàùÂßãÂåñÂêå‰∏Ä‰∏™ÂèòÈáèÁöÑ‰∏Ä‰∏™Êñ∞ÁöÑÂâØÊú¨„ÄÇ&lt;/li&gt;
&lt;li&gt;trait ÂØπË±°Ôºö &lt;code&gt;Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt;&lt;/code&gt;,  &lt;code&gt;dyn Trait&lt;/code&gt;Ë°®Á§∫‰∏Ä‰∏™Á±ªÂûãÔºåÂº∫Ë∞ÉÊòØÂä®ÊÄÅÂàÜÂèëÔºåÂπ∂‰∏îÂøÖÈ°ªÊòØ‰∏Ä‰∏™&lt;code&gt;impl&lt;/code&gt;‰∫Ü&lt;code&gt;Trait&lt;/code&gt;ÁöÑÁ±ªÂûã„ÄÇ&lt;/li&gt;
&lt;li&gt;‰º†ÈÄíÈó≠ÂåÖÂèØ‰ª•‰ΩøÁî®&lt;code&gt;impl Trait&lt;/code&gt;ÔºåËøô‰πüÊòØ‰∏Ä‰∏™Á±ªÂûãÔºåÂπ∂‰∏îËØ•Á±ªÂûãÊòØ&lt;code&gt;impl&lt;/code&gt;‰∫Ü&lt;code&gt;Trait&lt;/code&gt;ÁöÑÁ±ªÂûã„ÄÇ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;thread::spawn&lt;/code&gt;‰ºöÁõ¥Êé•Êñ∞ÂºÄ‰∏Ä‰∏™Â≠êÁ∫øÁ®ãËøêË°åÔºå‰∏ç‰ºöÈÄ†Êàê‰∏ªÁ∫øÁ®ãÈòªÂ°û„ÄÇ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;std::sync::mpsc::Receiver.iter()&lt;/code&gt; ËøôÊòØ‰∏Ä‰∏™ÈòªÂ°ûÁöÑËø≠‰ª£Âô®ÔºåÂè™ÊúâÂΩìsenderÈÉΩË¢´dropÁöÑÊó∂ÂÄôÔºåËØ•Ëø≠‰ª£Âô®ÁöÑ&lt;code&gt;.next()&lt;/code&gt; Êâç‰ºöÂèòÊàê&lt;code&gt;None&lt;/code&gt;ÔºåÂê¶Âàô‰ºö‰∏ÄÁõ¥Á≠âÂæÖ„ÄÇ&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ÂõûË∞ÉÊòØÂú®Âêå‰∏Ä‰∏™Á∫øÁ®ã‰∏äËøêË°åÁöÑ„ÄÇ Ëøô‰∏™‰æãÂ≠ê‰∏≠,Êàë‰ª¨ÂàõÂª∫ÁöÑÂ≠êÁ∫øÁ®ãÂü∫Êú¨‰∏äÂè™ÊòØÁî®‰ΩúËÆ°Êó∂Âô®Ôºå‰ΩÜÂèØ‰ª•Ë°®Á§∫‰ªª‰ΩïÁ±ªÂûãÁöÑÊàë‰ª¨Â∞Ü‰∏çÂæó‰∏çÁ≠âÂæÖÁöÑËµÑÊ∫ê„ÄÇ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;
fn program_main() {
    // Á¨¨‰∏Ä‰∏™ËæìÂá∫
    println!(&amp;quot;So we start the program here!&amp;quot;);
    // ËøêË°åÂà∞ËøôÂÑøÁöÑÊó∂ÂÄôÔºå 0ms
    // 1„ÄÅÊääÈó≠ÂåÖÈáåÁöÑ‰ªªÂä°ÊîæÂú®callbacks‰∏≠Ôºånext_id(Ê≠§Êó∂‰∏∫1)‰Ωú‰∏∫keyÔºåÈó≠ÂåÖ‰Ωú‰∏∫valÔºå next_id ÈÄíÂ¢û„ÄÇ
    // 2„ÄÅ‰ºöÊúâ‰∏Ä‰∏™Â≠êÁ∫øÁ®ãÂú®set_timeoutÈáåÈù¢Ë¢´ÂàõÂª∫ÔºåÂè™Ë¥üË¥£Âª∂Êó∂„ÄÇËøêË°åÊó∂ÂÄô‰∏ç‰ºöË¢´ËØ•Ë¥üË¥£Âª∂Êó∂Â≠êÁ∫øÁ®ãÈòªÂ°û
    set_timeout(200, || {
        // Á¨¨‰∫î‰∏™ËæìÂá∫
        println!(&amp;quot;We create tasks with a callback that runs once the task finished!&amp;quot;);
    });
    // ËøêË°åÂà∞ËøôÂÑøÁöÑÊó∂ÂÄôÔºå ‰ªçÁÑ∂ÊòØ0ms
    // 1„ÄÅÊääÈó≠ÂåÖÈáåÁöÑ‰ªªÂä°ÊîæÂú®callbacks‰∏≠Ôºånext_id(Ê≠§Êó∂‰∏∫2)‰Ωú‰∏∫keyÔºåÈó≠ÂåÖ‰Ωú‰∏∫valÔºå next_id ÈÄíÂ¢û„ÄÇ
    // 2„ÄÅ‰ºöÊúâ‰∏Ä‰∏™Â≠êÁ∫øÁ®ãÂú®set_timeoutÈáåÈù¢Ë¢´ÂàõÂª∫ÔºåÂè™Ë¥üË¥£Âª∂Êó∂„ÄÇËøêË°åÊó∂ÂÄô‰∏ç‰ºöË¢´ËØ•Ë¥üË¥£Âª∂Êó∂Â≠êÁ∫øÁ®ãÈòªÂ°û
    set_timeout(100, || {
        // Á¨¨‰∏â‰∏™ËæìÂá∫
        println!(&amp;quot;We can even chain sub-tasks...&amp;quot;);
        set_timeout(50, || {
            // Á¨¨Âõõ‰∏™ËæìÂá∫
            println!(&amp;quot;...like this!&amp;quot;);
        })
    });
    // ËøêË°åÂà∞ËøôÂÑøÁöÑÊó∂ÂÄôÔºå ‰ªçÁÑ∂ÊòØ0ms
    // Á¨¨‰∫å‰∏™ËæìÂá∫
    println!(&amp;quot;While our tasks are executing we can do other stuff instead of waiting.&amp;quot;);
}

fn main() {
    RT.with(|rt| rt.run(program_main));
}

use std::sync::mpsc::{channel, Receiver, Sender};
use std::{cell::RefCell, collections::HashMap, thread};


// threadlocal: ÂèòÈáèÊòØÂêå‰∏Ä‰∏™Ôºå‰ΩÜÊòØÊØè‰∏™Á∫øÁ®ãÈÉΩ‰ΩøÁî®Âêå‰∏Ä‰∏™ÂàùÂßãÂÄºÔºå‰πüÂ∞±ÊòØ‰ΩøÁî®Âêå‰∏Ä‰∏™ÂèòÈáèÁöÑ‰∏Ä‰∏™Êñ∞ÁöÑÂâØÊú¨
// ÊØè‰∏™Á∫øÁ®ãÈÉΩÂÆû‰æãÂåñ‰∫Ü‰∏Ä‰∏™RuntimeÔºå ÂÆûÈôÖ‰∏äRTÊòØ‰∏Ä‰∏™RT: std::thread::LocalKey&amp;lt;Runtime&amp;gt;
// ËøôÂÑøÂ•ΩÂÉèÂè™Áî®Âà∞‰∫Ü‰∏Ä‰∏™ÂâØÊú¨
thread_local! {
    static RT: Runtime = Runtime::new();
}

struct Runtime {
    // callbacks ‰∏≠ÁöÑBox&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt; ÊòØ‰∏Ä‰∏™ trait ÂØπË±°„ÄÇ 
    // ÊØè‰∏Ä‰∏™Èó≠ÂåÖÂÆû‰æãÊúâÂÖ∂Ëá™Â∑±Áã¨ÊúâÁöÑÂåøÂêçÁ±ªÂûã, Èó≠ÂåÖÊúâtrait boundÔºåÊØîÂ¶Ç Fn(u32) -&amp;gt; u32„ÄÇ 
    // callbacks Áî®Êù•Â≠ò‰∏ã‰∏Ä‰∏™ËøêË°åÁöÑÁ®ãÂ∫èÂùóÔºàËøôÈáåÁî®Èó≠ÂåÖÊù•Ë°®Á§∫Ôºâ„ÄÇ
    callbacks: RefCell&amp;lt;HashMap&amp;lt;usize, Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt;&amp;gt;&amp;gt;,
    // ÂÇ®Â≠ò‰∏ã‰∏Ä‰∏™Èó≠ÂåÖÁöÑid
    next_id: RefCell&amp;lt;usize&amp;gt;,
    // ÊØè‰∏Ä‰∏™Á≠âÂæÖÂ≠êÁ∫øÁ®ãÊã•Êúâ‰∏Ä‰∏™ÔºåÂú®Âª∂Êó∂ÁªìÊùüÂêéÔºåÂèëÈÄÅÈúÄË¶ÅËøêË°åÁöÑid
    evt_sender: Sender&amp;lt;usize&amp;gt;,
    // Êé•Âèó‰∏ã‰∏Ä‰∏™ËØ•ËøêË°åÁöÑÈó≠ÂåÖÁöÑid
    evt_reciever: Receiver&amp;lt;usize&amp;gt;,
}

// cb ÊòØ‰º†ÈÄíÁöÑÊòØ‰∏Ä‰∏™Èó≠ÂåÖ,The other use of the impl keyword is in impl Trait syntax, which can be seen as a shorthand for &amp;quot;a concrete type that implements this trait&amp;quot;. 
// Its primary use is working with closures, which have type definitions generated at compile time that can&#39;t be simply typed out.
// ‰º†ÈÄíÈó≠ÂåÖÊó∂ÂÄôÁî®impl Trait„ÄÇË°®Á§∫‰∏Ä‰∏™„ÄêÁ±ªÂûã„ÄëÔºåËøô‰∏™Á±ªÂûãimplements ‰∫ÜËøô‰∏™trait
// https://kaisery.github.io/trpl-zh-cn/ch10-02-traits.html
fn set_timeout(ms: u64, cb: impl FnOnce() + &#39;static) {
    // with ÊñπÊ≥ïÊòØ Âú® std::thread::local::LocalKey ‰∏≠ÊúâÁöÑÔºå‰πüÂ∞±ÊòØ RT ÊúâÁöÑ „ÄÇ
    // Ëé∑ÂèñÂØπËøô‰∏™TLSÈîÆ‰∏≠ÁöÑÂÄºÁöÑÂºïÁî®„ÄÇÂ¶ÇÊûúËøô‰∏™Á∫øÁ®ãËøòÊ≤°ÊúâÂºïÁî®Ëøô‰∏™ÈîÆÔºåËøôÂ∞ÜÂª∂ËøüÂàùÂßãÂåñËøô‰∏™ÂÄº„ÄÇ
    // Áõ∏ÂΩì‰∫éÁî®.with()Â∞±ÊòØÂú®‰ΩøÁî®ËØ•ÂèòÈáèÁöÑÂáΩÊï∞„ÄÇ
    RT.with(|rt| {
        let id = *rt.next_id.borrow();
        // next_idÈÄíÂ¢û
        *rt.next_id.borrow_mut() += 1;
        // callbacksÂ≠ò (id: usize, Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt;)
        // ‰∏∫‰ªÄ‰πàÈúÄË¶Å Box::new(cb) ËøôÊ†∑Â≠êÁöÑÂëÄ, Âõ†‰∏∫ËæìÂÖ•ÁöÑÁ±ªÂûãÊú™Áü•
        // cb Âú®ËæìÂÖ•ÂèÇÊï∞‰∏≠Áî®ÁöÑimpl FnOnce() + &#39;static Êù•ÈôêÂÆö„ÄÇ
        rt.callbacks.borrow_mut().insert(id, Box::new(cb));
        // The sending-half of Rust&#39;s asynchronous channel type. 
        // This half can only be owned by one thread, but it can be cloned to send to other threads.
        // ‰∏Ä‰∏™senderÂè™ËÉΩÂ§üÁî®Âú®‰∏Ä‰∏™Á∫øÁ®ãÈáåÈù¢Ôºå‰ΩÜÊòØÂèØ‰ª•ÂÖãÈöÜÂà∞ÂÖ∂‰ªñÁ∫øÁ®ã‰∏≠ÔºåÊ≠§Êó∂receiverËøòÊòØÂè™Êúâ‰∏Ä‰∏™
        let evt_sender = rt.evt_sender.clone();
        // thread::spawn‰ºöÁõ¥Êé•Êñ∞ÂºÄ‰∏Ä‰∏™Â≠êÁ∫øÁ®ãËøêË°åÔºå‰∏ç‰ºöÈÄ†Êàê‰∏ªÁ∫øÁ®ãÈòªÂ°û„ÄÇÂäüËÉΩÊòØ‰ºëÁú†ÂêéÂÜçÊääidËæìÂá∫Âá∫Âéª
        thread::spawn(move || {
            thread::sleep(std::time::Duration::from_millis(ms));
            // Âú®Âª∂Êó∂ÁªìÊùüÂêéÔºåÂèëÈÄÅÂΩìÂâçÂª∂Êó∂ÁªìÊùüÁöÑ‰ªªÂä°id
            evt_sender.send(id).unwrap();
        });
    });
}


impl Runtime {
    fn new() -&amp;gt; Self {
        // ËøôÊòØ‰∏Ä‰∏™asynchronous channelÔºå ÊØè‰∏™Á∫øÁ®ãÈáåÈù¢ÈÉΩÊúâ‰∏Ä‰∏™senderÂíåreceiver
        let (evt_sender, evt_reciever) = channel();
        Runtime {
            callbacks: RefCell::new(HashMap::new()),
            next_id: RefCell::new(1),
            evt_sender,
            evt_reciever,
        }
    }

    // ËøôÂÑøÊòØÂú®ËøêË°å‰∏Ä‰∏™ÂáΩÊï∞.
    fn run(&amp;amp;self, program: fn()) {
        // Áõ¥Êé•ËøêË°åÔºå 
        program();
        // 0ms ËøêË°åÂà∞ËøôÂÑø
        // ËøêË°åÁªìÊùüÂêéÔºåÂºÄÂßãÈÄê‰∏™ËÆøÈóÆRuntime ÈáåÈù¢ÁöÑ‰ºëÁú†Â≠êÁ∫øÁ®ãËøîÂõûÁöÑ ÂØπÂ∫îidÁöÑÂÄº„ÄÇ
        // This iterator will block whenever next is called, waiting for a new message, and None will be returned when the corresponding channel has hung up.
        // ËøôÊòØ‰∏Ä‰∏™ÈòªÂ°ûÁöÑÊñπÊ≥ïÔºåÂè™ÊúâÂΩìsenderÈÉΩË¢´dropÁöÑÊó∂ÂÄôÔºåËØ•Ëø≠‰ª£Âô®ÁöÑ.next() Êâç‰ºöÂèòÊàêNone
        for evt_id in &amp;amp;self.evt_reciever {
            // ËøôÂÑøÁõ¥Êé•‰ªéHashMapÈáåremoveÂá∫ÂØπÂ∫îÁºñÂè∑ÁöÑÈó≠ÂåÖ„ÄÇ
            let cb = self.callbacks.borrow_mut().remove(&amp;amp;evt_id).unwrap();
            cb();
            // ÊòØ‰∏çÊòØ‰πü‰∏çÈúÄË¶ÅËøôÂè•ËØùÔºü
            // „Äê‰∏çË°åÔºÅ„Äë: Âõ†‰∏∫Âú®RuntimeÈáåÈù¢‰∏Ä‰∏™senderÔºå‰∏ç‰ºöË¢´dropÊéâÔºåÂ∞±‰ºöÈô∑ÂÖ•Êó†ÈôêÁ≠âÂæÖ‰∫Ü
            if self.callbacks.borrow().is_empty() {
                break;
            }
        }
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ÊÄªÁªì&#34;&gt;ÊÄªÁªì&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Â¶ÇÊûúÁî®Âü∫‰∫éÂõûË∞ÉÁöÑÊñπÊ≥ïÊù•ËØ¥RustÂºÇÊ≠•ÁºñÁ®ã‰∏≠ÁöÑÂî±Ê≠åË∑≥Ëàû‰æãÂ≠êÔºå ‰πüÂ∞±ÊòØÔºå‚ÄúËÆ°Êó∂Âô®‚Äù‰ª£Ë°®ÁöÑ‚ÄúÁ≠âÂæÖËµÑÊ∫ê‚ÄùÔºåÁ≠â‰ª∑‰∫é ‚ÄúÂî±Ê≠å‚ÄùÂâçÁ≠âÂæÖ&amp;quot;Â≠¶Ê≠å&amp;quot;„ÄÇÊâÄ‰ª•ÔºåÂú®ÂõûË∞ÉÈÄªËæë‰∏≠ &lt;code&gt;sing_song()&lt;/code&gt;‰Ωú‰∏∫Èó≠ÂåÖÔºå &lt;code&gt;learn_song()&lt;/code&gt; ‰Ωú‰∏∫Â≠êÁ∫øÁ®ãÔºå‰∏ªÁ∫øÁ®ãËøêË°å&lt;code&gt;dance()&lt;/code&gt; „ÄÇÂ≠êÁ∫øÁ®ãÁªìÊùüÂêéÂÜçËøêË°åËøô‰∏™Èó≠ÂåÖ„ÄÇËøêË°åÈ°∫Â∫èÊòØ &lt;code&gt;learn_song()&lt;/code&gt; ÔºàÂ≠êÁ∫øÁ®ãÔºâÂíå &lt;code&gt;dance()&lt;/code&gt;  Ôºà‰∏ªÁ∫øÁ®ãÔºâÂêåÊó∂ËøêË°åÔºåÂú®‰∏§‰∏™‰ªªÂä°ÂùáÂÆåÊàêÂêéÔºå ÂÜçÂõûË∞É&lt;code&gt;sing_song()&lt;/code&gt;Ëøô‰∏™Èó≠ÂåÖ„ÄÇ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Â≠êÁ∫øÁ®ã&lt;/strong&gt;ÂØπÂ∫î &lt;strong&gt;‚ÄúÁ≠âÂæÖËµÑÊ∫ê‚Äù&lt;/strong&gt; Ôºõ &lt;strong&gt;Èó≠ÂåÖ&lt;/strong&gt;ÂØπÂ∫î‚Äú&lt;strong&gt;Êé•Êî∂Âà∞Á≠âÂæÖËµÑÊ∫êÂêéÁöÑÊìç‰Ωú‚Äù&lt;/strong&gt;„ÄÇ&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;async fn learn_and_sing() {
    // Âú®Âî±Ê≠å‰πãÂâçÁ≠âÂæÖÂ≠¶Ê≠åÂÆåÊàê
    // ËøôÈáåÊàë‰ª¨‰ΩøÁî® `.await` ËÄå‰∏çÊòØ `block_on` Êù•Èò≤Ê≠¢ÈòªÂ°ûÁ∫øÁ®ãÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂêåÊó∂ÊâßË°å `dance` ‰∫Ü„ÄÇ
    let song = learn_song().await;
    sing_song(song).await;
}
 async fn async_main() {
    let f1 = learn_and_sing();
    let f2 = dance();
     // `join!` Á±ª‰ºº‰∫é `.await` Ôºå‰ΩÜÊòØÂèØ‰ª•Á≠âÂæÖÂ§ö‰∏™ future Âπ∂ÂèëÂÆåÊàê
     // Â¶ÇÊûúÂ≠¶Ê≠åÁöÑÊó∂ÂÄôÊúâ‰∫ÜÁü≠ÊöÇÁöÑÈòªÂ°ûÔºåË∑≥ËàûÂ∞Ü‰ºöÊé•ÁÆ°ÂΩìÂâçÁöÑÁ∫øÁ®ãÔºåÂ¶ÇÊûúË∑≥ËàûÂèòÊàê‰∫ÜÈòªÂ°û
     // Â≠¶Ê≠åÂ∞Ü‰ºöËøîÂõûÊù•Êé•ÁÆ°Á∫øÁ®ã„ÄÇÂ¶ÇÊûú‰∏§‰∏™futuresÈÉΩÊòØÈòªÂ°ûÁöÑÔºå
     // Ëøô‰∏™‚Äòasync_main&#39;ÂáΩÊï∞Â∞±‰ºöÂèòÊàêÈòªÂ°ûÁä∂ÊÄÅÔºåÂπ∂ÁîüÊàê‰∏Ä‰∏™ÊâßË°åÂô®
    futures::join!(f1, f2)
}
 fn main() {
    block_on(async_main());
}
&lt;/code&gt;&lt;/pre&gt;
">Rust Âü∫‰∫éÂõûË∞ÉÁöÑÂºÇÊ≠•ÊñπÊ≥ïÂàÜÊûê</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/rust-const-fan-xing-const-genericsde-shi-yong-fang-fa-jie-xi-const_unit_poc_/"" data-c="
          &lt;p&gt;ÂØπ‰∫éconst Ê≥õÂûãÔºåÁ¨îËÄÖ‰πü‰∫ÜËß£ÁîöÂ∞ë„ÄÇÂÄüÂÜôËØ•ÊñáÁ´†ÁöÑÊú∫‰ºöÔºåÂ≠¶‰π†‰∏Ä‰∏ãRustÁöÑconst Ê≥õÂûã(Const Generics)&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;const_unit_poc-Âà©Áî®const-genericsÂÆûÁé∞ÁöÑÁâ©ÁêÜÂçï‰ΩçÂ∫ì&#34;&gt;&lt;code&gt;const_unit_poc&lt;/code&gt; ÔºöÂà©Áî®const genericsÂÆûÁé∞ÁöÑÁâ©ÁêÜÂçï‰ΩçÂ∫ì&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;const_unit_poc&lt;/code&gt;  ÊòØÂá†Â§©ÂâçÊé®Âá∫ÁöÑÔºåÁéáÂÖà‰ΩøÁî®const Ê≥õÂûãÁöÑÂ∫ì„ÄÇËØ•Â∫ìÁöÑ‰ΩøÁî®ÊñπÊ≥ïÂ¶Ç‰∏ãÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;#![feature(const_generics, const_evaluatable_checked)]
use const_unit_poc::values::{m, kg, s, N};

let distance = 1.0 * m;
let mass = 18.0 * kg;
let force = distance * mass / (1.8 * s * 2.0 * s);
assert_eq!(force, 5.0 * N);

let mut mutable_distance = 3.2 * m;
mutable_distance -= 0.2 * m;
mutable_distance += 2.0 * m;

assert_eq!(mutable_distance, 5.0 * m);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;‰ª£Á†ÅÂèäÂÖ∂ÁÆÄ‰æøÔºÅÊòìÊáÇÔºÅÈùûÂ∏∏Á•ûÂ•áÔºÅÊâÄ‰ª•Â∞±Ê†πÊçÆËØ•Â∫ìÁöÑÊ∫ê‰ª£Á†ÅÁúãÁúãconst Ê≥õÂûãËØ•Â¶Ç‰Ωï‰ΩøÁî®„ÄÇ&lt;/p&gt;
&lt;h2 id=&#34;const_unit_poc-Ê∫êÁ†ÅÂàÜÊûê&#34;&gt;&lt;code&gt;const_unit_poc&lt;/code&gt; Ê∫êÁ†ÅÂàÜÊûê&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;#![feature(const_generics, const_evaluatable_checked, doc_cfg)]
#![allow(incomplete_features)]
#![cfg_attr(feature = &amp;quot;non_ascii&amp;quot;, feature(non_ascii_idents))]

use std::ops;

pub mod units;
pub mod values;

#[derive(Copy, Clone, Debug, PartialEq, Eq)]
#[allow(non_snake_case)]
pub struct SiUnit {
    m: i8,
    kg: i8,
    s: i8,
    A: i8,
    K: i8,
    mol: i8,
    cd: i8,
}

// ÂêéÈù¢ËøòÊúâÂÜÖÂÆπ
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ËøôÈáåÂºïÂÖ•‰∫Ü&lt;code&gt;units&lt;/code&gt;, &lt;code&gt;values&lt;/code&gt;‰∏§‰∏™modÔºåÂπ∂‰∏îÂ£∞Êòé‰∫Ü&lt;code&gt;SiUnit&lt;/code&gt; Ëøô‰∏™ÁªìÊûÑ‰ΩìÔºåÈáåÈù¢ÁöÑÊàêÂëòÊòØSIÁöÑ7‰∏™Ê†áÂáÜÂçï‰ΩçÔºå Á±ªÂûã‰∏∫i8„ÄÇ&lt;/p&gt;
&lt;p&gt;ÁúãÂà∞ËøôÂÑøÔºåÁ¨îËÄÖÊé®ÊµãÂ∫îËØ•ÊòØ‰ΩøÁî® &lt;code&gt;SiUnit&lt;/code&gt; Ëøô‰∏™ÁªìÊûÑ‰ΩìÊù•ÂÆû‰æãÂåñÂêÑÁßçÂ∏∏Áî®ÁöÑÂçï‰ΩçÔºàÂ¶Ç&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;N&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ÔºâÔºåÂÖ∂‰∏≠ÊàêÂëòÁöÑÂÄºË°®Á§∫ËØ•Âçï‰ΩçË°®Á§∫ÊàêÂü∫Êú¨Âçï‰ΩçÂêéÁöÑÊåáÊï∞ÁöÑÂÄºÔºàÂ¶Ç&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;‚àó&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mrow&gt;&lt;mo&gt;‚àí&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;N=m*s^{-2}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.46528em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;‚àó&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;‚àí&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;Ôºå Âàô&lt;code&gt;N.m == 1; N.s == -2&lt;/code&gt;Ôºâ„ÄÇ&lt;/p&gt;
&lt;p&gt;ÂÜçÁúã‰∏Ä‰∏ãÂºïÂÖ•ÁöÑÊ®°Âùó&lt;code&gt;units&lt;/code&gt;ÁöÑÂÜÖÂÆπ&lt;/p&gt;
&lt;h3 id=&#34;unitsÁöÑÂÆûÁé∞&#34;&gt;unitsÁöÑÂÆûÁé∞&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/units.rs&#34;&gt;&lt;code&gt;./src/units.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;#![allow(non_upper_case_globals)]
use super::SiUnit;
const NONE: SiUnit = SiUnit { m: 0, kg: 0, s: 0, A: 0, K: 0, mol: 0, cd: 0 };
/// meter
pub const m: SiUnit = SiUnit { m: 1, ..NONE };
/// ‰∏≠Èó¥ÂÜÖÂÆπÁúÅÁï•
/// lux
pub const lx: SiUnit = SiUnit { m: -2, cd: 1, ..NONE };
/// square meter
pub const sq_m: SiUnit = SiUnit { m: 2, ..NONE };
/// cubic meter
pub const cu_m: SiUnit = SiUnit { m: 3, ..NONE };
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÁöÑÁ°ÆÂíåÁåúÊÉ≥‰∏ÄËá¥ÔºÅÊ≥®ÊÑèÁªìÊûÑ‰ΩìÂÆû‰æãÂåñÊó∂ÂÄôËøôÂÑø‰ΩøÁî®‰∫Ü&lt;code&gt;..NONE&lt;/code&gt;ÔºåËøôÊòØÁî®Â∑≤ÁªèÂàõÂª∫ÁöÑÂÆû‰æãNone‰∏ä&lt;strong&gt;Êõ¥Êñ∞ÈÉ®ÂàÜÂèÇÊï∞&lt;/strong&gt;ÔºåÂàõÂª∫Êñ∞ÁöÑÂÆû‰æãÔºåËßÅ&lt;a href=&#34;https://kaisery.github.io/trpl-zh-cn/ch05-01-defining-structs.html#%E4%BD%BF%E7%94%A8%E7%BB%93%E6%9E%84%E4%BD%93%E6%9B%B4%E6%96%B0%E8%AF%AD%E6%B3%95%E4%BB%8E%E5%85%B6%E4%BB%96%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B&#34;&gt;‰ΩøÁî®ÁªìÊûÑ‰ΩìÊõ¥Êñ∞ËØ≠Ê≥ï‰ªéÂÖ∂‰ªñÂÆû‰æãÂàõÂª∫ÂÆû‰æã&lt;/a&gt;„ÄÇËøôÂÑø‰ΩøÁî®‰∫Üconst‰ΩøÂæóÂêÑ‰∏™Âçï‰ΩçÂÖ®Â±ÄÂèØËßÅ‰∏î‰∏çÂèØÂèò„ÄÇ&lt;/p&gt;
&lt;p&gt;Áé∞Âú®Â∑≤ÁªèÊúâ‰∫ÜÂçï‰ΩçÔºå‰ΩÜÊòØÊàë‰ª¨Ê≥®ÊÑèÂà∞‰ª£Á†Å‰∏≠&lt;code&gt;assert_eq!(mutable_distance, 5.0 * m);&lt;/code&gt;‰∏ç‰ªÖ‰ªÖË¶ÅÊ£ÄÊµãÂçï‰ΩçÁöÑÂÄºÔºåËøòË¶ÅÊ£ÄÊµãÁ≥ªÊï∞ÁöÑÂÄºÔºåÁªìÊûÑ‰Ωì‰∏éÊï∞Â≠óÁõ∏‰πòÂêéÂèàËØ•Â¶Ç‰ΩïË°®Á§∫Âë¢ÔºüËøô‰∏™ÈóÆÈ¢òÂ∫îËØ•ËÉΩÂ§ü‰ªéÂè¶‰∏Ä‰∏™Ê®°ÂùóÂæóÂà∞Á≠îÊ°àÂêß„ÄÇ&lt;/p&gt;
&lt;h3 id=&#34;ÂØπÂçï‰ΩçÁ≥ªÊï∞ÁöÑÂåÖË£Ö&#34;&gt;ÂØπÂçï‰ΩçÁ≥ªÊï∞ÁöÑÂåÖË£Ö&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/values.rs&#34;&gt;&lt;code&gt;./src/values.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;#![allow(non_upper_case_globals)]
use crate::{units, Quantity};
// base
/// 1 meter
pub const m: Quantity&amp;lt;{ units::m }&amp;gt; = Quantity { raw_value: 1.0 };
/// 1 kilogram
pub const kg: Quantity&amp;lt;{ units::kg }&amp;gt; = Quantity { raw_value: 1.0 };
/// 1 second
pub const s: Quantity&amp;lt;{ units::s }&amp;gt; = Quantity { raw_value: 1.0 };
/// ÂêéÈù¢ËøòÊúâ
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Ê≥®ÊÑè&lt;/strong&gt;Ôºö&lt;code&gt;use crate::{units, Quantity}&lt;/code&gt;, ‰ª£Ë°®ÁöÑÊòØÂØºÂÖ•ÁöÑÂΩìÂâç&lt;code&gt;crate&lt;/code&gt;‰∏≠ÁöÑ&lt;code&gt;units&lt;/code&gt;Âíå&lt;code&gt;Quantity&lt;/code&gt;„ÄÇ&lt;br&gt;
&lt;strong&gt;const Ê≥õÂûã&lt;/strong&gt;: ‰ªéËøôÂÑøÁöÑÂèØ‰ª•Â§ßÊ¶ÇÂèØ‰ª•ÁúãÂá∫Ôºå&lt;code&gt;Quantity&lt;/code&gt;ÁöÑÊ≥õÂûãÂèÇÊï∞ÊòØ‰∏Ä‰∏™constÂ∏∏ÈáèÔºåÂåÖË£ÖÊØè‰∏Ä‰∏™&lt;code&gt;units.rs&lt;/code&gt;‰∏≠ÁöÑconstÂ∏∏ÈáèÂÄº„ÄÇËøôÂ∞±ÊòØconst genericsÂêß! ÂêéÈù¢ÁöÑÂÆû‰æãÂåñÊ†πÊçÆÁ±ªÂûãÊé®ÂØºÂ∫îËØ•ÂèàÂèØ‰ª•ÂÜôÂÅöÔºö&lt;code&gt;Quantity&amp;lt;{ units::m }&amp;gt; { raw_value: 1.0 }&lt;/code&gt;„ÄÇ ÊâÄ‰ª•ÊòØÁî®&lt;code&gt;raw_value&lt;/code&gt;Êù•Ë°®Á§∫ÊØè‰∏Ä‰∏™Âçï‰ΩçÁöÑÁ≥ªÊï∞„ÄÇ&lt;/p&gt;
&lt;p&gt;ÊâÄ‰ª•ÂÜçÊù•ÁúãÁúã&lt;code&gt;Quantity&lt;/code&gt;ÁöÑÂÆö‰πâÂêß„ÄÇ&lt;/p&gt;
&lt;p&gt;###ÁªìÊûÑ‰Ωì &lt;code&gt;Quantity&lt;/code&gt;ÁöÑÂÆö‰πâ&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;#[derive(Copy, Clone, Debug, PartialEq, PartialOrd)]
#[repr(transparent)]
pub struct Quantity&amp;lt;const U: SiUnit&amp;gt; {
    pub raw_value: f64,
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÁÆÄÂçïÂπ≤ËÑÜÁöÑ‰ΩøÁî®const Á±ªÂûã‰Ωú‰∏∫Ê≥õÂûãÂèÇÊï∞„ÄÇ&lt;/p&gt;
&lt;h3 id=&#34;Âä†ÂáèËøêÁÆó&#34;&gt;Âä†ÂáèËøêÁÆó&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;impl&amp;lt;const U: SiUnit&amp;gt; ops::Add for Quantity&amp;lt;U&amp;gt; {
    type Output = Self;

    fn add(self, rhs: Self) -&amp;gt; Self {
        Self { raw_value: self.raw_value + rhs.raw_value }
    }
}

impl&amp;lt;const U: SiUnit&amp;gt; ops::AddAssign for Quantity&amp;lt;U&amp;gt; {
    fn add_assign(&amp;amp;mut self, rhs: Self) {
        self.raw_value += rhs.raw_value;
    }
}

impl&amp;lt;const U: SiUnit&amp;gt; ops::Sub for Quantity&amp;lt;U&amp;gt; {
    type Output = Self;

    fn sub(self, rhs: Self) -&amp;gt; Self {
        Self { raw_value: self.raw_value - rhs.raw_value }
    }
}

impl&amp;lt;const U: SiUnit&amp;gt; ops::SubAssign for Quantity&amp;lt;U&amp;gt; {
    fn sub_assign(&amp;amp;mut self, rhs: Self) {
        self.raw_value -= rhs.raw_value;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Áî±‰∫éÂä†ÂáèËøêÁÆóÂπ∂‰∏ç‰ºöÂèòÂçï‰ΩçÔºåÊâÄ‰ª•Â∞±ÊòØÂØπÁ≥ªÊï∞ÁöÑÂä†ÂáèÔºåÈùûÂ∏∏Áõ¥Êé•„ÄÇ&lt;/p&gt;
&lt;h3 id=&#34;‰πòÈô§ËøêÁÆó&#34;&gt;‰πòÈô§ËøêÁÆó&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;‰∏Ä‰∏™Êï∞Â≠ó‰∏é‰∏Ä‰∏™QuantityÁõ∏‰πòÔºåÂçï‰Ωç‰∏çÂèòÔºö&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;impl&amp;lt;const U: SiUnit&amp;gt; ops::Mul&amp;lt;f64&amp;gt; for Quantity&amp;lt;U&amp;gt; {
    type Output = Quantity&amp;lt;U&amp;gt;;

    fn mul(self, rhs: f64) -&amp;gt; Self::Output {
        Quantity { raw_value: self.raw_value * rhs }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;‰∏§‰∏™Â∏¶Âçï‰ΩçÁöÑÈáèÁõ∏‰πòÔºåÂçï‰ΩçÂèëÁîüÂèòÂåñÔºå‰πüÂ∞±ÊòØ&lt;code&gt;Quantity&amp;lt;U&amp;gt;&lt;/code&gt;ÁöÑÊ≥õÂûãÂèÇÊï∞ÂèëÁîü‰∫ÜÂèòÂåñÔºåÊ≠§Êó∂ÈúÄË¶ÅÈáçÊñ∞ÂÆû‰æãÂåñ‰∏Ä‰∏™&lt;code&gt;Quantity&amp;lt;U&amp;gt;&lt;/code&gt;ÁªìÊûÑ‰ΩìÔºö&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;// QuantityÁõ∏‰πòËΩ¨Êç¢‰∏∫unitÁõ∏‰πòÔºåUL.unit_mul(UR)
impl&amp;lt;const UL: SiUnit, const UR: SiUnit&amp;gt; ops::Mul&amp;lt;Quantity&amp;lt;UR&amp;gt;&amp;gt; for Quantity&amp;lt;UL&amp;gt;
where
    Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;: ,
{
    type Output = Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;;

    fn mul(self, rhs: Quantity&amp;lt;UR&amp;gt;) -&amp;gt; Self::Output {
        Quantity { raw_value: self.raw_value * rhs.raw_value }
    }
}
// unitÁõ∏‰πò
impl SiUnit {
    const fn unit_mul(self, rhs: Self) -&amp;gt; Self {
        Self {
            m: self.m + rhs.m,
            kg: self.kg + rhs.kg,
            s: self.s + rhs.s,
            A: self.A + rhs.A,
            K: self.K + rhs.K,
            mol: self.mol + rhs.mol,
            cd: self.cd + rhs.cd,
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;ËøôÂÑøÂØπÊ≥õÂûãÁöÑÁ∫¶ÊùüÂæàÁ•ûÂ•áÔºåÁ´üÁÑ∂ÊòØËøôÊ†∑ÂÜô&lt;code&gt;Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;:&lt;/code&gt; ÔºåÂ¶ÇÊûúÂéªÊéâËøô‰∏™whereÔºåÂàô‰ºöÊä•Èîôunconstrained generic constant„ÄÇËôΩÁÑ∂Áé∞Âú®Ëøò‰∏çÊáÇÊòØ‰ªÄ‰πàÊÑèÊÄù....&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;error: unconstrained generic constant
   --&amp;gt; src\lib.rs:156:5
    |
156 |     type Output = Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;;     
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^     
    |
help: consider adding a `where` bound for this expression  
   --&amp;gt; src\lib.rs:156:28
    |
156 |     type Output = Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;;     
    |                            ^^^^^^^^^^^^^^^^^^^     
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Âè¶Â§ñ‰∏ÄÁÇπÔºåÊ≥õÂûã‰∏≠ÁöÑconstÊòØË∞ÉÁî®‰∏Ä‰∏™const fnÂæóÂà∞ÁöÑÊó∂ÂÄôÔºåËøô‰∏™Êó∂ÂÄôÈúÄË¶ÅÊâìÂ§ßÊã¨Âè∑ÔºåÂ¶ÇÔºö&lt;code&gt;Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;&lt;/code&gt; ÔºåÂê¶Âàô‰πü‰ºöÂá∫Èîô„ÄÇËøôÂú®ÊúÄËøëÁöÑ&lt;a href=&#34;https://github.com/rust-lang/rust/pull/79135&#34;&gt;Stabilization report&lt;/a&gt;ÈáåÈù¢‰πüÊúâÊèêÂà∞„ÄÇ&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Const arguments&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Const parameters are instantiated using const arguments. Any concrete const expression or const parameter as a standalone argument can be used. When applying an expression as const parameter, &lt;strong&gt;most expressions must be contained within a block&lt;/strong&gt;, with two exceptions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;literals and single-segment path expressions&lt;/li&gt;
&lt;li&gt;array lengths&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This syntactic restriction is necessary to avoid ambiguity, or requiring infinite lookahead when parsing an expression as a generic argument.&lt;/p&gt;
&lt;p&gt;In the cases where a generic argument could be resolved as either a type or const argument, we always interpret it as a type. This causes the following test to fail:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;type N = u32;
struct Foo&amp;lt;const N: usize&amp;gt;;
fn foo&amp;lt;const N: usize&amp;gt;() -&amp;gt; Foo&amp;lt;N&amp;gt; { todo!() } // ERR
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To circumvent this, the user may wrap the const parameter with braces, at which point it is unambiguously accepted.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;type N = u32;
struct Foo&amp;lt;const N: usize&amp;gt;;
fn bar&amp;lt;const N: usize&amp;gt;() -&amp;gt; Foo&amp;lt;{ N }&amp;gt; { todo!() } // ok
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;p&gt;ÁÆÄÂçïÊù•ËØ¥Ôºåconst Ê≥õÂûã‰∏ÄËà¨ÈÉΩÈúÄË¶ÅÊâìÂ§ßÊã¨Âè∑(‰∏§ÁßçÊÉÖÂÜµÈô§Â§ñ)ÔºåÊâìÂ§ßÊã¨Âè∑ÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢Ê≠ß‰πâ„ÄÇ&lt;/p&gt;
&lt;h2 id=&#34;ÊÄªÁªì&#34;&gt;ÊÄªÁªì&lt;/h2&gt;
&lt;p&gt;ËøôÁØáÊñáÁ´†‰∏ªË¶ÅÊòØ‰∫ÜËß£‰∫Üconst Ê≥õÂûãÂú®ÂÅöÂï•Ôºå‰ª•ÂèäÂ¶Ç‰ΩïÂÅöÁöÑ„ÄÇ&lt;/p&gt;
&lt;p&gt;ÈÄöËøáËøô‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåÊàëÊÑüËßâconst Ê≥õÂûãÊòØÁî®Âú®ÂΩìÊ≥õÂûãÈúÄË¶ÅÊúâÂèñÂÄºÁöÑÊó∂ÂÄôÔºàÊØîÂ¶ÇËøôÈáåÁöÑunitÂ∞±ÈúÄË¶ÅÂèñÂÄºÔºåËÄå‰∏çËÉΩÊØè‰∏Ä‰∏™Âçï‰Ωç‰∏Ä‰∏™Á±ªÂûã...Ôºâ„ÄÇ&lt;/p&gt;
">Rust const Ê≥õÂûã (Const Generics)ÁöÑ‰ΩøÁî®ÊñπÊ≥ïÔºöËß£Êûêconst_unit_poc</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/rust-yi-bu/"" data-c="
          &lt;p&gt;Ââç‰∏ÄÊÆµÊó∂Èó¥Áúã‰∫Ü‰∏Ä‰∫õÂÖ≥‰∫éRustÁöÑÂºÇÊ≠•ÁºñÁ®ãÁõ∏ÂÖ≥ÁöÑÁü•ËØÜÔºåÂèóÁõäÂå™ÊµÖÔºåÊïÖÂÅöÊ≠§ËÆ∞ÂΩï„ÄÇ&lt;br&gt;
RustÂºÇÊ≠•ÁºñÁ®ãÊòØRustËØ≠Ë®Ä‰∏≠ÂçÅÂàÜÈáçË¶ÅÁâπÊÄß„ÄÇÁé∞Âú®Rust‰∏≠ÁöÑÂºÇÊ≠•ÁºñÁ®ãÈááÁî®&lt;code&gt;async/.await&lt;/code&gt;Ëß£ÂÜ≥ÊñπÊ°à„ÄÇ&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h1 id=&#34;1-‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂºÇÊ≠•ÁºñÁ®ã&#34;&gt;1. ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂºÇÊ≠•ÁºñÁ®ãÔºü&lt;/h1&gt;
&lt;p&gt;ÂàöÂºÄÂßã‰∏ÄÁõ¥Êúâ‰∏Ä‰∏™ÁñëÈóÆÔºö&lt;strong&gt;Êó¢ÁÑ∂Â∑≤ÁªèÊúâ‰∫ÜÂ§öÁ∫øÁ®ãÊäÄÊúØÔºåÂ§öÁî®Êà∑ËÆøÈóÆÁõ¥Êé•‰ΩøÁî®Â§öÁ∫øÁ®ãÔºå‰∏∫‰ªÄ‰πàËøòÈúÄË¶ÅÂºÇÊ≠•Âë¢Ôºü&lt;/strong&gt; ÂêéÊù•Áªà‰∫éÊòéÁôΩÔºåÂºÇÊ≠•ÊòØÁî®Âú®Â§öÁî®Êà∑&lt;strong&gt;ÂêåÊó∂Â§ÑÁêÜÂêå‰∏ÄËµÑÊ∫ê&lt;/strong&gt;Êó∂ÂÄôÂèëÊå•‰ΩúÁî®ÁöÑ„ÄÇ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Áé∞Âú®Áî®100‰∏™Áî®Êà∑ÂêåÊó∂‰øÆÊîπ‰∏Ä‰∏™Êñá‰ª∂Êù•‰∏æ‰æãÔºö
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ÂêåÊ≠•&lt;/strong&gt;(‰∏ÄËà¨‰πüÊòØ&lt;strong&gt;ÈòªÂ°û&lt;/strong&gt;)Ôºö Á®ãÂ∫èÈúÄË¶ÅÂÆûÁé∞&lt;strong&gt;ËØªÂÜôÈîÅ(&lt;code&gt;std::sync::RwLock&lt;/code&gt;)&lt;strong&gt;Êàñ&lt;/strong&gt;‰∫íÊñ•ÈîÅ(&lt;code&gt;std::sync::Mutex&lt;/code&gt;)&lt;/strong&gt;ÔºåÁ®ãÂ∫è‰ºöÂêåÊó∂‰∫ßÁîü100‰∏™Á∫øÁ®ãÔºå‰ΩÜÊòØÂè™ËÉΩÊúâ‰∏Ä‰∏™Á∫øÁ®ãÊã•ÊúâÂÜôÈîÅÔºåÂÖ∂‰ªñÁöÑ99‰∏™Á∫øÁ®ãÂùá&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Â§Ñ‰∫é&lt;strong&gt;Á≠âÂæÖÁä∂ÊÄÅ&lt;/strong&gt;ÔºåÁ∫øÁ®ã‰∏ç‰ºösleepÔºå‰ºöÂæ™ÁéØËé∑ÂèñÈîÅ(Ëá™ÊóãÈîÅSpinlock)„ÄÇ
&lt;ul&gt;
&lt;li&gt;ÈòªÂ°ûÁöÑÁ∫øÁ®ãËøòÊù•ÂèÇ‰∏éÊìç‰ΩúÁ≥ªÁªüÁöÑÊä¢Âç†ÂºèË∞ÉÂ∫¶ÔºåÂæà‰∏çÁßëÂ≠¶ÔºÅ‰∏∫‰ªÄ‰πà‰∏çÂÖàÊéíÂ•ΩÈòüÔºåÁî®‰∏Ä‰∏™Á∫øÁ®ãÂë¢ÔºàËøô‰πüÊòØÂçèÁ®ãÂπ≤ÁöÑ‰∫ãÔºâ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ÊàñËÄÖÊúâËµ∑ÂßãÁöÑ&lt;strong&gt;Âä†ÈîÅÂºÄÈîÄ&lt;/strong&gt;(ÈÄöÂ∏∏ÊòØÂØπ‰∫íÊñ•ÈîÅÔºö‚ë†Á∫øÁ®ã‰ºö‰ªésleepÔºàÂä†ÈîÅÔºâ‚Äî‚Äî&amp;gt;runningÔºàËß£ÈîÅÔºâÔºåËøáÁ®ã‰∏≠Êúâ‰∏ä‰∏ãÊñáÁöÑÂàáÊç¢ÔºåcpuÁöÑÊä¢Âç†Ôºå‰ø°Âè∑ÁöÑÂèëÈÄÅÁ≠âÂºÄÈîÄÔºõ‚ë°‰∫íÊñ•ÈîÅÂú®sleepÊó∂‰ºöÈô∑ÂÖ•Âà∞ÂÜÖÊ†∏ÊÄÅÔºåÈúÄË¶ÅÊòÇË¥µÁöÑÁ≥ªÁªüË∞ÉÁî®ÔºõÁ∫øÁ®ãÂêëÊìç‰ΩúÁ≥ªÁªüËØ∑Ê±ÇË¢´ÊåÇËµ∑ÊòØÈÄöËøá‰∏Ä‰∏™Á≥ªÁªüË∞ÉÁî®ÔºåÂú®linux‰∏äÁöÑÂÆûÁé∞Â∞±ÊòØfutex)„ÄÇ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ÂºÇÊ≠•&lt;/strong&gt;(‰∏ÄËà¨‰πüÊòØ&lt;strong&gt;ÈùûÈòªÂ°û&lt;/strong&gt;)Ôºö Â∞Ü100‰∏™Á∫øÁ®ãÊ†πÊçÆ‰∏ÄÂÆöÁöÑÂÖàÂêéÊ¨°Â∫è&lt;strong&gt;ÂêàÂπ∂Êàê‰∏Ä‰∏™Á∫øÁ®ã&lt;/strong&gt;(‰πüÂèØËÉΩÊòØÂ§ö‰∏™Á∫øÁ®ãÔºü)Ôºå Â∞±ÂèØ‰ª•ÈÅøÂÖçÈîÅÁöÑ‰∫ßÁîüÔºå‰ªéËÄåÂáèÂ∞ëÊìç‰ΩúÁ≥ªÁªüÂØπÁ∫øÁ®ãË∞ÉÁî®ÁöÑÂºÄÈîÄ„ÄÇ‰ΩÜÊòØÔºåÂΩìÁ∫øÁ®ã‰πãÈó¥ÂØπËµÑÊ∫êÁöÑ‰æùËµñÂÖ≥Á≥ªÊØîËæÉÂ§çÊùÇÁöÑÊó∂ÂÄôÔºåÁ®ãÂ∫èÁöÑÁºñÂÜôÂ∞±‰ºö&lt;strong&gt;ÂçÅÂàÜÂ§çÊùÇ&lt;/strong&gt;„ÄÇ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ÂçèÁ®ã&lt;/strong&gt;(coroutine)Ôºö ÂÆûÁé∞ÂºÇÊ≠•ÁºñÁ®ãÁöÑ‰∏ÄÁßçÊñπÂºèÔºåÊòØÂú®Á∫øÁ®ã‰πã‰∏ãÁöÑ‰∏Ä‰∏™Âçï‰Ωç„ÄÇÂçèÁ®ãÊòØËØ≠Ë®ÄÂ±ÇÈù¢ÊéßÂà∂Êï∞ÊçÆÊµÅÁöÑ‰∏ÄÁßç‚ÄúË∞ÉÂ∫¶‚ÄùÔºàÂ§ÑÁêÜÂÖ¨ÂÖ±ËµÑÊ∫êÁöÑÊó∂ÂÄôÔºåÁõ∏ÂΩì‰∫é&lt;strong&gt;Áî®Êà∑ÊÄÅÁöÑÈîÅ&lt;/strong&gt;ÔºâÔºå Á∫øÁ®ãÊòØÊìç‰ΩúÁ≥ªÁªüÂ±ÇÈù¢ÁöÑ‚ÄúË∞ÉÂ∫¶‚ÄùÔºàÂ§ÑÁêÜÂÖ¨ÂÖ±ËµÑÊ∫êÔºå‰ΩøÁî®&lt;strong&gt;Êìç‰ΩúÁ≥ªÁªüÊàñËÄÖÁ°¨‰ª∂ÁöÑÈîÅ(Âç≥MutexÊàñËÄÖSpinlock)&lt;/strong&gt;Ôºâ„ÄÇÂçèÁ®ãÁöÑË∞ÉÂ∫¶ÊòØÁºñËØëÂô®ÈÄöËøáÁªÑÁªáËøêÁÆóÈ°∫Â∫èÂÆûÁé∞ÁöÑÔºàÈÄöËøáÁîüÊàêÂô®ÔºàÁ≠âÂêå‰∫é‰∏Ä‰∏™Áä∂ÊÄÅÊú∫ÔºâÂÆûÁé∞ÔºâÔºåÁ∫øÁ®ãÊòØÈÄöËøáÊìç‰ΩúÁ≥ªÁªüÊù•ËøõË°åÊä¢Âç†ÂºèË∞ÉÂ∫¶ÁöÑ„ÄÇ&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zh.wikipedia.org/wiki/%E5%8D%8F%E7%A8%8B&#34;&gt;ÂçèÁ®ãwiki&lt;/a&gt;ÔºöÂçèÁ®ãÈùûÂ∏∏Á±ª‰ºº‰∫éÁ∫øÁ®ã„ÄÇ‰ΩÜÊòØÂçèÁ®ãÊòØÂçè‰ΩúÂºèÂ§ö‰ªªÂä°ÁöÑÔºåËÄåÁ∫øÁ®ãÂÖ∏ÂûãÊòØÊä¢Âç†ÂºèÂ§ö‰ªªÂä°ÁöÑ„ÄÇËøôÊÑèÂë≥ÁùÄÂçèÁ®ãÊèê‰æõÂπ∂ÂèëÊÄßËÄåÈùûÂπ∂Ë°åÊÄß„ÄÇÂçèÁ®ãË∂ÖËøáÁ∫øÁ®ãÁöÑÂ•ΩÂ§ÑÊòØÂÆÉ‰ª¨ÂèØ‰ª•Áî®‰∫éÁ°¨ÊÄßÂÆûÊó∂ÁöÑËØ≠Â¢ÉÔºàÂú®ÂçèÁ®ã‰πãÈó¥ÁöÑÂàáÊç¢‰∏çÈúÄË¶ÅÊ∂âÂèä‰ªª‰ΩïÁ≥ªÁªüË∞ÉÁî®Êàñ‰ªª‰ΩïÈòªÂ°ûË∞ÉÁî®ÔºâÔºåËøôÈáå‰∏çÈúÄË¶ÅÁî®Êù•ÂÆàÂç´ÂÖ≥ÈîÆÂå∫ÂùóÁöÑÂêåÊ≠•ÊÄßÂéüËØ≠ÔºàprimitiveÔºâÊØîÂ¶Ç‰∫íÊñ•ÈîÅ„ÄÅ‰ø°Âè∑ÈáèÁ≠âÔºåÂπ∂‰∏î‰∏çÈúÄË¶ÅÊù•Ëá™Êìç‰ΩúÁ≥ªÁªüÁöÑÊîØÊåÅ„ÄÇ&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.zhihu.com/question/332113890/answer/1052024052&#34;&gt;‰∫íÊñ•ÈîÅÔºàmutexÔºâÁöÑÂ∫ïÂ±ÇÂéüÁêÜÊòØ‰ªÄ‰πàÔºü&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.zhihu.com/question/50185085/answer/1342613525&#34;&gt;Âá∫‰∫é‰ªÄ‰πàÊ†∑ÁöÑÂéüÂõ†ÔºåËØûÁîü‰∫Ü„ÄåÂçèÁ®ã„ÄçËøô‰∏ÄÊ¶ÇÂøµÔºü&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ÊâÄ‰ª•ÔºåÂºÇÊ≠•ÁºñÁ®ãÊòØÂèØ‰ª•Áõ¥Êé•Áî®Â§çÊùÇÁöÑ‰ª£Á†ÅÁªìÊûÑÁõ¥Êé•ÂÜôÂá∫Êù•ÁöÑ„ÄÇÊØîÂ¶Ç‰∏äÈù¢ÁöÑ‰æãÂ≠êÂ∞±ÊòØÂú®‰∏Ä‰∏™Á∫øÁ®ãÈáåÈù¢Âéª‰æùÊ¨°ËØªÂÜô100Ê¨°„ÄÇËÄåRustÁöÑ&lt;code&gt;async/.await&lt;/code&gt;Ëß£ÂÜ≥ÊñπÊ°àÂÅöÁöÑÂ∑•‰ΩúÊòØ &lt;strong&gt;‚ÄúÂ∞ÜÂ§çÊùÇÁöÑÂºÇÊ≠•‰ª£Á†Å ===&amp;gt; Âà©Áî®ËØ≠Ê≥ïÁ≥ñ ===&amp;gt; ËΩ¨Âåñ‰∏∫Á±ª‰ºº‰∫éÂêåÊ≠•ÁöÑ‰ª£Á†Å(Êõ¥ÂÆπÊòìcoding)‚Äù&lt;/strong&gt;  Âç≥ &lt;strong&gt;‚ÄúÁî®ÂêåÊ≠•ÁöÑËØ≠‰πâËß£ÂÜ≥ÂºÇÊ≠•ÈóÆÈ¢ò‚Äù&lt;/strong&gt; „ÄÇ&lt;/p&gt;
"> Rust ÂºÇÊ≠•Âπ∂ÂèëÔºà‰∏ÄÔºâ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/about/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;Ê¨¢ËøéÊù•Âà∞ÊàëÁöÑÂ∞èÁ´ôÂëÄÔºåÂæàÈ´òÂÖ¥ÈÅáËßÅ‰Ω†ÔºÅü§ù&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ÂÖ≥‰∫éÊú¨Á´ô&#34;&gt;üè† ÂÖ≥‰∫éÊú¨Á´ô&lt;/h2&gt;
&lt;p&gt;‰∏Ä‰∏™Ëá™ËØ¥Ëá™ËØùÁöÑÂú∞Êñπ„ÄÇ&lt;/p&gt;
&lt;h2 id=&#34;Âçö‰∏ªÊòØË∞Å&#34;&gt;üë®‚Äçüíª Âçö‰∏ªÊòØË∞Å&lt;/h2&gt;
&lt;p&gt;‰∏ÄÂè™Âú®ÊØï‰∏öËæπÁºòÊå£ÊâéÁöÑÁßÉÂ§¥ÊÄ™„ÄÇ&lt;/p&gt;
&lt;h2 id=&#34;ÂÖ¥Ë∂£Áà±Â•Ω&#34;&gt;‚õπ ÂÖ¥Ë∂£Áà±Â•Ω&lt;/h2&gt;
&lt;p&gt;coding~&lt;br&gt;
‰ª•Âèä‰∏ÄÂàáÊúâË∂£ÁöÑ‰∫ãÊÉÖ‰ª¨~&lt;/p&gt;
&lt;h2 id=&#34;ËÅîÁ≥ªÊàëÂëÄ&#34;&gt;üì¨ ËÅîÁ≥ªÊàëÂëÄ&lt;/h2&gt;
&lt;p&gt;thubzy15@foxmail.com&lt;/p&gt;
">ÂÖ≥‰∫é</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://Busy-Bob.github.io/post/2020112-yi-shi/"" data-c="
          &lt;p&gt;‰ªé&lt;strong&gt;‰ªäÂ§©&lt;/strong&gt;ÂºÄÂßãËÆ∞ÂΩïÂ≠¶‰π†ÂíåÁîüÊ¥ª„ÄÇ&lt;/p&gt;
&lt;p&gt;Êàë‰πüÊòØ‰∏Ä‰∏™ÊáíÊÉ∞ÁöÑÂ∞èÂçö‰∏ªÂï¶~üòã&lt;/p&gt;
">2020.11.22 ‰ºäÂßã</a>
      </div>
      
    </div>
  </div>
</div>
<script>
  // var escape = "[{&#34;content&#34;:&#34;&lt;p&gt;Âü∫‰∫é&lt;a href=\&#34;https://cfsamson.github.io/books-futures-explained/0_background_information.html#callback-based-approaches\&#34;&gt;Futures Explained in 200 Lines of Rust&lt;/a&gt;Êñá‰∏≠ÁöÑÂõûË∞É‰ª£Á†Å„ÄÇ&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;h1 id=\&#34;Âéü‰ΩúËÄÖÁöÑ‰∏Ä‰∫õÂàÜÊûê\&#34;&gt;Âéü‰ΩúËÄÖÁöÑ‰∏Ä‰∫õÂàÜÊûê&lt;/h1&gt;\n&lt;p&gt;Âü∫‰∫éÂõûË∞ÉÊñπÊ≥ïËÉåÂêéÁöÑÊï¥‰∏™ÊÄùÊÉ≥ÊòØ‰øùÂ≠ò‰∏Ä‰∏™ÊåáÈíàÔºåËØ•ÊåáÈíàÊåáÂêë‰∏ÄÁªÑÊàë‰ª¨Â∏åÊúõÁ®çÂêéËøêË°åÁöÑ‰∏ÄÁ≥ªÂàóÊåá‰ª§Ôºå‰ª•ÂèäÈúÄË¶ÅÁöÑÂêÑÁßçÁä∂ÊÄÅ„ÄÇÂú®RustÔºåËøô(&lt;strong&gt;ÊåáÈíà&lt;/strong&gt;)Â∞ÜÊòØ‰∏Ä‰∏™Èó≠ÂåÖ„ÄÇÂú®‰∏ãÈù¢ÁöÑÁ§∫‰æã‰∏≠ÔºåÊàë‰ª¨Â∞ÜÊ≠§‰ø°ÊÅØ‰øùÂ≠òÂú®‰∏Ä‰∏™HashMap‰∏≠Ôºå‰ΩÜËøô‰∏çÊòØÂîØ‰∏ÄÁöÑÈÄâÈ°π„ÄÇ&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;‰ºòÂäøÔºö&lt;/strong&gt;\n&lt;ul&gt;\n&lt;li&gt;Êòì‰∫éÂú®Â§ßÂ§öÊï∞ËØ≠Ë®Ä‰∏≠ÂÆûÁé∞&lt;/li&gt;\n&lt;li&gt;Ê≤°Êúâ‰∏ä‰∏ãÊñáÂàáÊç¢&lt;/li&gt;\n&lt;li&gt;Áõ∏ÂØπËæÉ‰ΩéÁöÑÂÜÖÂ≠òÂºÄÈîÄ(Âú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ã)&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Áº∫ÁÇπÔºö&lt;/strong&gt;\n&lt;ul&gt;\n&lt;li&gt;Áî±‰∫éÊØè‰∏™‰ªªÂä°ÈÉΩÂøÖÈ°ª‰øùÂ≠ò‰ª•ÂêéÈúÄË¶ÅÁöÑÁä∂ÊÄÅÔºåÂõ†Ê≠§ÂÜÖÂ≠ò‰ΩøÁî®Â∞ÜÈöèÁùÄËÆ°ÁÆóÈìæ‰∏≠ÁöÑÂõûË∞ÉÊ¨°Êï∞Á∫øÊÄßÂ¢ûÈïø„ÄÇ&lt;/li&gt;\n&lt;li&gt;ÂæàÈöæÁêÜËß£„ÄÇËÆ∏Â§ö‰∫∫Â∑≤ÁªèÁü•ÈÅìËøôÊòØ‚ÄúÂõûË∞ÉÂú∞Áã±‚Äù„ÄÇ&lt;/li&gt;\n&lt;li&gt;ËøôÊòØ‰∏ÄÁßçÈùûÂ∏∏‰∏çÂêåÁöÑÁºñÂÜôÁ®ãÂ∫èÁöÑÊñπÂºèÔºåÂπ∂‰∏îÈúÄË¶ÅÂ§ßÈáèÈáçÂÜôÊâçËÉΩ‰ªé‚ÄúÊ≠£Â∏∏‚ÄùÁöÑÁ®ãÂ∫èÊµÅËΩ¨Êç¢‰∏∫‰ΩøÁî®‚ÄúÂü∫‰∫éÂõûË∞É‚ÄùÁöÑÁ®ãÂ∫èÊµÅ„ÄÇ&lt;/li&gt;\n&lt;li&gt;Áî±‰∫éRustÁöÑÊâÄÊúâÊùÉÊ®°ÂûãÔºå‰ªªÂä°‰πãÈó¥ÁöÑÁä∂ÊÄÅÂÖ±‰∫´Âú®‰ΩøÁî®ËØ•ÊñπÊ≥ïÊó∂ÊòØ‰∏Ä‰∏™Âõ∞ÈöæÁöÑÈóÆÈ¢ò„ÄÇ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h1 id=\&#34;‰ª£Á†Å\&#34;&gt;‰ª£Á†Å&lt;/h1&gt;\n&lt;p&gt;ÈÄöËøá‰ª£Á†ÅÔºåÂ≠¶‰π†Âà∞‰∫Ü‰∏Ä‰∫õÊñ∞‰∏úË•øÔºå‰∏ªË¶ÅÂåÖÊã¨Ôºö&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;thread_local!&lt;/code&gt; ÔºöÁî®Êù•ÂØπÊØè‰∏Ä‰∏™Á∫øÁ®ãÂàùÂßãÂåñÂêå‰∏Ä‰∏™ÂèòÈáèÁöÑ‰∏Ä‰∏™Êñ∞ÁöÑÂâØÊú¨„ÄÇ&lt;/li&gt;\n&lt;li&gt;trait ÂØπË±°Ôºö &lt;code&gt;Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt;&lt;/code&gt;,  &lt;code&gt;dyn Trait&lt;/code&gt;Ë°®Á§∫‰∏Ä‰∏™Á±ªÂûãÔºåÂº∫Ë∞ÉÊòØÂä®ÊÄÅÂàÜÂèëÔºåÂπ∂‰∏îÂøÖÈ°ªÊòØ‰∏Ä‰∏™&lt;code&gt;impl&lt;/code&gt;‰∫Ü&lt;code&gt;Trait&lt;/code&gt;ÁöÑÁ±ªÂûã„ÄÇ&lt;/li&gt;\n&lt;li&gt;‰º†ÈÄíÈó≠ÂåÖÂèØ‰ª•‰ΩøÁî®&lt;code&gt;impl Trait&lt;/code&gt;ÔºåËøô‰πüÊòØ‰∏Ä‰∏™Á±ªÂûãÔºåÂπ∂‰∏îËØ•Á±ªÂûãÊòØ&lt;code&gt;impl&lt;/code&gt;‰∫Ü&lt;code&gt;Trait&lt;/code&gt;ÁöÑÁ±ªÂûã„ÄÇ&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;thread::spawn&lt;/code&gt;‰ºöÁõ¥Êé•Êñ∞ÂºÄ‰∏Ä‰∏™Â≠êÁ∫øÁ®ãËøêË°åÔºå‰∏ç‰ºöÈÄ†Êàê‰∏ªÁ∫øÁ®ãÈòªÂ°û„ÄÇ&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;std::sync::mpsc::Receiver.iter()&lt;/code&gt; ËøôÊòØ‰∏Ä‰∏™ÈòªÂ°ûÁöÑËø≠‰ª£Âô®ÔºåÂè™ÊúâÂΩìsenderÈÉΩË¢´dropÁöÑÊó∂ÂÄôÔºåËØ•Ëø≠‰ª£Âô®ÁöÑ&lt;code&gt;.next()&lt;/code&gt; Êâç‰ºöÂèòÊàê&lt;code&gt;None&lt;/code&gt;ÔºåÂê¶Âàô‰ºö‰∏ÄÁõ¥Á≠âÂæÖ„ÄÇ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;blockquote&gt;\n&lt;p&gt;ÂõûË∞ÉÊòØÂú®Âêå‰∏Ä‰∏™Á∫øÁ®ã‰∏äËøêË°åÁöÑ„ÄÇ Ëøô‰∏™‰æãÂ≠ê‰∏≠,Êàë‰ª¨ÂàõÂª∫ÁöÑÂ≠êÁ∫øÁ®ãÂü∫Êú¨‰∏äÂè™ÊòØÁî®‰ΩúËÆ°Êó∂Âô®Ôºå‰ΩÜÂèØ‰ª•Ë°®Á§∫‰ªª‰ΩïÁ±ªÂûãÁöÑÊàë‰ª¨Â∞Ü‰∏çÂæó‰∏çÁ≠âÂæÖÁöÑËµÑÊ∫ê„ÄÇ&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;\nfn program_main() {\n    // Á¨¨‰∏Ä‰∏™ËæìÂá∫\n    println!(&amp;quot;So we start the program here!&amp;quot;);\n    // ËøêË°åÂà∞ËøôÂÑøÁöÑÊó∂ÂÄôÔºå 0ms\n    // 1„ÄÅÊääÈó≠ÂåÖÈáåÁöÑ‰ªªÂä°ÊîæÂú®callbacks‰∏≠Ôºånext_id(Ê≠§Êó∂‰∏∫1)‰Ωú‰∏∫keyÔºåÈó≠ÂåÖ‰Ωú‰∏∫valÔºå next_id ÈÄíÂ¢û„ÄÇ\n    // 2„ÄÅ‰ºöÊúâ‰∏Ä‰∏™Â≠êÁ∫øÁ®ãÂú®set_timeoutÈáåÈù¢Ë¢´ÂàõÂª∫ÔºåÂè™Ë¥üË¥£Âª∂Êó∂„ÄÇËøêË°åÊó∂ÂÄô‰∏ç‰ºöË¢´ËØ•Ë¥üË¥£Âª∂Êó∂Â≠êÁ∫øÁ®ãÈòªÂ°û\n    set_timeout(200, || {\n        // Á¨¨‰∫î‰∏™ËæìÂá∫\n        println!(&amp;quot;We create tasks with a callback that runs once the task finished!&amp;quot;);\n    });\n    // ËøêË°åÂà∞ËøôÂÑøÁöÑÊó∂ÂÄôÔºå ‰ªçÁÑ∂ÊòØ0ms\n    // 1„ÄÅÊääÈó≠ÂåÖÈáåÁöÑ‰ªªÂä°ÊîæÂú®callbacks‰∏≠Ôºånext_id(Ê≠§Êó∂‰∏∫2)‰Ωú‰∏∫keyÔºåÈó≠ÂåÖ‰Ωú‰∏∫valÔºå next_id ÈÄíÂ¢û„ÄÇ\n    // 2„ÄÅ‰ºöÊúâ‰∏Ä‰∏™Â≠êÁ∫øÁ®ãÂú®set_timeoutÈáåÈù¢Ë¢´ÂàõÂª∫ÔºåÂè™Ë¥üË¥£Âª∂Êó∂„ÄÇËøêË°åÊó∂ÂÄô‰∏ç‰ºöË¢´ËØ•Ë¥üË¥£Âª∂Êó∂Â≠êÁ∫øÁ®ãÈòªÂ°û\n    set_timeout(100, || {\n        // Á¨¨‰∏â‰∏™ËæìÂá∫\n        println!(&amp;quot;We can even chain sub-tasks...&amp;quot;);\n        set_timeout(50, || {\n            // Á¨¨Âõõ‰∏™ËæìÂá∫\n            println!(&amp;quot;...like this!&amp;quot;);\n        })\n    });\n    // ËøêË°åÂà∞ËøôÂÑøÁöÑÊó∂ÂÄôÔºå ‰ªçÁÑ∂ÊòØ0ms\n    // Á¨¨‰∫å‰∏™ËæìÂá∫\n    println!(&amp;quot;While our tasks are executing we can do other stuff instead of waiting.&amp;quot;);\n}\n\nfn main() {\n    RT.with(|rt| rt.run(program_main));\n}\n\nuse std::sync::mpsc::{channel, Receiver, Sender};\nuse std::{cell::RefCell, collections::HashMap, thread};\n\n\n// threadlocal: ÂèòÈáèÊòØÂêå‰∏Ä‰∏™Ôºå‰ΩÜÊòØÊØè‰∏™Á∫øÁ®ãÈÉΩ‰ΩøÁî®Âêå‰∏Ä‰∏™ÂàùÂßãÂÄºÔºå‰πüÂ∞±ÊòØ‰ΩøÁî®Âêå‰∏Ä‰∏™ÂèòÈáèÁöÑ‰∏Ä‰∏™Êñ∞ÁöÑÂâØÊú¨\n// ÊØè‰∏™Á∫øÁ®ãÈÉΩÂÆû‰æãÂåñ‰∫Ü‰∏Ä‰∏™RuntimeÔºå ÂÆûÈôÖ‰∏äRTÊòØ‰∏Ä‰∏™RT: std::thread::LocalKey&amp;lt;Runtime&amp;gt;\n// ËøôÂÑøÂ•ΩÂÉèÂè™Áî®Âà∞‰∫Ü‰∏Ä‰∏™ÂâØÊú¨\nthread_local! {\n    static RT: Runtime = Runtime::new();\n}\n\nstruct Runtime {\n    // callbacks ‰∏≠ÁöÑBox&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt; ÊòØ‰∏Ä‰∏™ trait ÂØπË±°„ÄÇ \n    // ÊØè‰∏Ä‰∏™Èó≠ÂåÖÂÆû‰æãÊúâÂÖ∂Ëá™Â∑±Áã¨ÊúâÁöÑÂåøÂêçÁ±ªÂûã, Èó≠ÂåÖÊúâtrait boundÔºåÊØîÂ¶Ç Fn(u32) -&amp;gt; u32„ÄÇ \n    // callbacks Áî®Êù•Â≠ò‰∏ã‰∏Ä‰∏™ËøêË°åÁöÑÁ®ãÂ∫èÂùóÔºàËøôÈáåÁî®Èó≠ÂåÖÊù•Ë°®Á§∫Ôºâ„ÄÇ\n    callbacks: RefCell&amp;lt;HashMap&amp;lt;usize, Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt;&amp;gt;&amp;gt;,\n    // ÂÇ®Â≠ò‰∏ã‰∏Ä‰∏™Èó≠ÂåÖÁöÑid\n    next_id: RefCell&amp;lt;usize&amp;gt;,\n    // ÊØè‰∏Ä‰∏™Á≠âÂæÖÂ≠êÁ∫øÁ®ãÊã•Êúâ‰∏Ä‰∏™ÔºåÂú®Âª∂Êó∂ÁªìÊùüÂêéÔºåÂèëÈÄÅÈúÄË¶ÅËøêË°åÁöÑid\n    evt_sender: Sender&amp;lt;usize&amp;gt;,\n    // Êé•Âèó‰∏ã‰∏Ä‰∏™ËØ•ËøêË°åÁöÑÈó≠ÂåÖÁöÑid\n    evt_reciever: Receiver&amp;lt;usize&amp;gt;,\n}\n\n// cb ÊòØ‰º†ÈÄíÁöÑÊòØ‰∏Ä‰∏™Èó≠ÂåÖ,The other use of the impl keyword is in impl Trait syntax, which can be seen as a shorthand for &amp;quot;a concrete type that implements this trait&amp;quot;. \n// Its primary use is working with closures, which have type definitions generated at compile time that can&#39;t be simply typed out.\n// ‰º†ÈÄíÈó≠ÂåÖÊó∂ÂÄôÁî®impl Trait„ÄÇË°®Á§∫‰∏Ä‰∏™„ÄêÁ±ªÂûã„ÄëÔºåËøô‰∏™Á±ªÂûãimplements ‰∫ÜËøô‰∏™trait\n// https://kaisery.github.io/trpl-zh-cn/ch10-02-traits.html\nfn set_timeout(ms: u64, cb: impl FnOnce() + &#39;static) {\n    // with ÊñπÊ≥ïÊòØ Âú® std::thread::local::LocalKey ‰∏≠ÊúâÁöÑÔºå‰πüÂ∞±ÊòØ RT ÊúâÁöÑ „ÄÇ\n    // Ëé∑ÂèñÂØπËøô‰∏™TLSÈîÆ‰∏≠ÁöÑÂÄºÁöÑÂºïÁî®„ÄÇÂ¶ÇÊûúËøô‰∏™Á∫øÁ®ãËøòÊ≤°ÊúâÂºïÁî®Ëøô‰∏™ÈîÆÔºåËøôÂ∞ÜÂª∂ËøüÂàùÂßãÂåñËøô‰∏™ÂÄº„ÄÇ\n    // Áõ∏ÂΩì‰∫éÁî®.with()Â∞±ÊòØÂú®‰ΩøÁî®ËØ•ÂèòÈáèÁöÑÂáΩÊï∞„ÄÇ\n    RT.with(|rt| {\n        let id = *rt.next_id.borrow();\n        // next_idÈÄíÂ¢û\n        *rt.next_id.borrow_mut() += 1;\n        // callbacksÂ≠ò (id: usize, Box&amp;lt;dyn FnOnce() -&amp;gt; ()&amp;gt;)\n        // ‰∏∫‰ªÄ‰πàÈúÄË¶Å Box::new(cb) ËøôÊ†∑Â≠êÁöÑÂëÄ, Âõ†‰∏∫ËæìÂÖ•ÁöÑÁ±ªÂûãÊú™Áü•\n        // cb Âú®ËæìÂÖ•ÂèÇÊï∞‰∏≠Áî®ÁöÑimpl FnOnce() + &#39;static Êù•ÈôêÂÆö„ÄÇ\n        rt.callbacks.borrow_mut().insert(id, Box::new(cb));\n        // The sending-half of Rust&#39;s asynchronous channel type. \n        // This half can only be owned by one thread, but it can be cloned to send to other threads.\n        // ‰∏Ä‰∏™senderÂè™ËÉΩÂ§üÁî®Âú®‰∏Ä‰∏™Á∫øÁ®ãÈáåÈù¢Ôºå‰ΩÜÊòØÂèØ‰ª•ÂÖãÈöÜÂà∞ÂÖ∂‰ªñÁ∫øÁ®ã‰∏≠ÔºåÊ≠§Êó∂receiverËøòÊòØÂè™Êúâ‰∏Ä‰∏™\n        let evt_sender = rt.evt_sender.clone();\n        // thread::spawn‰ºöÁõ¥Êé•Êñ∞ÂºÄ‰∏Ä‰∏™Â≠êÁ∫øÁ®ãËøêË°åÔºå‰∏ç‰ºöÈÄ†Êàê‰∏ªÁ∫øÁ®ãÈòªÂ°û„ÄÇÂäüËÉΩÊòØ‰ºëÁú†ÂêéÂÜçÊääidËæìÂá∫Âá∫Âéª\n        thread::spawn(move || {\n            thread::sleep(std::time::Duration::from_millis(ms));\n            // Âú®Âª∂Êó∂ÁªìÊùüÂêéÔºåÂèëÈÄÅÂΩìÂâçÂª∂Êó∂ÁªìÊùüÁöÑ‰ªªÂä°id\n            evt_sender.send(id).unwrap();\n        });\n    });\n}\n\n\nimpl Runtime {\n    fn new() -&amp;gt; Self {\n        // ËøôÊòØ‰∏Ä‰∏™asynchronous channelÔºå ÊØè‰∏™Á∫øÁ®ãÈáåÈù¢ÈÉΩÊúâ‰∏Ä‰∏™senderÂíåreceiver\n        let (evt_sender, evt_reciever) = channel();\n        Runtime {\n            callbacks: RefCell::new(HashMap::new()),\n            next_id: RefCell::new(1),\n            evt_sender,\n            evt_reciever,\n        }\n    }\n\n    // ËøôÂÑøÊòØÂú®ËøêË°å‰∏Ä‰∏™ÂáΩÊï∞.\n    fn run(&amp;amp;self, program: fn()) {\n        // Áõ¥Êé•ËøêË°åÔºå \n        program();\n        // 0ms ËøêË°åÂà∞ËøôÂÑø\n        // ËøêË°åÁªìÊùüÂêéÔºåÂºÄÂßãÈÄê‰∏™ËÆøÈóÆRuntime ÈáåÈù¢ÁöÑ‰ºëÁú†Â≠êÁ∫øÁ®ãËøîÂõûÁöÑ ÂØπÂ∫îidÁöÑÂÄº„ÄÇ\n        // This iterator will block whenever next is called, waiting for a new message, and None will be returned when the corresponding channel has hung up.\n        // ËøôÊòØ‰∏Ä‰∏™ÈòªÂ°ûÁöÑÊñπÊ≥ïÔºåÂè™ÊúâÂΩìsenderÈÉΩË¢´dropÁöÑÊó∂ÂÄôÔºåËØ•Ëø≠‰ª£Âô®ÁöÑ.next() Êâç‰ºöÂèòÊàêNone\n        for evt_id in &amp;amp;self.evt_reciever {\n            // ËøôÂÑøÁõ¥Êé•‰ªéHashMapÈáåremoveÂá∫ÂØπÂ∫îÁºñÂè∑ÁöÑÈó≠ÂåÖ„ÄÇ\n            let cb = self.callbacks.borrow_mut().remove(&amp;amp;evt_id).unwrap();\n            cb();\n            // ÊòØ‰∏çÊòØ‰πü‰∏çÈúÄË¶ÅËøôÂè•ËØùÔºü\n            // „Äê‰∏çË°åÔºÅ„Äë: Âõ†‰∏∫Âú®RuntimeÈáåÈù¢‰∏Ä‰∏™senderÔºå‰∏ç‰ºöË¢´dropÊéâÔºåÂ∞±‰ºöÈô∑ÂÖ•Êó†ÈôêÁ≠âÂæÖ‰∫Ü\n            if self.callbacks.borrow().is_empty() {\n                break;\n            }\n        }\n    }\n}\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;ÊÄªÁªì\&#34;&gt;ÊÄªÁªì&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li&gt;Â¶ÇÊûúÁî®Âü∫‰∫éÂõûË∞ÉÁöÑÊñπÊ≥ïÊù•ËØ¥RustÂºÇÊ≠•ÁºñÁ®ã‰∏≠ÁöÑÂî±Ê≠åË∑≥Ëàû‰æãÂ≠êÔºå ‰πüÂ∞±ÊòØÔºå‚ÄúËÆ°Êó∂Âô®‚Äù‰ª£Ë°®ÁöÑ‚ÄúÁ≠âÂæÖËµÑÊ∫ê‚ÄùÔºåÁ≠â‰ª∑‰∫é ‚ÄúÂî±Ê≠å‚ÄùÂâçÁ≠âÂæÖ&amp;quot;Â≠¶Ê≠å&amp;quot;„ÄÇÊâÄ‰ª•ÔºåÂú®ÂõûË∞ÉÈÄªËæë‰∏≠ &lt;code&gt;sing_song()&lt;/code&gt;‰Ωú‰∏∫Èó≠ÂåÖÔºå &lt;code&gt;learn_song()&lt;/code&gt; ‰Ωú‰∏∫Â≠êÁ∫øÁ®ãÔºå‰∏ªÁ∫øÁ®ãËøêË°å&lt;code&gt;dance()&lt;/code&gt; „ÄÇÂ≠êÁ∫øÁ®ãÁªìÊùüÂêéÂÜçËøêË°åËøô‰∏™Èó≠ÂåÖ„ÄÇËøêË°åÈ°∫Â∫èÊòØ &lt;code&gt;learn_song()&lt;/code&gt; ÔºàÂ≠êÁ∫øÁ®ãÔºâÂíå &lt;code&gt;dance()&lt;/code&gt;  Ôºà‰∏ªÁ∫øÁ®ãÔºâÂêåÊó∂ËøêË°åÔºåÂú®‰∏§‰∏™‰ªªÂä°ÂùáÂÆåÊàêÂêéÔºå ÂÜçÂõûË∞É&lt;code&gt;sing_song()&lt;/code&gt;Ëøô‰∏™Èó≠ÂåÖ„ÄÇ&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Â≠êÁ∫øÁ®ã&lt;/strong&gt;ÂØπÂ∫î &lt;strong&gt;‚ÄúÁ≠âÂæÖËµÑÊ∫ê‚Äù&lt;/strong&gt; Ôºõ &lt;strong&gt;Èó≠ÂåÖ&lt;/strong&gt;ÂØπÂ∫î‚Äú&lt;strong&gt;Êé•Êî∂Âà∞Á≠âÂæÖËµÑÊ∫êÂêéÁöÑÊìç‰Ωú‚Äù&lt;/strong&gt;„ÄÇ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;async fn learn_and_sing() {\n    // Âú®Âî±Ê≠å‰πãÂâçÁ≠âÂæÖÂ≠¶Ê≠åÂÆåÊàê\n    // ËøôÈáåÊàë‰ª¨‰ΩøÁî® `.await` ËÄå‰∏çÊòØ `block_on` Êù•Èò≤Ê≠¢ÈòªÂ°ûÁ∫øÁ®ãÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂêåÊó∂ÊâßË°å `dance` ‰∫Ü„ÄÇ\n    let song = learn_song().await;\n    sing_song(song).await;\n}\n async fn async_main() {\n    let f1 = learn_and_sing();\n    let f2 = dance();\n     // `join!` Á±ª‰ºº‰∫é `.await` Ôºå‰ΩÜÊòØÂèØ‰ª•Á≠âÂæÖÂ§ö‰∏™ future Âπ∂ÂèëÂÆåÊàê\n     // Â¶ÇÊûúÂ≠¶Ê≠åÁöÑÊó∂ÂÄôÊúâ‰∫ÜÁü≠ÊöÇÁöÑÈòªÂ°ûÔºåË∑≥ËàûÂ∞Ü‰ºöÊé•ÁÆ°ÂΩìÂâçÁöÑÁ∫øÁ®ãÔºåÂ¶ÇÊûúË∑≥ËàûÂèòÊàê‰∫ÜÈòªÂ°û\n     // Â≠¶Ê≠åÂ∞Ü‰ºöËøîÂõûÊù•Êé•ÁÆ°Á∫øÁ®ã„ÄÇÂ¶ÇÊûú‰∏§‰∏™futuresÈÉΩÊòØÈòªÂ°ûÁöÑÔºå\n     // Ëøô‰∏™‚Äòasync_main&#39;ÂáΩÊï∞Â∞±‰ºöÂèòÊàêÈòªÂ°ûÁä∂ÊÄÅÔºåÂπ∂ÁîüÊàê‰∏Ä‰∏™ÊâßË°åÂô®\n    futures::join!(f1, f2)\n}\n fn main() {\n    block_on(async_main());\n}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;rust-ji-yu-hui-diao-de-yi-bu-fang-fa-fen-xi_&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;Âü∫‰∫é&lt;a href=\&#34;https://cfsamson.github.io/books-futures-explained/0_background_information.html#callback-based-approaches\&#34;&gt;Futures Explained in 200 Lines of Rust&lt;/a&gt;Êñá‰∏≠ÁöÑÂõûË∞É‰ª£Á†Å„ÄÇ&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;Rust Âü∫‰∫éÂõûË∞ÉÁöÑÂºÇÊ≠•ÊñπÊ≥ïÂàÜÊûê&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;ÂõûË∞É&#34;,&#34;slug&#34;:&#34;dccFuZ2yD&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/dccFuZ2yD/&#34;},{&#34;name&#34;:&#34;rust&#34;,&#34;slug&#34;:&#34;PUCwH47Rx&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/PUCwH47Rx/&#34;},{&#34;name&#34;:&#34;ÂºÇÊ≠•ÁºñÁ®ã&#34;,&#34;slug&#34;:&#34;hDYBWTXHUV&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/hDYBWTXHUV/&#34;}],&#34;date&#34;:&#34;2020-11-30 16:57:43&#34;,&#34;dateFormat&#34;:&#34;2020-11-30&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/rust-ji-yu-hui-diao-de-yi-bu-fang-fa-fen-xi_/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;8 min read&#34;,&#34;time&#34;:474000,&#34;words&#34;:1926,&#34;minutes&#34;:8},&#34;description&#34;:&#34;Âü∫‰∫éFutures Explained in 200 Lines of RustÊñá‰∏≠ÁöÑÂõûË∞É‰ª£Á†Å„ÄÇ\n\nÂéü‰ΩúËÄÖÁöÑ‰∏Ä‰∫õÂàÜÊûê\nÂü∫‰∫éÂõûË∞ÉÊñπÊ≥ïËÉåÂêéÁöÑÊï¥‰∏™ÊÄùÊÉ≥ÊòØ‰øùÂ≠ò‰∏Ä‰∏™ÊåáÈíàÔºåËØ•ÊåáÈíàÊåáÂêë‰∏ÄÁªÑÊàë‰ª¨Â∏åÊúõÁ®çÂêéËøêË°åÁöÑ‰∏ÄÁ≥ªÂàóÊåá‰ª§Ôºå‰ª•ÂèäÈúÄË¶ÅÁöÑÂêÑÁßçÁä∂ÊÄÅ„ÄÇÂú®RustÔºåËøô(...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8E%9F%E4%BD%9C%E8%80%85%E7%9A%84%E4%B8%80%E4%BA%9B%E5%88%86%E6%9E%90\&#34;&gt;Âéü‰ΩúËÄÖÁöÑ‰∏Ä‰∫õÂàÜÊûê&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BB%A3%E7%A0%81\&#34;&gt;‰ª£Á†Å&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%80%BB%E7%BB%93\&#34;&gt;ÊÄªÁªì&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;ÂØπ‰∫éconst Ê≥õÂûãÔºåÁ¨îËÄÖ‰πü‰∫ÜËß£ÁîöÂ∞ë„ÄÇÂÄüÂÜôËØ•ÊñáÁ´†ÁöÑÊú∫‰ºöÔºåÂ≠¶‰π†‰∏Ä‰∏ãRustÁöÑconst Ê≥õÂûã(Const Generics)&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;h2 id=\&#34;const_unit_poc-Âà©Áî®const-genericsÂÆûÁé∞ÁöÑÁâ©ÁêÜÂçï‰ΩçÂ∫ì\&#34;&gt;&lt;code&gt;const_unit_poc&lt;/code&gt; ÔºöÂà©Áî®const genericsÂÆûÁé∞ÁöÑÁâ©ÁêÜÂçï‰ΩçÂ∫ì&lt;/h2&gt;\n&lt;p&gt;&lt;code&gt;const_unit_poc&lt;/code&gt;  ÊòØÂá†Â§©ÂâçÊé®Âá∫ÁöÑÔºåÁéáÂÖà‰ΩøÁî®const Ê≥õÂûãÁöÑÂ∫ì„ÄÇËØ•Â∫ìÁöÑ‰ΩøÁî®ÊñπÊ≥ïÂ¶Ç‰∏ãÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;#![feature(const_generics, const_evaluatable_checked)]\nuse const_unit_poc::values::{m, kg, s, N};\n\nlet distance = 1.0 * m;\nlet mass = 18.0 * kg;\nlet force = distance * mass / (1.8 * s * 2.0 * s);\nassert_eq!(force, 5.0 * N);\n\nlet mut mutable_distance = 3.2 * m;\nmutable_distance -= 0.2 * m;\nmutable_distance += 2.0 * m;\n\nassert_eq!(mutable_distance, 5.0 * m);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;‰ª£Á†ÅÂèäÂÖ∂ÁÆÄ‰æøÔºÅÊòìÊáÇÔºÅÈùûÂ∏∏Á•ûÂ•áÔºÅÊâÄ‰ª•Â∞±Ê†πÊçÆËØ•Â∫ìÁöÑÊ∫ê‰ª£Á†ÅÁúãÁúãconst Ê≥õÂûãËØ•Â¶Ç‰Ωï‰ΩøÁî®„ÄÇ&lt;/p&gt;\n&lt;h2 id=\&#34;const_unit_poc-Ê∫êÁ†ÅÂàÜÊûê\&#34;&gt;&lt;code&gt;const_unit_poc&lt;/code&gt; Ê∫êÁ†ÅÂàÜÊûê&lt;/h2&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs\&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;#![feature(const_generics, const_evaluatable_checked, doc_cfg)]\n#![allow(incomplete_features)]\n#![cfg_attr(feature = &amp;quot;non_ascii&amp;quot;, feature(non_ascii_idents))]\n\nuse std::ops;\n\npub mod units;\npub mod values;\n\n#[derive(Copy, Clone, Debug, PartialEq, Eq)]\n#[allow(non_snake_case)]\npub struct SiUnit {\n    m: i8,\n    kg: i8,\n    s: i8,\n    A: i8,\n    K: i8,\n    mol: i8,\n    cd: i8,\n}\n\n// ÂêéÈù¢ËøòÊúâÂÜÖÂÆπ\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ËøôÈáåÂºïÂÖ•‰∫Ü&lt;code&gt;units&lt;/code&gt;, &lt;code&gt;values&lt;/code&gt;‰∏§‰∏™modÔºåÂπ∂‰∏îÂ£∞Êòé‰∫Ü&lt;code&gt;SiUnit&lt;/code&gt; Ëøô‰∏™ÁªìÊûÑ‰ΩìÔºåÈáåÈù¢ÁöÑÊàêÂëòÊòØSIÁöÑ7‰∏™Ê†áÂáÜÂçï‰ΩçÔºå Á±ªÂûã‰∏∫i8„ÄÇ&lt;/p&gt;\n&lt;p&gt;ÁúãÂà∞ËøôÂÑøÔºåÁ¨îËÄÖÊé®ÊµãÂ∫îËØ•ÊòØ‰ΩøÁî® &lt;code&gt;SiUnit&lt;/code&gt; Ëøô‰∏™ÁªìÊûÑ‰ΩìÊù•ÂÆû‰æãÂåñÂêÑÁßçÂ∏∏Áî®ÁöÑÂçï‰ΩçÔºàÂ¶Ç&lt;span class=\&#34;katex\&#34;&gt;&lt;span class=\&#34;katex-mathml\&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=\&#34;application/x-tex\&#34;&gt;N&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=\&#34;katex-html\&#34; aria-hidden=\&#34;true\&#34;&gt;&lt;span class=\&#34;base\&#34;&gt;&lt;span class=\&#34;strut\&#34; style=\&#34;height:0.68333em;vertical-align:0em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mord mathdefault\&#34; style=\&#34;margin-right:0.10903em;\&#34;&gt;N&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ÔºâÔºåÂÖ∂‰∏≠ÊàêÂëòÁöÑÂÄºË°®Á§∫ËØ•Âçï‰ΩçË°®Á§∫ÊàêÂü∫Êú¨Âçï‰ΩçÂêéÁöÑÊåáÊï∞ÁöÑÂÄºÔºàÂ¶Ç&lt;span class=\&#34;katex\&#34;&gt;&lt;span class=\&#34;katex-mathml\&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;‚àó&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mrow&gt;&lt;mo&gt;‚àí&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=\&#34;application/x-tex\&#34;&gt;N=m*s^{-2}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=\&#34;katex-html\&#34; aria-hidden=\&#34;true\&#34;&gt;&lt;span class=\&#34;base\&#34;&gt;&lt;span class=\&#34;strut\&#34; style=\&#34;height:0.68333em;vertical-align:0em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mord mathdefault\&#34; style=\&#34;margin-right:0.10903em;\&#34;&gt;N&lt;/span&gt;&lt;span class=\&#34;mspace\&#34; style=\&#34;margin-right:0.2777777777777778em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mrel\&#34;&gt;=&lt;/span&gt;&lt;span class=\&#34;mspace\&#34; style=\&#34;margin-right:0.2777777777777778em;\&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=\&#34;base\&#34;&gt;&lt;span class=\&#34;strut\&#34; style=\&#34;height:0.46528em;vertical-align:0em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mord mathdefault\&#34;&gt;m&lt;/span&gt;&lt;span class=\&#34;mspace\&#34; style=\&#34;margin-right:0.2222222222222222em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mbin\&#34;&gt;‚àó&lt;/span&gt;&lt;span class=\&#34;mspace\&#34; style=\&#34;margin-right:0.2222222222222222em;\&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=\&#34;base\&#34;&gt;&lt;span class=\&#34;strut\&#34; style=\&#34;height:0.8141079999999999em;vertical-align:0em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;mord\&#34;&gt;&lt;span class=\&#34;mord mathdefault\&#34;&gt;s&lt;/span&gt;&lt;span class=\&#34;msupsub\&#34;&gt;&lt;span class=\&#34;vlist-t\&#34;&gt;&lt;span class=\&#34;vlist-r\&#34;&gt;&lt;span class=\&#34;vlist\&#34; style=\&#34;height:0.8141079999999999em;\&#34;&gt;&lt;span style=\&#34;top:-3.063em;margin-right:0.05em;\&#34;&gt;&lt;span class=\&#34;pstrut\&#34; style=\&#34;height:2.7em;\&#34;&gt;&lt;/span&gt;&lt;span class=\&#34;sizing reset-size6 size3 mtight\&#34;&gt;&lt;span class=\&#34;mord mtight\&#34;&gt;&lt;span class=\&#34;mord mtight\&#34;&gt;‚àí&lt;/span&gt;&lt;span class=\&#34;mord mtight\&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;Ôºå Âàô&lt;code&gt;N.m == 1; N.s == -2&lt;/code&gt;Ôºâ„ÄÇ&lt;/p&gt;\n&lt;p&gt;ÂÜçÁúã‰∏Ä‰∏ãÂºïÂÖ•ÁöÑÊ®°Âùó&lt;code&gt;units&lt;/code&gt;ÁöÑÂÜÖÂÆπ&lt;/p&gt;\n&lt;h3 id=\&#34;unitsÁöÑÂÆûÁé∞\&#34;&gt;unitsÁöÑÂÆûÁé∞&lt;/h3&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/units.rs\&#34;&gt;&lt;code&gt;./src/units.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;#![allow(non_upper_case_globals)]\nuse super::SiUnit;\nconst NONE: SiUnit = SiUnit { m: 0, kg: 0, s: 0, A: 0, K: 0, mol: 0, cd: 0 };\n/// meter\npub const m: SiUnit = SiUnit { m: 1, ..NONE };\n/// ‰∏≠Èó¥ÂÜÖÂÆπÁúÅÁï•\n/// lux\npub const lx: SiUnit = SiUnit { m: -2, cd: 1, ..NONE };\n/// square meter\npub const sq_m: SiUnit = SiUnit { m: 2, ..NONE };\n/// cubic meter\npub const cu_m: SiUnit = SiUnit { m: 3, ..NONE };\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÁöÑÁ°ÆÂíåÁåúÊÉ≥‰∏ÄËá¥ÔºÅÊ≥®ÊÑèÁªìÊûÑ‰ΩìÂÆû‰æãÂåñÊó∂ÂÄôËøôÂÑø‰ΩøÁî®‰∫Ü&lt;code&gt;..NONE&lt;/code&gt;ÔºåËøôÊòØÁî®Â∑≤ÁªèÂàõÂª∫ÁöÑÂÆû‰æãNone‰∏ä&lt;strong&gt;Êõ¥Êñ∞ÈÉ®ÂàÜÂèÇÊï∞&lt;/strong&gt;ÔºåÂàõÂª∫Êñ∞ÁöÑÂÆû‰æãÔºåËßÅ&lt;a href=\&#34;https://kaisery.github.io/trpl-zh-cn/ch05-01-defining-structs.html#%E4%BD%BF%E7%94%A8%E7%BB%93%E6%9E%84%E4%BD%93%E6%9B%B4%E6%96%B0%E8%AF%AD%E6%B3%95%E4%BB%8E%E5%85%B6%E4%BB%96%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B\&#34;&gt;‰ΩøÁî®ÁªìÊûÑ‰ΩìÊõ¥Êñ∞ËØ≠Ê≥ï‰ªéÂÖ∂‰ªñÂÆû‰æãÂàõÂª∫ÂÆû‰æã&lt;/a&gt;„ÄÇËøôÂÑø‰ΩøÁî®‰∫Üconst‰ΩøÂæóÂêÑ‰∏™Âçï‰ΩçÂÖ®Â±ÄÂèØËßÅ‰∏î‰∏çÂèØÂèò„ÄÇ&lt;/p&gt;\n&lt;p&gt;Áé∞Âú®Â∑≤ÁªèÊúâ‰∫ÜÂçï‰ΩçÔºå‰ΩÜÊòØÊàë‰ª¨Ê≥®ÊÑèÂà∞‰ª£Á†Å‰∏≠&lt;code&gt;assert_eq!(mutable_distance, 5.0 * m);&lt;/code&gt;‰∏ç‰ªÖ‰ªÖË¶ÅÊ£ÄÊµãÂçï‰ΩçÁöÑÂÄºÔºåËøòË¶ÅÊ£ÄÊµãÁ≥ªÊï∞ÁöÑÂÄºÔºåÁªìÊûÑ‰Ωì‰∏éÊï∞Â≠óÁõ∏‰πòÂêéÂèàËØ•Â¶Ç‰ΩïË°®Á§∫Âë¢ÔºüËøô‰∏™ÈóÆÈ¢òÂ∫îËØ•ËÉΩÂ§ü‰ªéÂè¶‰∏Ä‰∏™Ê®°ÂùóÂæóÂà∞Á≠îÊ°àÂêß„ÄÇ&lt;/p&gt;\n&lt;h3 id=\&#34;ÂØπÂçï‰ΩçÁ≥ªÊï∞ÁöÑÂåÖË£Ö\&#34;&gt;ÂØπÂçï‰ΩçÁ≥ªÊï∞ÁöÑÂåÖË£Ö&lt;/h3&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/values.rs\&#34;&gt;&lt;code&gt;./src/values.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;#![allow(non_upper_case_globals)]\nuse crate::{units, Quantity};\n// base\n/// 1 meter\npub const m: Quantity&amp;lt;{ units::m }&amp;gt; = Quantity { raw_value: 1.0 };\n/// 1 kilogram\npub const kg: Quantity&amp;lt;{ units::kg }&amp;gt; = Quantity { raw_value: 1.0 };\n/// 1 second\npub const s: Quantity&amp;lt;{ units::s }&amp;gt; = Quantity { raw_value: 1.0 };\n/// ÂêéÈù¢ËøòÊúâ\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Ê≥®ÊÑè&lt;/strong&gt;Ôºö&lt;code&gt;use crate::{units, Quantity}&lt;/code&gt;, ‰ª£Ë°®ÁöÑÊòØÂØºÂÖ•ÁöÑÂΩìÂâç&lt;code&gt;crate&lt;/code&gt;‰∏≠ÁöÑ&lt;code&gt;units&lt;/code&gt;Âíå&lt;code&gt;Quantity&lt;/code&gt;„ÄÇ&lt;br&gt;\n&lt;strong&gt;const Ê≥õÂûã&lt;/strong&gt;: ‰ªéËøôÂÑøÁöÑÂèØ‰ª•Â§ßÊ¶ÇÂèØ‰ª•ÁúãÂá∫Ôºå&lt;code&gt;Quantity&lt;/code&gt;ÁöÑÊ≥õÂûãÂèÇÊï∞ÊòØ‰∏Ä‰∏™constÂ∏∏ÈáèÔºåÂåÖË£ÖÊØè‰∏Ä‰∏™&lt;code&gt;units.rs&lt;/code&gt;‰∏≠ÁöÑconstÂ∏∏ÈáèÂÄº„ÄÇËøôÂ∞±ÊòØconst genericsÂêß! ÂêéÈù¢ÁöÑÂÆû‰æãÂåñÊ†πÊçÆÁ±ªÂûãÊé®ÂØºÂ∫îËØ•ÂèàÂèØ‰ª•ÂÜôÂÅöÔºö&lt;code&gt;Quantity&amp;lt;{ units::m }&amp;gt; { raw_value: 1.0 }&lt;/code&gt;„ÄÇ ÊâÄ‰ª•ÊòØÁî®&lt;code&gt;raw_value&lt;/code&gt;Êù•Ë°®Á§∫ÊØè‰∏Ä‰∏™Âçï‰ΩçÁöÑÁ≥ªÊï∞„ÄÇ&lt;/p&gt;\n&lt;p&gt;ÊâÄ‰ª•ÂÜçÊù•ÁúãÁúã&lt;code&gt;Quantity&lt;/code&gt;ÁöÑÂÆö‰πâÂêß„ÄÇ&lt;/p&gt;\n&lt;p&gt;###ÁªìÊûÑ‰Ωì &lt;code&gt;Quantity&lt;/code&gt;ÁöÑÂÆö‰πâ&lt;/p&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs\&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;#[derive(Copy, Clone, Debug, PartialEq, PartialOrd)]\n#[repr(transparent)]\npub struct Quantity&amp;lt;const U: SiUnit&amp;gt; {\n    pub raw_value: f64,\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÁÆÄÂçïÂπ≤ËÑÜÁöÑ‰ΩøÁî®const Á±ªÂûã‰Ωú‰∏∫Ê≥õÂûãÂèÇÊï∞„ÄÇ&lt;/p&gt;\n&lt;h3 id=\&#34;Âä†ÂáèËøêÁÆó\&#34;&gt;Âä†ÂáèËøêÁÆó&lt;/h3&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs\&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;impl&amp;lt;const U: SiUnit&amp;gt; ops::Add for Quantity&amp;lt;U&amp;gt; {\n    type Output = Self;\n\n    fn add(self, rhs: Self) -&amp;gt; Self {\n        Self { raw_value: self.raw_value + rhs.raw_value }\n    }\n}\n\nimpl&amp;lt;const U: SiUnit&amp;gt; ops::AddAssign for Quantity&amp;lt;U&amp;gt; {\n    fn add_assign(&amp;amp;mut self, rhs: Self) {\n        self.raw_value += rhs.raw_value;\n    }\n}\n\nimpl&amp;lt;const U: SiUnit&amp;gt; ops::Sub for Quantity&amp;lt;U&amp;gt; {\n    type Output = Self;\n\n    fn sub(self, rhs: Self) -&amp;gt; Self {\n        Self { raw_value: self.raw_value - rhs.raw_value }\n    }\n}\n\nimpl&amp;lt;const U: SiUnit&amp;gt; ops::SubAssign for Quantity&amp;lt;U&amp;gt; {\n    fn sub_assign(&amp;amp;mut self, rhs: Self) {\n        self.raw_value -= rhs.raw_value;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Áî±‰∫éÂä†ÂáèËøêÁÆóÂπ∂‰∏ç‰ºöÂèòÂçï‰ΩçÔºåÊâÄ‰ª•Â∞±ÊòØÂØπÁ≥ªÊï∞ÁöÑÂä†ÂáèÔºåÈùûÂ∏∏Áõ¥Êé•„ÄÇ&lt;/p&gt;\n&lt;h3 id=\&#34;‰πòÈô§ËøêÁÆó\&#34;&gt;‰πòÈô§ËøêÁÆó&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;‰∏Ä‰∏™Êï∞Â≠ó‰∏é‰∏Ä‰∏™QuantityÁõ∏‰πòÔºåÂçï‰Ωç‰∏çÂèòÔºö&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs\&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;impl&amp;lt;const U: SiUnit&amp;gt; ops::Mul&amp;lt;f64&amp;gt; for Quantity&amp;lt;U&amp;gt; {\n    type Output = Quantity&amp;lt;U&amp;gt;;\n\n    fn mul(self, rhs: f64) -&amp;gt; Self::Output {\n        Quantity { raw_value: self.raw_value * rhs }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;‰∏§‰∏™Â∏¶Âçï‰ΩçÁöÑÈáèÁõ∏‰πòÔºåÂçï‰ΩçÂèëÁîüÂèòÂåñÔºå‰πüÂ∞±ÊòØ&lt;code&gt;Quantity&amp;lt;U&amp;gt;&lt;/code&gt;ÁöÑÊ≥õÂûãÂèÇÊï∞ÂèëÁîü‰∫ÜÂèòÂåñÔºåÊ≠§Êó∂ÈúÄË¶ÅÈáçÊñ∞ÂÆû‰æãÂåñ‰∏Ä‰∏™&lt;code&gt;Quantity&amp;lt;U&amp;gt;&lt;/code&gt;ÁªìÊûÑ‰ΩìÔºö&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;a href=\&#34;https://docs.rs/crate/const_unit_poc/1.0.0/source/src/lib.rs\&#34;&gt;&lt;code&gt;./src/lib.rs&lt;/code&gt;&lt;/a&gt;Ôºö&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;// QuantityÁõ∏‰πòËΩ¨Êç¢‰∏∫unitÁõ∏‰πòÔºåUL.unit_mul(UR)\nimpl&amp;lt;const UL: SiUnit, const UR: SiUnit&amp;gt; ops::Mul&amp;lt;Quantity&amp;lt;UR&amp;gt;&amp;gt; for Quantity&amp;lt;UL&amp;gt;\nwhere\n    Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;: ,\n{\n    type Output = Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;;\n\n    fn mul(self, rhs: Quantity&amp;lt;UR&amp;gt;) -&amp;gt; Self::Output {\n        Quantity { raw_value: self.raw_value * rhs.raw_value }\n    }\n}\n// unitÁõ∏‰πò\nimpl SiUnit {\n    const fn unit_mul(self, rhs: Self) -&amp;gt; Self {\n        Self {\n            m: self.m + rhs.m,\n            kg: self.kg + rhs.kg,\n            s: self.s + rhs.s,\n            A: self.A + rhs.A,\n            K: self.K + rhs.K,\n            mol: self.mol + rhs.mol,\n            cd: self.cd + rhs.cd,\n        }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;ËøôÂÑøÂØπÊ≥õÂûãÁöÑÁ∫¶ÊùüÂæàÁ•ûÂ•áÔºåÁ´üÁÑ∂ÊòØËøôÊ†∑ÂÜô&lt;code&gt;Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;:&lt;/code&gt; ÔºåÂ¶ÇÊûúÂéªÊéâËøô‰∏™whereÔºåÂàô‰ºöÊä•Èîôunconstrained generic constant„ÄÇËôΩÁÑ∂Áé∞Âú®Ëøò‰∏çÊáÇÊòØ‰ªÄ‰πàÊÑèÊÄù....&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code&gt;error: unconstrained generic constant\n   --&amp;gt; src\\lib.rs:156:5\n    |\n156 |     type Output = Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;;     \n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^     \n    |\nhelp: consider adding a `where` bound for this expression  \n   --&amp;gt; src\\lib.rs:156:28\n    |\n156 |     type Output = Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;;     \n    |                            ^^^^^^^^^^^^^^^^^^^     \n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;Âè¶Â§ñ‰∏ÄÁÇπÔºåÊ≥õÂûã‰∏≠ÁöÑconstÊòØË∞ÉÁî®‰∏Ä‰∏™const fnÂæóÂà∞ÁöÑÊó∂ÂÄôÔºåËøô‰∏™Êó∂ÂÄôÈúÄË¶ÅÊâìÂ§ßÊã¨Âè∑ÔºåÂ¶ÇÔºö&lt;code&gt;Quantity&amp;lt;{ UL.unit_mul(UR) }&amp;gt;&lt;/code&gt; ÔºåÂê¶Âàô‰πü‰ºöÂá∫Èîô„ÄÇËøôÂú®ÊúÄËøëÁöÑ&lt;a href=\&#34;https://github.com/rust-lang/rust/pull/79135\&#34;&gt;Stabilization report&lt;/a&gt;ÈáåÈù¢‰πüÊúâÊèêÂà∞„ÄÇ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;Const arguments&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Const parameters are instantiated using const arguments. Any concrete const expression or const parameter as a standalone argument can be used. When applying an expression as const parameter, &lt;strong&gt;most expressions must be contained within a block&lt;/strong&gt;, with two exceptions:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;literals and single-segment path expressions&lt;/li&gt;\n&lt;li&gt;array lengths&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;This syntactic restriction is necessary to avoid ambiguity, or requiring infinite lookahead when parsing an expression as a generic argument.&lt;/p&gt;\n&lt;p&gt;In the cases where a generic argument could be resolved as either a type or const argument, we always interpret it as a type. This causes the following test to fail:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;type N = u32;\nstruct Foo&amp;lt;const N: usize&amp;gt;;\nfn foo&amp;lt;const N: usize&amp;gt;() -&amp;gt; Foo&amp;lt;N&amp;gt; { todo!() } // ERR\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;To circumvent this, the user may wrap the const parameter with braces, at which point it is unambiguously accepted.&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-rust\&#34;&gt;type N = u32;\nstruct Foo&amp;lt;const N: usize&amp;gt;;\nfn bar&amp;lt;const N: usize&amp;gt;() -&amp;gt; Foo&amp;lt;{ N }&amp;gt; { todo!() } // ok\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;ÁÆÄÂçïÊù•ËØ¥Ôºåconst Ê≥õÂûã‰∏ÄËà¨ÈÉΩÈúÄË¶ÅÊâìÂ§ßÊã¨Âè∑(‰∏§ÁßçÊÉÖÂÜµÈô§Â§ñ)ÔºåÊâìÂ§ßÊã¨Âè∑ÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢Ê≠ß‰πâ„ÄÇ&lt;/p&gt;\n&lt;h2 id=\&#34;ÊÄªÁªì\&#34;&gt;ÊÄªÁªì&lt;/h2&gt;\n&lt;p&gt;ËøôÁØáÊñáÁ´†‰∏ªË¶ÅÊòØ‰∫ÜËß£‰∫Üconst Ê≥õÂûãÂú®ÂÅöÂï•Ôºå‰ª•ÂèäÂ¶Ç‰ΩïÂÅöÁöÑ„ÄÇ&lt;/p&gt;\n&lt;p&gt;ÈÄöËøáËøô‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåÊàëÊÑüËßâconst Ê≥õÂûãÊòØÁî®Âú®ÂΩìÊ≥õÂûãÈúÄË¶ÅÊúâÂèñÂÄºÁöÑÊó∂ÂÄôÔºàÊØîÂ¶ÇËøôÈáåÁöÑunitÂ∞±ÈúÄË¶ÅÂèñÂÄºÔºåËÄå‰∏çËÉΩÊØè‰∏Ä‰∏™Âçï‰Ωç‰∏Ä‰∏™Á±ªÂûã...Ôºâ„ÄÇ&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;rust-const-fan-xing-const-genericsde-shi-yong-fang-fa-jie-xi-const_unit_poc_&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;ÂØπ‰∫éconst Ê≥õÂûãÔºåÁ¨îËÄÖ‰πü‰∫ÜËß£ÁîöÂ∞ë„ÄÇÂÄüÂÜôËØ•ÊñáÁ´†ÁöÑÊú∫‰ºöÔºåÂ≠¶‰π†‰∏Ä‰∏ãRustÁöÑconst Ê≥õÂûã(Const Generics)&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34;Rust const Ê≥õÂûã (Const Generics)ÁöÑ‰ΩøÁî®ÊñπÊ≥ïÔºöËß£Êûêconst_unit_poc&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;const&#34;,&#34;slug&#34;:&#34;Op9tNmAIW&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/Op9tNmAIW/&#34;},{&#34;name&#34;:&#34;Ê≥õÂûã&#34;,&#34;slug&#34;:&#34;BCk2FVrJcy&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/BCk2FVrJcy/&#34;},{&#34;name&#34;:&#34;rust&#34;,&#34;slug&#34;:&#34;PUCwH47Rx&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/PUCwH47Rx/&#34;}],&#34;date&#34;:&#34;2020-11-23 20:15:59&#34;,&#34;dateFormat&#34;:&#34;2020-11-23&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/rust-const-fan-xing-const-genericsde-shi-yong-fang-fa-jie-xi-const_unit_poc_/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;8 min read&#34;,&#34;time&#34;:460000,&#34;words&#34;:1592,&#34;minutes&#34;:8},&#34;description&#34;:&#34;ÂØπ‰∫éconst Ê≥õÂûãÔºåÁ¨îËÄÖ‰πü‰∫ÜËß£ÁîöÂ∞ë„ÄÇÂÄüÂÜôËØ•ÊñáÁ´†ÁöÑÊú∫‰ºöÔºåÂ≠¶‰π†‰∏Ä‰∏ãRustÁöÑconst Ê≥õÂûã(Const Generics)\n\nconst_unit_poc ÔºöÂà©Áî®const genericsÂÆûÁé∞ÁöÑÁâ©ÁêÜÂçï‰ΩçÂ∫ì\nconst_unit_poc  ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#const_unit_poc-%E5%88%A9%E7%94%A8const-generics%E5%AE%9E%E7%8E%B0%E7%9A%84%E7%89%A9%E7%90%86%E5%8D%95%E4%BD%8D%E5%BA%93\&#34;&gt;&lt;code&gt;const_unit_poc&lt;/code&gt; ÔºöÂà©Áî®const genericsÂÆûÁé∞ÁöÑÁâ©ÁêÜÂçï‰ΩçÂ∫ì&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#const_unit_poc-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90\&#34;&gt;&lt;code&gt;const_unit_poc&lt;/code&gt; Ê∫êÁ†ÅÂàÜÊûê&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#units%E7%9A%84%E5%AE%9E%E7%8E%B0\&#34;&gt;unitsÁöÑÂÆûÁé∞&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AF%B9%E5%8D%95%E4%BD%8D%E7%B3%BB%E6%95%B0%E7%9A%84%E5%8C%85%E8%A3%85\&#34;&gt;ÂØπÂçï‰ΩçÁ≥ªÊï∞ÁöÑÂåÖË£Ö&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8A%A0%E5%87%8F%E8%BF%90%E7%AE%97\&#34;&gt;Âä†ÂáèËøêÁÆó&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B9%98%E9%99%A4%E8%BF%90%E7%AE%97\&#34;&gt;‰πòÈô§ËøêÁÆó&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%80%BB%E7%BB%93\&#34;&gt;ÊÄªÁªì&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;Ââç‰∏ÄÊÆµÊó∂Èó¥Áúã‰∫Ü‰∏Ä‰∫õÂÖ≥‰∫éRustÁöÑÂºÇÊ≠•ÁºñÁ®ãÁõ∏ÂÖ≥ÁöÑÁü•ËØÜÔºåÂèóÁõäÂå™ÊµÖÔºåÊïÖÂÅöÊ≠§ËÆ∞ÂΩï„ÄÇ&lt;br&gt;\nRustÂºÇÊ≠•ÁºñÁ®ãÊòØRustËØ≠Ë®Ä‰∏≠ÂçÅÂàÜÈáçË¶ÅÁâπÊÄß„ÄÇÁé∞Âú®Rust‰∏≠ÁöÑÂºÇÊ≠•ÁºñÁ®ãÈááÁî®&lt;code&gt;async/.await&lt;/code&gt;Ëß£ÂÜ≥ÊñπÊ°à„ÄÇ&lt;/p&gt;\n&lt;!-- more --&gt;\n&lt;h1 id=\&#34;1-‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂºÇÊ≠•ÁºñÁ®ã\&#34;&gt;1. ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂºÇÊ≠•ÁºñÁ®ãÔºü&lt;/h1&gt;\n&lt;p&gt;ÂàöÂºÄÂßã‰∏ÄÁõ¥Êúâ‰∏Ä‰∏™ÁñëÈóÆÔºö&lt;strong&gt;Êó¢ÁÑ∂Â∑≤ÁªèÊúâ‰∫ÜÂ§öÁ∫øÁ®ãÊäÄÊúØÔºåÂ§öÁî®Êà∑ËÆøÈóÆÁõ¥Êé•‰ΩøÁî®Â§öÁ∫øÁ®ãÔºå‰∏∫‰ªÄ‰πàËøòÈúÄË¶ÅÂºÇÊ≠•Âë¢Ôºü&lt;/strong&gt; ÂêéÊù•Áªà‰∫éÊòéÁôΩÔºåÂºÇÊ≠•ÊòØÁî®Âú®Â§öÁî®Êà∑&lt;strong&gt;ÂêåÊó∂Â§ÑÁêÜÂêå‰∏ÄËµÑÊ∫ê&lt;/strong&gt;Êó∂ÂÄôÂèëÊå•‰ΩúÁî®ÁöÑ„ÄÇ&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;Áé∞Âú®Áî®100‰∏™Áî®Êà∑ÂêåÊó∂‰øÆÊîπ‰∏Ä‰∏™Êñá‰ª∂Êù•‰∏æ‰æãÔºö\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;ÂêåÊ≠•&lt;/strong&gt;(‰∏ÄËà¨‰πüÊòØ&lt;strong&gt;ÈòªÂ°û&lt;/strong&gt;)Ôºö Á®ãÂ∫èÈúÄË¶ÅÂÆûÁé∞&lt;strong&gt;ËØªÂÜôÈîÅ(&lt;code&gt;std::sync::RwLock&lt;/code&gt;)&lt;strong&gt;Êàñ&lt;/strong&gt;‰∫íÊñ•ÈîÅ(&lt;code&gt;std::sync::Mutex&lt;/code&gt;)&lt;/strong&gt;ÔºåÁ®ãÂ∫è‰ºöÂêåÊó∂‰∫ßÁîü100‰∏™Á∫øÁ®ãÔºå‰ΩÜÊòØÂè™ËÉΩÊúâ‰∏Ä‰∏™Á∫øÁ®ãÊã•ÊúâÂÜôÈîÅÔºåÂÖ∂‰ªñÁöÑ99‰∏™Á∫øÁ®ãÂùá&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Â§Ñ‰∫é&lt;strong&gt;Á≠âÂæÖÁä∂ÊÄÅ&lt;/strong&gt;ÔºåÁ∫øÁ®ã‰∏ç‰ºösleepÔºå‰ºöÂæ™ÁéØËé∑ÂèñÈîÅ(Ëá™ÊóãÈîÅSpinlock)„ÄÇ\n&lt;ul&gt;\n&lt;li&gt;ÈòªÂ°ûÁöÑÁ∫øÁ®ãËøòÊù•ÂèÇ‰∏éÊìç‰ΩúÁ≥ªÁªüÁöÑÊä¢Âç†ÂºèË∞ÉÂ∫¶ÔºåÂæà‰∏çÁßëÂ≠¶ÔºÅ‰∏∫‰ªÄ‰πà‰∏çÂÖàÊéíÂ•ΩÈòüÔºåÁî®‰∏Ä‰∏™Á∫øÁ®ãÂë¢ÔºàËøô‰πüÊòØÂçèÁ®ãÂπ≤ÁöÑ‰∫ãÔºâ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;ÊàñËÄÖÊúâËµ∑ÂßãÁöÑ&lt;strong&gt;Âä†ÈîÅÂºÄÈîÄ&lt;/strong&gt;(ÈÄöÂ∏∏ÊòØÂØπ‰∫íÊñ•ÈîÅÔºö‚ë†Á∫øÁ®ã‰ºö‰ªésleepÔºàÂä†ÈîÅÔºâ‚Äî‚Äî&amp;gt;runningÔºàËß£ÈîÅÔºâÔºåËøáÁ®ã‰∏≠Êúâ‰∏ä‰∏ãÊñáÁöÑÂàáÊç¢ÔºåcpuÁöÑÊä¢Âç†Ôºå‰ø°Âè∑ÁöÑÂèëÈÄÅÁ≠âÂºÄÈîÄÔºõ‚ë°‰∫íÊñ•ÈîÅÂú®sleepÊó∂‰ºöÈô∑ÂÖ•Âà∞ÂÜÖÊ†∏ÊÄÅÔºåÈúÄË¶ÅÊòÇË¥µÁöÑÁ≥ªÁªüË∞ÉÁî®ÔºõÁ∫øÁ®ãÂêëÊìç‰ΩúÁ≥ªÁªüËØ∑Ê±ÇË¢´ÊåÇËµ∑ÊòØÈÄöËøá‰∏Ä‰∏™Á≥ªÁªüË∞ÉÁî®ÔºåÂú®linux‰∏äÁöÑÂÆûÁé∞Â∞±ÊòØfutex)„ÄÇ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;ÂºÇÊ≠•&lt;/strong&gt;(‰∏ÄËà¨‰πüÊòØ&lt;strong&gt;ÈùûÈòªÂ°û&lt;/strong&gt;)Ôºö Â∞Ü100‰∏™Á∫øÁ®ãÊ†πÊçÆ‰∏ÄÂÆöÁöÑÂÖàÂêéÊ¨°Â∫è&lt;strong&gt;ÂêàÂπ∂Êàê‰∏Ä‰∏™Á∫øÁ®ã&lt;/strong&gt;(‰πüÂèØËÉΩÊòØÂ§ö‰∏™Á∫øÁ®ãÔºü)Ôºå Â∞±ÂèØ‰ª•ÈÅøÂÖçÈîÅÁöÑ‰∫ßÁîüÔºå‰ªéËÄåÂáèÂ∞ëÊìç‰ΩúÁ≥ªÁªüÂØπÁ∫øÁ®ãË∞ÉÁî®ÁöÑÂºÄÈîÄ„ÄÇ‰ΩÜÊòØÔºåÂΩìÁ∫øÁ®ã‰πãÈó¥ÂØπËµÑÊ∫êÁöÑ‰æùËµñÂÖ≥Á≥ªÊØîËæÉÂ§çÊùÇÁöÑÊó∂ÂÄôÔºåÁ®ãÂ∫èÁöÑÁºñÂÜôÂ∞±‰ºö&lt;strong&gt;ÂçÅÂàÜÂ§çÊùÇ&lt;/strong&gt;„ÄÇ&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;ÂçèÁ®ã&lt;/strong&gt;(coroutine)Ôºö ÂÆûÁé∞ÂºÇÊ≠•ÁºñÁ®ãÁöÑ‰∏ÄÁßçÊñπÂºèÔºåÊòØÂú®Á∫øÁ®ã‰πã‰∏ãÁöÑ‰∏Ä‰∏™Âçï‰Ωç„ÄÇÂçèÁ®ãÊòØËØ≠Ë®ÄÂ±ÇÈù¢ÊéßÂà∂Êï∞ÊçÆÊµÅÁöÑ‰∏ÄÁßç‚ÄúË∞ÉÂ∫¶‚ÄùÔºàÂ§ÑÁêÜÂÖ¨ÂÖ±ËµÑÊ∫êÁöÑÊó∂ÂÄôÔºåÁõ∏ÂΩì‰∫é&lt;strong&gt;Áî®Êà∑ÊÄÅÁöÑÈîÅ&lt;/strong&gt;ÔºâÔºå Á∫øÁ®ãÊòØÊìç‰ΩúÁ≥ªÁªüÂ±ÇÈù¢ÁöÑ‚ÄúË∞ÉÂ∫¶‚ÄùÔºàÂ§ÑÁêÜÂÖ¨ÂÖ±ËµÑÊ∫êÔºå‰ΩøÁî®&lt;strong&gt;Êìç‰ΩúÁ≥ªÁªüÊàñËÄÖÁ°¨‰ª∂ÁöÑÈîÅ(Âç≥MutexÊàñËÄÖSpinlock)&lt;/strong&gt;Ôºâ„ÄÇÂçèÁ®ãÁöÑË∞ÉÂ∫¶ÊòØÁºñËØëÂô®ÈÄöËøáÁªÑÁªáËøêÁÆóÈ°∫Â∫èÂÆûÁé∞ÁöÑÔºàÈÄöËøáÁîüÊàêÂô®ÔºàÁ≠âÂêå‰∫é‰∏Ä‰∏™Áä∂ÊÄÅÊú∫ÔºâÂÆûÁé∞ÔºâÔºåÁ∫øÁ®ãÊòØÈÄöËøáÊìç‰ΩúÁ≥ªÁªüÊù•ËøõË°åÊä¢Âç†ÂºèË∞ÉÂ∫¶ÁöÑ„ÄÇ&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;https://zh.wikipedia.org/wiki/%E5%8D%8F%E7%A8%8B\&#34;&gt;ÂçèÁ®ãwiki&lt;/a&gt;ÔºöÂçèÁ®ãÈùûÂ∏∏Á±ª‰ºº‰∫éÁ∫øÁ®ã„ÄÇ‰ΩÜÊòØÂçèÁ®ãÊòØÂçè‰ΩúÂºèÂ§ö‰ªªÂä°ÁöÑÔºåËÄåÁ∫øÁ®ãÂÖ∏ÂûãÊòØÊä¢Âç†ÂºèÂ§ö‰ªªÂä°ÁöÑ„ÄÇËøôÊÑèÂë≥ÁùÄÂçèÁ®ãÊèê‰æõÂπ∂ÂèëÊÄßËÄåÈùûÂπ∂Ë°åÊÄß„ÄÇÂçèÁ®ãË∂ÖËøáÁ∫øÁ®ãÁöÑÂ•ΩÂ§ÑÊòØÂÆÉ‰ª¨ÂèØ‰ª•Áî®‰∫éÁ°¨ÊÄßÂÆûÊó∂ÁöÑËØ≠Â¢ÉÔºàÂú®ÂçèÁ®ã‰πãÈó¥ÁöÑÂàáÊç¢‰∏çÈúÄË¶ÅÊ∂âÂèä‰ªª‰ΩïÁ≥ªÁªüË∞ÉÁî®Êàñ‰ªª‰ΩïÈòªÂ°ûË∞ÉÁî®ÔºâÔºåËøôÈáå‰∏çÈúÄË¶ÅÁî®Êù•ÂÆàÂç´ÂÖ≥ÈîÆÂå∫ÂùóÁöÑÂêåÊ≠•ÊÄßÂéüËØ≠ÔºàprimitiveÔºâÊØîÂ¶Ç‰∫íÊñ•ÈîÅ„ÄÅ‰ø°Âè∑ÈáèÁ≠âÔºåÂπ∂‰∏î‰∏çÈúÄË¶ÅÊù•Ëá™Êìç‰ΩúÁ≥ªÁªüÁöÑÊîØÊåÅ„ÄÇ&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;https://www.zhihu.com/question/332113890/answer/1052024052\&#34;&gt;‰∫íÊñ•ÈîÅÔºàmutexÔºâÁöÑÂ∫ïÂ±ÇÂéüÁêÜÊòØ‰ªÄ‰πàÔºü&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;https://www.zhihu.com/question/50185085/answer/1342613525\&#34;&gt;Âá∫‰∫é‰ªÄ‰πàÊ†∑ÁöÑÂéüÂõ†ÔºåËØûÁîü‰∫Ü„ÄåÂçèÁ®ã„ÄçËøô‰∏ÄÊ¶ÇÂøµÔºü&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;ÊâÄ‰ª•ÔºåÂºÇÊ≠•ÁºñÁ®ãÊòØÂèØ‰ª•Áõ¥Êé•Áî®Â§çÊùÇÁöÑ‰ª£Á†ÅÁªìÊûÑÁõ¥Êé•ÂÜôÂá∫Êù•ÁöÑ„ÄÇÊØîÂ¶Ç‰∏äÈù¢ÁöÑ‰æãÂ≠êÂ∞±ÊòØÂú®‰∏Ä‰∏™Á∫øÁ®ãÈáåÈù¢Âéª‰æùÊ¨°ËØªÂÜô100Ê¨°„ÄÇËÄåRustÁöÑ&lt;code&gt;async/.await&lt;/code&gt;Ëß£ÂÜ≥ÊñπÊ°àÂÅöÁöÑÂ∑•‰ΩúÊòØ &lt;strong&gt;‚ÄúÂ∞ÜÂ§çÊùÇÁöÑÂºÇÊ≠•‰ª£Á†Å ===&amp;gt; Âà©Áî®ËØ≠Ê≥ïÁ≥ñ ===&amp;gt; ËΩ¨Âåñ‰∏∫Á±ª‰ºº‰∫éÂêåÊ≠•ÁöÑ‰ª£Á†Å(Êõ¥ÂÆπÊòìcoding)‚Äù&lt;/strong&gt;  Âç≥ &lt;strong&gt;‚ÄúÁî®ÂêåÊ≠•ÁöÑËØ≠‰πâËß£ÂÜ≥ÂºÇÊ≠•ÈóÆÈ¢ò‚Äù&lt;/strong&gt; „ÄÇ&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;rust-yi-bu&#34;,&#34;abstract&#34;:&#34;&lt;p&gt;Ââç‰∏ÄÊÆµÊó∂Èó¥Áúã‰∫Ü‰∏Ä‰∫õÂÖ≥‰∫éRustÁöÑÂºÇÊ≠•ÁºñÁ®ãÁõ∏ÂÖ≥ÁöÑÁü•ËØÜÔºåÂèóÁõäÂå™ÊµÖÔºåÊïÖÂÅöÊ≠§ËÆ∞ÂΩï„ÄÇ&lt;br&gt;\nRustÂºÇÊ≠•ÁºñÁ®ãÊòØRustËØ≠Ë®Ä‰∏≠ÂçÅÂàÜÈáçË¶ÅÁâπÊÄß„ÄÇÁé∞Âú®Rust‰∏≠ÁöÑÂºÇÊ≠•ÁºñÁ®ãÈááÁî®&lt;code&gt;async/.await&lt;/code&gt;Ëß£ÂÜ≥ÊñπÊ°à„ÄÇ&lt;/p&gt;\n&#34;,&#34;title&#34;:&#34; Rust ÂºÇÊ≠•Âπ∂ÂèëÔºà‰∏ÄÔºâ&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;rust&#34;,&#34;slug&#34;:&#34;PUCwH47Rx&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/PUCwH47Rx/&#34;},{&#34;name&#34;:&#34;ÂºÇÊ≠•ÁºñÁ®ã&#34;,&#34;slug&#34;:&#34;hDYBWTXHUV&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/hDYBWTXHUV/&#34;}],&#34;date&#34;:&#34;2020-11-22 23:07:53&#34;,&#34;dateFormat&#34;:&#34;2020-11-22&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/rust-yi-bu/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:187000,&#34;words&#34;:907,&#34;minutes&#34;:4},&#34;description&#34;:&#34;Ââç‰∏ÄÊÆµÊó∂Èó¥Áúã‰∫Ü‰∏Ä‰∫õÂÖ≥‰∫éRustÁöÑÂºÇÊ≠•ÁºñÁ®ãÁõ∏ÂÖ≥ÁöÑÁü•ËØÜÔºåÂèóÁõäÂå™ÊµÖÔºåÊïÖÂÅöÊ≠§ËÆ∞ÂΩï„ÄÇ\nRustÂºÇÊ≠•ÁºñÁ®ãÊòØRustËØ≠Ë®Ä‰∏≠ÂçÅÂàÜÈáçË¶ÅÁâπÊÄß„ÄÇÁé∞Âú®Rust‰∏≠ÁöÑÂºÇÊ≠•ÁºñÁ®ãÈááÁî®async/.awaitËß£ÂÜ≥ÊñπÊ°à„ÄÇ\n\n1. ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂºÇÊ≠•ÁºñÁ®ãÔºü\nÂàöÂºÄÂßã‰∏ÄÁõ¥Êúâ‰∏Ä‰∏™ÁñëÈóÆÔºöÊó¢...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#1-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B\&#34;&gt;1. ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂºÇÊ≠•ÁºñÁ®ãÔºü&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;blockquote&gt;\n&lt;p&gt;Ê¨¢ËøéÊù•Âà∞ÊàëÁöÑÂ∞èÁ´ôÂëÄÔºåÂæàÈ´òÂÖ¥ÈÅáËßÅ‰Ω†ÔºÅü§ù&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;ÂÖ≥‰∫éÊú¨Á´ô\&#34;&gt;üè† ÂÖ≥‰∫éÊú¨Á´ô&lt;/h2&gt;\n&lt;p&gt;‰∏Ä‰∏™Ëá™ËØ¥Ëá™ËØùÁöÑÂú∞Êñπ„ÄÇ&lt;/p&gt;\n&lt;h2 id=\&#34;Âçö‰∏ªÊòØË∞Å\&#34;&gt;üë®‚Äçüíª Âçö‰∏ªÊòØË∞Å&lt;/h2&gt;\n&lt;p&gt;‰∏ÄÂè™Âú®ÊØï‰∏öËæπÁºòÊå£ÊâéÁöÑÁßÉÂ§¥ÊÄ™„ÄÇ&lt;/p&gt;\n&lt;h2 id=\&#34;ÂÖ¥Ë∂£Áà±Â•Ω\&#34;&gt;‚õπ ÂÖ¥Ë∂£Áà±Â•Ω&lt;/h2&gt;\n&lt;p&gt;coding~&lt;br&gt;\n‰ª•Âèä‰∏ÄÂàáÊúâË∂£ÁöÑ‰∫ãÊÉÖ‰ª¨~&lt;/p&gt;\n&lt;h2 id=\&#34;ËÅîÁ≥ªÊàëÂëÄ\&#34;&gt;üì¨ ËÅîÁ≥ªÊàëÂëÄ&lt;/h2&gt;\n&lt;p&gt;thubzy15@foxmail.com&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;about&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;ÂÖ≥‰∫é&#34;,&#34;tags&#34;:[],&#34;date&#34;:&#34;2020-11-22 17:21:05&#34;,&#34;dateFormat&#34;:&#34;2020-11-22&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/about/&#34;,&#34;hideInList&#34;:true,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:14000,&#34;words&#34;:67,&#34;minutes&#34;:1},&#34;description&#34;:&#34;\nÊ¨¢ËøéÊù•Âà∞ÊàëÁöÑÂ∞èÁ´ôÂëÄÔºåÂæàÈ´òÂÖ¥ÈÅáËßÅ‰Ω†ÔºÅü§ù\n\nüè† ÂÖ≥‰∫éÊú¨Á´ô\n‰∏Ä‰∏™Ëá™ËØ¥Ëá™ËØùÁöÑÂú∞Êñπ„ÄÇ\nüë®‚Äçüíª Âçö‰∏ªÊòØË∞Å\n‰∏ÄÂè™Âú®ÊØï‰∏öËæπÁºòÊå£ÊâéÁöÑÁßÉÂ§¥ÊÄ™„ÄÇ\n‚õπ ÂÖ¥Ë∂£Áà±Â•Ω\ncoding~\n‰ª•Âèä‰∏ÄÂàáÊúâË∂£ÁöÑ‰∫ãÊÉÖ‰ª¨~\nüì¨ ËÅîÁ≥ªÊàëÂëÄ\nthubzy15@foxmail.c...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99\&#34;&gt;üè† ÂÖ≥‰∫éÊú¨Á´ô&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8D%9A%E4%B8%BB%E6%98%AF%E8%B0%81\&#34;&gt;üë®‚Äçüíª Âçö‰∏ªÊòØË∞Å&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD\&#34;&gt;‚õπ ÂÖ¥Ë∂£Áà±Â•Ω&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%81%94%E7%B3%BB%E6%88%91%E5%91%80\&#34;&gt;üì¨ ËÅîÁ≥ªÊàëÂëÄ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;‰ªé&lt;strong&gt;‰ªäÂ§©&lt;/strong&gt;ÂºÄÂßãËÆ∞ÂΩïÂ≠¶‰π†ÂíåÁîüÊ¥ª„ÄÇ&lt;/p&gt;\n&lt;p&gt;Êàë‰πüÊòØ‰∏Ä‰∏™ÊáíÊÉ∞ÁöÑÂ∞èÂçö‰∏ªÂï¶~üòã&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;2020112-yi-shi&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;2020.11.22 ‰ºäÂßã&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Èöè‰æøÂÜôÂÜô&#34;,&#34;slug&#34;:&#34;xMGkC-iLRF&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://Busy-Bob.github.io/tag/xMGkC-iLRF/&#34;}],&#34;date&#34;:&#34;2020-11-22 16:45:04&#34;,&#34;dateFormat&#34;:&#34;2020-11-22&#34;,&#34;feature&#34;:&#34;https://Busy-Bob.github.io/post-images/2020112-yi-shi.jpg&#34;,&#34;link&#34;:&#34;https://Busy-Bob.github.io/post/2020112-yi-shi/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:4000,&#34;words&#34;:24,&#34;minutes&#34;:1},&#34;description&#34;:&#34;‰ªé‰ªäÂ§©ÂºÄÂßãËÆ∞ÂΩïÂ≠¶‰π†ÂíåÁîüÊ¥ª„ÄÇ\nÊàë‰πüÊòØ‰∏Ä‰∏™ÊáíÊÉ∞ÁöÑÂ∞èÂçö‰∏ªÂï¶~üòã\n&#34;,&#34;toc&#34;:&#34;&#34;}]";
  // var json = escape.substr(1, escape.length - 2);
  // var datas = json.split(',');
  // for (let i=0; i < datas.length; i++) {
  //   let item = datas[i];
  //   let attrs = item.split('34;:&#34')
  //   debugger
  //   console.log(datas[i])
  // }
  let escapeMap = new Map();
  escapeMap.set('&#34;', '"');
  escapeMap.set('&gt;', '>');
  escapeMap.set('&#39;', "'");
  escapeMap.set('&lt;', '<');
  escapeMap.set('&quot;', '"');
  escapeMap.set('&amp;', '&');
</script> -->

<script src="/media/js/mouse/love.js"></script>


<script src=" /media/js/cool.js"></script>


</html>